const _0x377a4d=_0x51c3;(function(_0x18ad0a,_0x38988e){const _0x2dd3b6=_0x51c3,_0x5addad=_0x18ad0a();while(!![]){try{const _0x41f8a9=-parseInt(_0x2dd3b6(0x1d9))/0x1+-parseInt(_0x2dd3b6(0x10c))/0x2*(parseInt(_0x2dd3b6(0x1dc))/0x3)+-parseInt(_0x2dd3b6(0x15e))/0x4*(-parseInt(_0x2dd3b6(0x155))/0x5)+-parseInt(_0x2dd3b6(0x1de))/0x6*(parseInt(_0x2dd3b6(0x194))/0x7)+parseInt(_0x2dd3b6(0x18b))/0x8+parseInt(_0x2dd3b6(0x197))/0x9+parseInt(_0x2dd3b6(0x173))/0xa;if(_0x41f8a9===_0x38988e)break;else _0x5addad['push'](_0x5addad['shift']());}catch(_0x4363cd){_0x5addad['push'](_0x5addad['shift']());}}}(_0x405a,0x3c8a4));const firebaseConfig={'apiKey':'AIzaSyCvizcYorGDPN3GXqma0opp7wAiMkaCt64','authDomain':_0x377a4d(0x1a4),'databaseURL':_0x377a4d(0x150),'projectId':'gemini-bb56e','storageBucket':'gemini-bb56e.appspot.com','messagingSenderId':'277143630015','appId':_0x377a4d(0x107),'measurementId':_0x377a4d(0x17d)};firebase[_0x377a4d(0x1c9)](firebaseConfig);const db=firebase[_0x377a4d(0x10b)](),storage=firebase[_0x377a4d(0x10e)]();let currentUser=null,documents=[],currentPage=0x1;const documentsPerPage=0xc;function loadUserInfo(){const _0x2ac741=_0x377a4d,_0x4d746b=JSON[_0x2ac741(0x1ac)](localStorage[_0x2ac741(0x191)](_0x2ac741(0x1aa)));_0x4d746b&&_0x4d746b[_0x2ac741(0x16b)]?db['ref'](_0x2ac741(0x114)+_0x4d746b[_0x2ac741(0x16b)])['once'](_0x2ac741(0x102),_0x1d4be0=>{const _0x2afd52=_0x2ac741,_0x336762=_0x1d4be0[_0x2afd52(0x13b)]();_0x336762?(currentUser={..._0x4d746b,'freeCredits':_0x336762[_0x2afd52(0x196)],'paidCredits':_0x336762['paidCredits']},document[_0x2afd52(0x156)](_0x2afd52(0x16b))[_0x2afd52(0x13c)]=currentUser['username'],document[_0x2afd52(0x156)]('availableCredits')[_0x2afd52(0x13c)]=currentUser['paidCredits'],document[_0x2afd52(0x156)](_0x2afd52(0x11c))['classList'][_0x2afd52(0x108)](_0x2afd52(0xf3)),localStorage[_0x2afd52(0x168)](_0x2afd52(0x1aa),JSON[_0x2afd52(0x139)](currentUser))):window[_0x2afd52(0x13a)]['href']=_0x2afd52(0x138);}):window[_0x2ac741(0x13a)][_0x2ac741(0x18c)]='index.html';}function purchaseDocument(_0x2f8036){const _0x19454c=_0x377a4d;console[_0x19454c(0x129)](_0x19454c(0xe4));const _0xf13ef=_0x2f8036['id'],_0x3aab76=_0x2f8036[_0x19454c(0xe8)],_0x282641=_0x2f8036[_0x19454c(0x18d)];console['log'](_0x19454c(0x171)+_0xf13ef+_0x19454c(0x14c)+_0x3aab76+_0x19454c(0x1c6)+_0x282641+_0x19454c(0x1a6));if(currentUser[_0x19454c(0x11a)]>=_0x282641){console[_0x19454c(0x129)](_0x19454c(0x1ae));const _0x3185e0=db['ref'](_0x19454c(0x114)+currentUser['username']);_0x3185e0[_0x19454c(0xe9)](_0x1629ec=>{const _0x49bdc2=_0x19454c;console[_0x49bdc2(0x129)](_0x49bdc2(0x181),_0x1629ec);if(_0x1629ec)return _0x1629ec[_0x49bdc2(0x11a)]-=_0x282641,console[_0x49bdc2(0x129)]('Données\x20utilisateur\x20après\x20mise\x20à\x20jour',_0x1629ec),_0x1629ec;return null;},(_0x569cf2,_0x5d7999,_0x5d6483)=>{const _0x19c3e0=_0x19454c;if(_0x569cf2){console[_0x19c3e0(0x1ab)](_0x19c3e0(0x1b9),_0x569cf2),alert('Une\x20erreur\x20s\x27est\x20produite\x20lors\x20de\x20l\x27achat.\x20Veuillez\x20réessayer.');return;}if(!_0x5d7999){console[_0x19c3e0(0x129)]('La\x20transaction\x20n\x27a\x20pas\x20été\x20appliquée'),alert(_0x19c3e0(0xff));return;}console['log']('Transaction\x20réussie,\x20enregistrement\x20de\x20la\x20vente');const _0x3c62c1=_0x5d6483['val']();console[_0x19c3e0(0x129)](_0x19c3e0(0x16f),_0x3c62c1),currentUser['paidCredits']=_0x3c62c1[_0x19c3e0(0x11a)],document['getElementById']('availableCredits')[_0x19c3e0(0x13c)]=currentUser['paidCredits'],localStorage[_0x19c3e0(0x168)](_0x19c3e0(0x1aa),JSON[_0x19c3e0(0x139)](currentUser));const _0x53b816=db['ref'](_0x19c3e0(0x10d))[_0x19c3e0(0xec)]();_0x53b816[_0x19c3e0(0x1d5)]({'documentId':_0xf13ef,'documentTitle':_0x3aab76,'price':_0x282641,'buyerUsername':currentUser['username'],'date':firebase[_0x19c3e0(0x10b)][_0x19c3e0(0x117)][_0x19c3e0(0x14a)]})[_0x19c3e0(0x167)](()=>{const _0x1c5ddf=_0x19c3e0;console[_0x1c5ddf(0x129)](_0x1c5ddf(0x185)),alert(_0x1c5ddf(0x1a7)+_0x3aab76+_0x1c5ddf(0x121)+_0x282641+'\x20crédits.'),closeModal(_0x1c5ddf(0x12f)),addToHistory(_0x1c5ddf(0x1ad)+_0x3aab76),openDocumentModal(_0x2f8036),loadDocuments();})[_0x19c3e0(0xfd)](_0x239ad0=>{const _0x1c9497=_0x19c3e0;console[_0x1c9497(0x1ab)](_0x1c9497(0x136),_0x239ad0),alert(_0x1c9497(0x1a9));});});}else console[_0x19454c(0x129)](_0x19454c(0x126)),alert(_0x19454c(0x1b5));}function setupCreditListener(){const _0x3c5f0e=_0x377a4d;if(currentUser&&currentUser[_0x3c5f0e(0x16b)]){const _0x28148b=db[_0x3c5f0e(0x1d8)]('users/'+currentUser[_0x3c5f0e(0x16b)]);_0x28148b['on']('value',_0x3dbd85=>{const _0x2aa337=_0x3c5f0e,_0x35b0eb=_0x3dbd85[_0x2aa337(0x13b)]();_0x35b0eb&&(currentUser[_0x2aa337(0x11a)]=_0x35b0eb[_0x2aa337(0x11a)],document['getElementById'](_0x2aa337(0x1b1))[_0x2aa337(0x13c)]=currentUser[_0x2aa337(0x11a)],localStorage[_0x2aa337(0x168)]('eduqueMoiUserData',JSON['stringify'](currentUser)));});}}function _0x405a(){const _0x4a6875=['ref','62888HWKuDg','querySelector','Veuillez\x20vous\x20connecter\x20pour\x20accéder\x20à\x20votre\x20bibliothèque.','1761IFnXPW','Aucune\x20description\x20disponible.','734334HXNRsc','position','\x22\x20alt=\x22','.close-full-window','8px','https://votre-site.com/document/','Erreur\x20lors\x20du\x20chargement\x20de\x20la\x20bibliothèque.','Début\x20de\x20la\x20fonction\x20purchaseDocument','Documents\x20filtrés:','commentsContainer','rgba(0,\x200,\x200,\x200.9)','title','transaction','target','dark','push','classList','borderRadius','none','Chargement\x20des\x20commentaires...','documents','keys','hidden','opacity','querySelectorAll','opacity\x200.3s\x20ease-in-out','rgba(0,\x200,\x200,\x200.5)','<i\x20class=\x22fas\x20fa-times\x22></i>','Utilisateur\x20connecté:','documentContainer','\x22>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>','length','catch','alt','L\x27achat\x20n\x27a\x20pas\x20pu\x20être\x20effectué.\x20Veuillez\x20réessayer.','Ouverture\x20du\x20document\x20hors\x20ligne\x20:','substring','value','orderByChild','.rating\x20.fa-star','center','Page\x20','1:277143630015:web:78736f2cf52d29495d160a','remove','imageUrls','keyup','database','998BsqRoX','sales','storage','transform','Fonctionnalité\x20en\x20developpement.','equalTo','timestamp','appendChild','users/','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','ServerValue','rating','ceil','paidCredits','Statut\x20d\x27achat\x20final\x20pour\x20ID:\x20','logoutBtn','zIndex','disabled','Documents\x20achetés\x20par\x20l\x27utilisateur:','width','\x22\x20pour\x20','fas\x20fa-search-minus','filter','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22credits\x22>','toLowerCase','L\x27utilisateur\x20n\x27a\x20pas\x20assez\x20de\x20crédits\x20payants','far','forEach','log','backgroundColor','padding','fullscreenBtn','alignItems','\x20étoiles','documentModal','once','toggle','scale(','entries','documentId','<p>Aucun\x20commentaire\x20pour\x20le\x20moment.</p>','Erreur\x20lors\x20de\x20l\x27enregistrement\x20de\x20la\x20vente:','purchaseBtn','index.html','stringify','location','val','textContent','fixed','includes','modal','10000','fullWindowContainer','offlineBtn','nextPage','visible','<i\x20class=\x22','Erreur\x20lors\x20de\x20la\x20copie\x20du\x20lien\x20de\x20partage.','checked','Utilisation\x20hors\x20ligne\x20du\x20document\x20:','\x0a\x20\x20\x20\x20','TIMESTAMP','setAttribute',',\x20Titre:\x20','5px','Ouverture\x20de\x20la\x20modal\x20pour\x20le\x20document','blurred-page','https://gemini-bb56e-default-rtdb.firebaseio.com','innerHTML','...','textAlign','display','289025YEwekU','getElementById','\x20-\x20Page\x20','toLocaleString','\x20avec\x20','Notation\x20du\x20document\x20:\x20','destroy.owl.carousel','Dézoomer','column','4pprvFx','fas','10px','transition','ratings/','auto','searchInput','<i\x20class=\x22fas\x20fa-chevron-left\x22></i>','Vérification\x20de\x20la\x20vente','then','setItem','Utilisateur\x20non\x20connecté','fas\x20fa-moon','username','Fermer','Vérification\x20du\x20statut\x20d\x27achat\x20pour\x20le\x20document\x20ID:\x20','right','Données\x20utilisateur\x20mises\x20à\x20jour','document-card','Tentative\x20d\x27achat\x20du\x20document\x20ID:\x20','onclick','5167900xxFFpW','flexDirection','removeChild','replace','100vw','0\x205px','createElement','maxHeight','modalCredits','writeText','G-CSN292219J','Le\x20document\x20','className','block','Début\x20de\x20la\x20transaction','prevPage','buyerUsername','description','Vente\x20enregistrée\x20avec\x20succès','border','light','maxWidth','name','documentPreview','34280xQpGJC','href','price','onload','owlCarousel','add','getItem','div','text','21NVHcGT','fas\x20fa-sun','freeCredits','3528540HLnGDW','fas\x20fa-times','</span>\x20-\x20','src','theme','overflowY','white','img','.owl-item.active\x20img','height','key','comment','margin','gemini-bb56e.firebaseapp.com','modalTitle','\x20crédits','Vous\x20avez\x20acheté\x20le\x20document\x20\x22','Zoomer','Une\x20erreur\x20s\x27est\x20produite\x20lors\x20de\x20l\x27enregistrement\x20de\x20l\x27achat.\x20Veuillez\x20contacter\x20le\x20support.','eduqueMoiUserData','error','parse','Achat\x20du\x20document\x20:\x20','L\x27utilisateur\x20a\x20suffisamment\x20de\x20crédits\x20payants','close-full-window','100vh','availableCredits','</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','absolute','<i\x20class=\x22fas\x20fa-chevron-right\x22></i>','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20payants\x20pour\x20acheter\x20ce\x20document.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>',':</strong>\x20','addEventListener','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20crédits:','prepend','top','body','Affichage\x20du\x20document\x20acheté','flex','slice','Lien\x20de\x20partage\x20copié\x20:\x20','100%','Erreur\x20lors\x20de\x20la\x20vérification\x20du\x20statut\x20d\x27achat:',')\x20est-il\x20acheté\u00a0?','documentTitle','Payer\x20ce\x20document\x20pour\x20avoir\x20accès\x20à\x20son\x20contenu','\x20pour\x20','data-theme','trigger','initializeApp','categoryList','justifyContent','style','comments/','pointer','fas\x20fa-search-plus','documents/','dataset','currentPage','cursor','Erreur\x20lors\x20de\x20la\x20copie\x20du\x20lien\x20de\x20partage\x20:','set','removeItem','Erreur\x20lors\x20de\x20l\x27ouverture\x20de\x20la\x20modal\u00a0:'];_0x405a=function(){return _0x4a6875;};return _0x405a();}function checkDocumentPurchaseStatus(_0x778c59,_0x5a18b5){const _0x6b00bb=_0x377a4d;return console[_0x6b00bb(0x129)](_0x6b00bb(0x16d)+_0x778c59+_0x6b00bb(0x14c)+_0x5a18b5),db['ref'](_0x6b00bb(0x10d))[_0x6b00bb(0x103)]('buyerUsername')['equalTo'](currentUser[_0x6b00bb(0x16b)])[_0x6b00bb(0x130)](_0x6b00bb(0x102))[_0x6b00bb(0x167)](_0x236231=>{const _0x3d5759=_0x6b00bb;console[_0x3d5759(0x129)]('Données\x20de\x20vente\x20récupérées',_0x236231['val']());let _0x1525dd=![];return _0x236231['forEach'](_0x5376d5=>{const _0x2555ac=_0x3d5759,_0x2c241b=_0x5376d5['val']();console['log'](_0x2555ac(0x166),_0x2c241b);if(_0x2c241b['documentId']===_0x778c59||_0x2c241b[_0x2555ac(0x134)]===_0x5a18b5||_0x2c241b[_0x2555ac(0x1c4)]===_0x778c59||_0x2c241b[_0x2555ac(0x1c4)]===_0x5a18b5)return _0x1525dd=!![],console[_0x2555ac(0x129)]('Document\x20trouvé\x20comme\x20acheté'),!![];}),console[_0x3d5759(0x129)](_0x3d5759(0x11b)+_0x778c59+_0x3d5759(0x14c)+_0x5a18b5+':',_0x1525dd),_0x1525dd;})[_0x6b00bb(0xfd)](_0x11a576=>{const _0x2634d5=_0x6b00bb;return console[_0x2634d5(0x1ab)](_0x2634d5(0x1c2),_0x11a576),![];});}function openDocumentModal(_0x3e4c7b){const _0x188f0a=_0x377a4d;console[_0x188f0a(0x129)](_0x188f0a(0x14e),_0x3e4c7b);const _0x404314=document['getElementById'](_0x188f0a(0x12f));document['getElementById'](_0x188f0a(0x1a5))[_0x188f0a(0x13c)]=_0x3e4c7b['title'],document[_0x188f0a(0x156)]('modalDescription')[_0x188f0a(0x13c)]=_0x3e4c7b[_0x188f0a(0x184)]||_0x188f0a(0x1dd),document[_0x188f0a(0x156)](_0x188f0a(0x17b))[_0x188f0a(0x13c)]=_0x3e4c7b[_0x188f0a(0x18d)]+_0x188f0a(0x1a6);const _0x409342=document[_0x188f0a(0x156)](_0x188f0a(0x18a));_0x409342[_0x188f0a(0x151)]='',checkDocumentPurchaseStatus(_0x3e4c7b['id'],_0x3e4c7b[_0x188f0a(0xe8)])[_0x188f0a(0x167)](_0x4e9b6b=>{const _0x21e026=_0x188f0a;console[_0x21e026(0x129)](_0x21e026(0x17e)+_0x3e4c7b['id']+'\x20('+_0x3e4c7b[_0x21e026(0xe8)]+_0x21e026(0x1c3),_0x4e9b6b);const _0x297d02=document[_0x21e026(0x156)](_0x21e026(0x12c));_0x297d02[_0x21e026(0x172)]=()=>openFullWindow(_0x3e4c7b),_0x297d02[_0x21e026(0x1cc)][_0x21e026(0x154)]=_0x4e9b6b?_0x21e026(0x180):_0x21e026(0xef);if(_0x4e9b6b)console[_0x21e026(0x129)](_0x21e026(0x1bd)),_0x3e4c7b['imageUrls']['forEach'](_0x117ac5=>{const _0x17a364=_0x21e026,_0x3d2b0d=document[_0x17a364(0x179)](_0x17a364(0x19e));_0x3d2b0d[_0x17a364(0x19a)]=_0x117ac5,_0x3d2b0d[_0x17a364(0xfe)]=_0x3e4c7b[_0x17a364(0xe8)],_0x3d2b0d[_0x17a364(0x1cc)][_0x17a364(0x188)]=_0x17a364(0x1c1),_0x3d2b0d[_0x17a364(0x1cc)][_0x17a364(0x1a0)]=_0x17a364(0x163),_0x409342[_0x17a364(0x113)](_0x3d2b0d);}),document[_0x21e026(0x156)](_0x21e026(0x137))[_0x21e026(0x1cc)][_0x21e026(0x154)]=_0x21e026(0xef),document[_0x21e026(0x156)]('offlineBtn')['style']['display']=_0x21e026(0x180);else{console[_0x21e026(0x129)]('Affichage\x20du\x20document\x20non\x20acheté');const _0xd8eb35=document['createElement'](_0x21e026(0x19e));_0xd8eb35['src']=_0x3e4c7b['imageUrls'][0x0],_0xd8eb35[_0x21e026(0xfe)]=_0x3e4c7b[_0x21e026(0xe8)],_0xd8eb35[_0x21e026(0x1cc)][_0x21e026(0x188)]=_0x21e026(0x1c1),_0xd8eb35['style'][_0x21e026(0x1a0)]='auto',_0x409342[_0x21e026(0x113)](_0xd8eb35);if(_0x3e4c7b[_0x21e026(0x109)][_0x21e026(0xfc)]>0x1)for(let _0x21fd0d=0x1;_0x21fd0d<_0x3e4c7b[_0x21e026(0x109)]['length'];_0x21fd0d++){const _0x57c3ad=document['createElement']('div');_0x57c3ad[_0x21e026(0x17f)]=_0x21e026(0x14f);const _0x3b2a6e=document[_0x21e026(0x179)](_0x21e026(0x115));_0x3b2a6e[_0x21e026(0x17f)]='pay-button',_0x3b2a6e[_0x21e026(0x13c)]=_0x21e026(0x1c5),_0x3b2a6e[_0x21e026(0x172)]=()=>purchaseDocument(_0x3e4c7b);const _0x5c2b91=document['createElement']('img');_0x5c2b91['src']=_0x3e4c7b['imageUrls'][_0x21fd0d],_0x5c2b91['alt']=_0x3e4c7b[_0x21e026(0xe8)],_0x5c2b91[_0x21e026(0x1cc)]['maxWidth']=_0x21e026(0x1c1),_0x5c2b91[_0x21e026(0x1cc)][_0x21e026(0x1a0)]=_0x21e026(0x163),_0x5c2b91[_0x21e026(0x1cc)][_0x21e026(0x123)]='blur(5px)',_0x57c3ad[_0x21e026(0x113)](_0x3b2a6e),_0x57c3ad[_0x21e026(0x113)](_0x5c2b91),_0x409342[_0x21e026(0x113)](_0x57c3ad);}const _0x434c80=document[_0x21e026(0x156)](_0x21e026(0x137));_0x434c80[_0x21e026(0x172)]=()=>purchaseDocument(_0x3e4c7b),_0x434c80[_0x21e026(0x1cc)][_0x21e026(0x154)]=_0x21e026(0x180),document[_0x21e026(0x156)]('offlineBtn')[_0x21e026(0x1cc)][_0x21e026(0x154)]=_0x21e026(0xef);}const _0x273d1e=document[_0x21e026(0x156)](_0x21e026(0x142));_0x273d1e[_0x21e026(0x172)]=()=>useOffline(_0x3e4c7b);})[_0x188f0a(0xfd)](_0x14a93c=>{const _0x305bd8=_0x188f0a;console[_0x305bd8(0x1ab)](_0x305bd8(0x1d7),_0x14a93c);}),_0x404314['style'][_0x188f0a(0x154)]=_0x188f0a(0x180),loadComments(_0x3e4c7b['id']),initializeRating(_0x3e4c7b['id']);}function openFullWindow(_0x19df4f){const _0x44ff03=_0x377a4d;console[_0x44ff03(0x129)]('Ouverture\x20en\x20pleine\x20fenêtre\x20du\x20document\u00a0:',_0x19df4f['title']);const _0x24cbcb=document['createElement'](_0x44ff03(0x192));_0x24cbcb['id']=_0x44ff03(0x141),_0x24cbcb[_0x44ff03(0x1cc)][_0x44ff03(0x1df)]=_0x44ff03(0x13d),_0x24cbcb[_0x44ff03(0x1cc)][_0x44ff03(0x1bb)]='0',_0x24cbcb[_0x44ff03(0x1cc)]['left']='0',_0x24cbcb[_0x44ff03(0x1cc)][_0x44ff03(0x120)]='100%',_0x24cbcb['style'][_0x44ff03(0x1a0)]=_0x44ff03(0x1c1),_0x24cbcb[_0x44ff03(0x1cc)]['backgroundColor']=_0x44ff03(0xe7),_0x24cbcb['style'][_0x44ff03(0x11d)]=_0x44ff03(0x140),_0x24cbcb[_0x44ff03(0x1cc)][_0x44ff03(0x154)]=_0x44ff03(0x1be),_0x24cbcb['style'][_0x44ff03(0x1cb)]='center',_0x24cbcb[_0x44ff03(0x1cc)][_0x44ff03(0x12d)]=_0x44ff03(0x105),_0x24cbcb[_0x44ff03(0x1cc)][_0x44ff03(0x19c)]=_0x44ff03(0x163),_0x24cbcb[_0x44ff03(0x1cc)][_0x44ff03(0xf4)]='0',_0x24cbcb[_0x44ff03(0x1cc)][_0x44ff03(0x161)]=_0x44ff03(0xf6);const _0x4f290a=document[_0x44ff03(0x179)](_0x44ff03(0x192));_0x4f290a[_0x44ff03(0x1cc)][_0x44ff03(0x120)]=_0x44ff03(0x1c1),_0x4f290a['style'][_0x44ff03(0x188)]=_0x44ff03(0x177),_0x4f290a[_0x44ff03(0x1cc)][_0x44ff03(0x17a)]=_0x44ff03(0x1b0),_0x4f290a['style'][_0x44ff03(0x154)]=_0x44ff03(0x1be),_0x4f290a[_0x44ff03(0x1cc)][_0x44ff03(0x174)]=_0x44ff03(0x15d),_0x4f290a['style']['alignItems']=_0x44ff03(0x105);const _0x416518=document['createElement'](_0x44ff03(0x192));_0x416518[_0x44ff03(0x17f)]='owl-carousel\x20owl-theme',_0x19df4f[_0x44ff03(0x109)][_0x44ff03(0x128)]((_0x2cdcb5,_0x2b346f)=>{const _0x277e53=_0x44ff03,_0x2edaf7=document['createElement'](_0x277e53(0x192));_0x2edaf7['className']='item',_0x2edaf7[_0x277e53(0x1cc)][_0x277e53(0x120)]='100%',_0x2edaf7[_0x277e53(0x1cc)][_0x277e53(0x153)]=_0x277e53(0x105);const _0x5e385d=document['createElement']('img');_0x5e385d[_0x277e53(0x19a)]=_0x2cdcb5,_0x5e385d[_0x277e53(0xfe)]=_0x19df4f[_0x277e53(0xe8)]+_0x277e53(0x157)+(_0x2b346f+0x1),_0x5e385d[_0x277e53(0x1cc)][_0x277e53(0x188)]=_0x277e53(0x1c1),_0x5e385d[_0x277e53(0x1cc)]['maxHeight']=_0x277e53(0x1c1),_0x5e385d[_0x277e53(0x1cc)]['userSelect']='none',_0x5e385d['onload']=()=>{const _0x52fc5d=_0x277e53;_0x2edaf7[_0x52fc5d(0x1cc)][_0x52fc5d(0x1a0)]=_0x52fc5d(0x163);},_0x2edaf7[_0x277e53(0x113)](_0x5e385d),_0x416518[_0x277e53(0x113)](_0x2edaf7);}),_0x4f290a[_0x44ff03(0x113)](_0x416518),_0x24cbcb[_0x44ff03(0x113)](_0x4f290a),document[_0x44ff03(0x1bc)][_0x44ff03(0x113)](_0x24cbcb);const _0x1cac4c=$(_0x416518)[_0x44ff03(0x18f)]({'items':0x1,'loop':![],'nav':!![],'dots':!![],'autoplay':!![],'autoplayTimeout':0x1388,'autoplayHoverPause':!![],'navText':[_0x44ff03(0x165),_0x44ff03(0x1b4)],'onInitialized':()=>{const _0x335767=_0x44ff03;_0x24cbcb[_0x335767(0x1cc)][_0x335767(0xf4)]='1',addFullWindowControls(_0x24cbcb,_0x416518,_0x1cac4c);}});_0x24cbcb[_0x44ff03(0x1da)](_0x44ff03(0x1e1))[_0x44ff03(0x1b8)]('click',()=>{const _0x211abd=_0x44ff03;_0x1cac4c[_0x211abd(0x1c8)](_0x211abd(0x15b)),document['body'][_0x211abd(0x175)](_0x24cbcb);}),addZoomControls(_0x24cbcb,_0x416518);}function addFullWindowControls(_0x111fd9,_0x506955,_0x5dbf4d){}function addZoomControls(_0x474a47,_0x236a1a){const _0x55444b=_0x377a4d,_0x47bdf6=document[_0x55444b(0x179)](_0x55444b(0x192));_0x47bdf6[_0x55444b(0x1cc)][_0x55444b(0x1df)]='absolute',_0x47bdf6[_0x55444b(0x1cc)][_0x55444b(0x1bb)]=_0x55444b(0x160),_0x47bdf6[_0x55444b(0x1cc)]['right']='10px',_0x47bdf6[_0x55444b(0x1cc)][_0x55444b(0x11d)]='10';const _0x6bfe63=(_0x50bacc,_0x2d5dda,_0x457b68)=>{const _0x125806=_0x55444b,_0x4f06a6=document[_0x125806(0x179)](_0x125806(0x115));return _0x4f06a6[_0x125806(0x151)]=_0x125806(0x145)+_0x50bacc+'\x22></i>',_0x4f06a6[_0x125806(0xe8)]=_0x2d5dda,_0x4f06a6['style']['margin']='0\x205px',_0x4f06a6[_0x125806(0x1cc)]['padding']=_0x125806(0x1e2),_0x4f06a6[_0x125806(0x1cc)][_0x125806(0x12a)]=_0x125806(0xf7),_0x4f06a6[_0x125806(0x1cc)]['border']='none',_0x4f06a6[_0x125806(0x1cc)][_0x125806(0xee)]=_0x125806(0x14d),_0x4f06a6[_0x125806(0x1cc)]['color']=_0x125806(0x19d),_0x4f06a6[_0x125806(0x1cc)][_0x125806(0x1d3)]='pointer',_0x4f06a6['onclick']=_0x457b68,_0x4f06a6;};_0x47bdf6[_0x55444b(0x113)](_0x6bfe63(_0x55444b(0x1cf),_0x55444b(0x1a8),()=>zoomImage(_0x236a1a,1.2))),_0x47bdf6[_0x55444b(0x113)](_0x6bfe63(_0x55444b(0x122),_0x55444b(0x15c),()=>zoomImage(_0x236a1a,0.8))),_0x47bdf6['appendChild'](_0x6bfe63(_0x55444b(0x198),_0x55444b(0x16c),()=>{const _0x343f4d=_0x55444b;owl['trigger'](_0x343f4d(0x15b)),document[_0x343f4d(0x1bc)]['removeChild'](_0x474a47);})),_0x474a47['appendChild'](_0x47bdf6);}function zoomImage(_0x1cc325,_0xa77446){const _0x3e886f=_0x377a4d,_0x551a8d=_0x1cc325[_0x3e886f(0x1da)](_0x3e886f(0x19f)),_0x5caa78=parseFloat(_0x551a8d[_0x3e886f(0x1cc)][_0x3e886f(0x10f)][_0x3e886f(0x176)]('scale(','')[_0x3e886f(0x176)](')',''))||0x1,_0x12e255=_0x5caa78*_0xa77446;_0x551a8d[_0x3e886f(0x1cc)][_0x3e886f(0x10f)]=_0x3e886f(0x132)+_0x12e255+')';}function addFullWindowControls(_0x5d5cd0,_0x76d700,_0x5e3959){const _0x564fe4=_0x377a4d,_0x4b2c73=document[_0x564fe4(0x179)]('div');_0x4b2c73[_0x564fe4(0x1cc)][_0x564fe4(0x1df)]=_0x564fe4(0x1b3),_0x4b2c73[_0x564fe4(0x1cc)]['top']=_0x564fe4(0x160),_0x4b2c73[_0x564fe4(0x1cc)][_0x564fe4(0x16e)]=_0x564fe4(0x160),_0x4b2c73[_0x564fe4(0x1cc)]['zIndex']='10';const _0x5b5dab=document[_0x564fe4(0x179)](_0x564fe4(0x115));_0x5b5dab[_0x564fe4(0x17f)]=_0x564fe4(0x1af),_0x5b5dab[_0x564fe4(0x151)]=_0x564fe4(0xf8),_0x5b5dab[_0x564fe4(0xe8)]='Fermer',_0x5b5dab[_0x564fe4(0x1cc)][_0x564fe4(0x1a3)]=_0x564fe4(0x178),_0x5b5dab['style'][_0x564fe4(0x12b)]=_0x564fe4(0x1e2),_0x5b5dab[_0x564fe4(0x1cc)][_0x564fe4(0x12a)]='rgba(0,\x200,\x200,\x200.5)',_0x5b5dab[_0x564fe4(0x1cc)][_0x564fe4(0x186)]=_0x564fe4(0xef),_0x5b5dab[_0x564fe4(0x1cc)][_0x564fe4(0xee)]=_0x564fe4(0x14d),_0x5b5dab[_0x564fe4(0x1cc)]['color']='white',_0x5b5dab['style'][_0x564fe4(0x1d3)]=_0x564fe4(0x1ce),_0x4b2c73['appendChild'](_0x5b5dab),_0x5d5cd0[_0x564fe4(0x113)](_0x4b2c73);}function loadCategories(){const _0x45dca7=_0x377a4d;db[_0x45dca7(0x1d8)]('categories')[_0x45dca7(0x130)]('value',_0x5380aa=>{const _0x4d28d5=_0x45dca7,_0x3ddb05=_0x5380aa[_0x4d28d5(0x13b)](),_0xdc1fd=document[_0x4d28d5(0x156)](_0x4d28d5(0x1ca));_0xdc1fd[_0x4d28d5(0x151)]='';for(const [_0x3ae05f,_0x1965d0]of Object[_0x4d28d5(0x133)](_0x3ddb05)){const _0x2c2a9d=document[_0x4d28d5(0x179)]('li');_0x2c2a9d[_0x4d28d5(0x13c)]=_0x1965d0[_0x4d28d5(0x189)],_0x2c2a9d[_0x4d28d5(0x172)]=()=>filterByCategory(_0x3ae05f),_0xdc1fd['appendChild'](_0x2c2a9d);}});}function loadDocuments(){const _0x274e6a=_0x377a4d;db['ref'](_0x274e6a(0xf1))['once'](_0x274e6a(0x102),_0x52312f=>{const _0x2f7010=_0x274e6a;documents=Object[_0x2f7010(0x133)](_0x52312f[_0x2f7010(0x13b)]()||{})['map'](([_0x17c24,_0x1a7108])=>({'id':_0x17c24,..._0x1a7108})),displayDocuments();});}function displayDocuments(){const _0x5d4313=_0x377a4d,_0x345af0=document[_0x5d4313(0x156)](_0x5d4313(0xfa));_0x345af0['innerHTML']='';const _0x466a2e=(currentPage-0x1)*documentsPerPage,_0x31f2f1=_0x466a2e+documentsPerPage,_0x2973bf=documents[_0x5d4313(0x1bf)](_0x466a2e,_0x31f2f1);_0x2973bf[_0x5d4313(0x128)](_0x3283a7=>{const _0x219586=_0x5d4313,_0x1d8a17=document[_0x219586(0x179)](_0x219586(0x192));_0x1d8a17[_0x219586(0x17f)]=_0x219586(0x170),_0x1d8a17[_0x219586(0x151)]=_0x219586(0x116)+_0x3283a7[_0x219586(0x109)][0x0]+_0x219586(0x1e0)+_0x3283a7[_0x219586(0xe8)]+_0x219586(0xfb)+_0x3283a7[_0x219586(0xe8)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(_0x3283a7['description']?_0x3283a7['description'][_0x219586(0x101)](0x0,0x32)+_0x219586(0x152):'Aucune\x20description')+_0x219586(0x124)+_0x3283a7['price']+'\x20crédits</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1d8a17['onclick']=()=>openDocumentModal(_0x3283a7),_0x345af0[_0x219586(0x113)](_0x1d8a17);}),updatePagination();}function updatePagination(){const _0x18d246=_0x377a4d,_0x5176d5=Math[_0x18d246(0x119)](documents[_0x18d246(0xfc)]/documentsPerPage);document[_0x18d246(0x156)](_0x18d246(0x1d2))[_0x18d246(0x13c)]=_0x18d246(0x106)+currentPage,document['getElementById'](_0x18d246(0x182))['disabled']=currentPage===0x1,document[_0x18d246(0x156)](_0x18d246(0x143))[_0x18d246(0x11e)]=currentPage===_0x5176d5;}function changePage(_0x27b940){currentPage+=_0x27b940,displayDocuments();}function _0x51c3(_0x59ee25,_0xd10224){const _0x405a9a=_0x405a();return _0x51c3=function(_0x51c344,_0x787f10){_0x51c344=_0x51c344-0xe4;let _0x4a1c0f=_0x405a9a[_0x51c344];return _0x4a1c0f;},_0x51c3(_0x59ee25,_0xd10224);}function filterByCategory(_0x227938){const _0xe39172=_0x377a4d;db[_0xe39172(0x1d8)]('documents')[_0xe39172(0x103)]('category')['equalTo'](_0x227938)['once'](_0xe39172(0x102),_0x3b4863=>{const _0x2d0bb5=_0xe39172;documents=Object['entries'](_0x3b4863[_0x2d0bb5(0x13b)]()||{})['map'](([_0x3f27b9,_0x1cb2a0])=>({'id':_0x3f27b9,..._0x1cb2a0})),currentPage=0x1,displayDocuments();});}function searchDocuments(){const _0x46677b=_0x377a4d,_0x55db2c=document['getElementById'](_0x46677b(0x164))[_0x46677b(0x102)][_0x46677b(0x125)](),_0x42b2b3=documents[_0x46677b(0x123)](_0x5c2e30=>_0x5c2e30['title'][_0x46677b(0x125)]()[_0x46677b(0x13e)](_0x55db2c)||_0x5c2e30[_0x46677b(0x184)]&&_0x5c2e30[_0x46677b(0x184)][_0x46677b(0x125)]()[_0x46677b(0x13e)](_0x55db2c));documents=_0x42b2b3,currentPage=0x1,displayDocuments();}function refreshDocument(_0x5480c5){const _0x4d0a5c=_0x377a4d;db['ref'](_0x4d0a5c(0x1d0)+_0x5480c5)['once'](_0x4d0a5c(0x102),_0x1c6bbf=>{const _0x31cd97=_0x4d0a5c,_0x917063=_0x1c6bbf[_0x31cd97(0x13b)]();if(_0x917063){const _0x4701f2=documents['findIndex'](_0x41b63a=>_0x41b63a['id']===_0x5480c5);_0x4701f2!==-0x1&&(documents[_0x4701f2]={'id':_0x5480c5,..._0x917063},displayDocuments());}});}function loadComments(_0x17aa98){const _0x410662=_0x377a4d,_0x5ef3fe=document[_0x410662(0x156)](_0x410662(0xe6));_0x5ef3fe[_0x410662(0x151)]=_0x410662(0xf0),db[_0x410662(0x1d8)](_0x410662(0x1cd)+_0x17aa98)['once'](_0x410662(0x102),_0x4f7966=>{const _0x2a37d6=_0x410662;_0x5ef3fe[_0x2a37d6(0x151)]='';const _0x3c4392=_0x4f7966[_0x2a37d6(0x13b)]();if(_0x3c4392)for(const [_0x48c386,_0x1e14bf]of Object['entries'](_0x3c4392)){const _0x3c5f01=document[_0x2a37d6(0x179)]('div');_0x3c5f01[_0x2a37d6(0x17f)]=_0x2a37d6(0x1a2),_0x3c5f01[_0x2a37d6(0x151)]=_0x2a37d6(0x1b6)+_0x1e14bf[_0x2a37d6(0x16b)]+_0x2a37d6(0x1b7)+_0x1e14bf[_0x2a37d6(0x193)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>'+new Date(_0x1e14bf[_0x2a37d6(0x112)])[_0x2a37d6(0x158)]()+_0x2a37d6(0x1b2),_0x5ef3fe[_0x2a37d6(0x113)](_0x3c5f01);}else _0x5ef3fe['innerHTML']=_0x2a37d6(0x135);});}async function useOffline(_0x3aa7e1){const _0x3aaca3=_0x377a4d;console['log'](_0x3aaca3(0x148),_0x3aa7e1[_0x3aaca3(0xe8)]),window['showNotification'](_0x3aaca3(0x110),_0x3aaca3(0x1ab));}function openOfflineDocument(_0x21b639){const _0x4fa45f=_0x377a4d;console['log'](_0x4fa45f(0x100),_0x21b639[_0x4fa45f(0xe8)]),openDocumentModal(_0x21b639),document[_0x4fa45f(0x156)]('purchaseBtn')[_0x4fa45f(0x1cc)]['display']=_0x4fa45f(0xef),document['getElementById'](_0x4fa45f(0x142))[_0x4fa45f(0x1cc)][_0x4fa45f(0x154)]=_0x4fa45f(0xef);}function initializeRating(_0x2be5a3){const _0x1762c3=_0x377a4d,_0x4c3cda=document[_0x1762c3(0xf5)](_0x1762c3(0x104));_0x4c3cda[_0x1762c3(0x128)](_0x1a2a2c=>{const _0x176b47=_0x1762c3;_0x1a2a2c[_0x176b47(0xed)][_0x176b47(0x108)](_0x176b47(0x15f),_0x176b47(0x147)),_0x1a2a2c[_0x176b47(0xed)][_0x176b47(0x190)](_0x176b47(0x127)),_0x1a2a2c[_0x176b47(0x172)]=()=>{const _0x56524e=_0x176b47,_0x199317=_0x1a2a2c[_0x56524e(0x1d1)]['rating'];updateRating(_0x2be5a3,_0x199317);};}),db['ref'](_0x1762c3(0x162)+currentUser[_0x1762c3(0x16b)]+'/'+_0x2be5a3)['once'](_0x1762c3(0x102),_0x31fc70=>{const _0x1a4125=_0x1762c3,_0x4ef733=_0x31fc70[_0x1a4125(0x13b)]();_0x4ef733&&highlightStars(_0x4ef733);});}function updateRating(_0x7d6ab2,_0x26ba7e){const _0xf4ae6a=_0x377a4d;db[_0xf4ae6a(0x1d8)](_0xf4ae6a(0x162)+currentUser[_0xf4ae6a(0x16b)]+'/'+_0x7d6ab2)[_0xf4ae6a(0x1d5)](parseInt(_0x26ba7e))[_0xf4ae6a(0x167)](()=>{const _0x2a356c=_0xf4ae6a;highlightStars(_0x26ba7e),addToHistory(_0x2a356c(0x15a)+_0x7d6ab2+_0x2a356c(0x159)+_0x26ba7e+_0x2a356c(0x12e));});}function highlightStars(_0x37e42f){const _0x456650=_0x377a4d,_0xba41b6=document[_0x456650(0xf5)](_0x456650(0x104));_0xba41b6[_0x456650(0x128)](_0x41b3dd=>{const _0x36add5=_0x456650,_0x380cd2=parseInt(_0x41b3dd['dataset'][_0x36add5(0x118)]);_0x380cd2<=_0x37e42f?(_0x41b3dd['classList'][_0x36add5(0x108)](_0x36add5(0x127)),_0x41b3dd[_0x36add5(0xed)][_0x36add5(0x190)]('fas','checked')):(_0x41b3dd[_0x36add5(0xed)][_0x36add5(0x108)](_0x36add5(0x15f),_0x36add5(0x147)),_0x41b3dd[_0x36add5(0xed)]['add'](_0x36add5(0x127)));});}function closeModal(_0x2bcea5){const _0x2185dc=_0x377a4d;document['getElementById'](_0x2bcea5)['style'][_0x2185dc(0x154)]=_0x2185dc(0xef);}function shareDocument(){const _0x16e6bc=_0x377a4d,_0x25c10f=document['getElementById'](_0x16e6bc(0x1a5))[_0x16e6bc(0x13c)],_0x27fcaa=_0x16e6bc(0x1e3)+_0x25c10f;navigator['clipboard'][_0x16e6bc(0x17c)](_0x27fcaa)[_0x16e6bc(0x167)](()=>{const _0x411b6=_0x16e6bc;alert(_0x411b6(0x1c0)+_0x27fcaa),addToHistory('Partage\x20du\x20document\x20:\x20'+_0x25c10f);})[_0x16e6bc(0xfd)](_0x43c9bc=>{const _0x4d54a7=_0x16e6bc;console[_0x4d54a7(0x1ab)](_0x4d54a7(0x1d4),_0x43c9bc),alert(_0x4d54a7(0x146));});}function showMyLibrary(){const _0x4470ee=_0x377a4d;console[_0x4470ee(0x129)]('Affichage\x20de\x20Ma\x20bibliothèque'),currentUser?(console['log'](_0x4470ee(0xf9),currentUser[_0x4470ee(0x16b)]),db[_0x4470ee(0x1d8)](_0x4470ee(0x10d))[_0x4470ee(0x103)](_0x4470ee(0x183))[_0x4470ee(0x111)](currentUser[_0x4470ee(0x16b)])[_0x4470ee(0x130)]('value')[_0x4470ee(0x167)](_0x53d46f=>{const _0x53b630=_0x4470ee,_0x3f6450=[];_0x53d46f[_0x53b630(0x128)](_0x2b7774=>{const _0x475c1c=_0x53b630,_0x26f1d9=_0x2b7774[_0x475c1c(0x13b)]();_0x3f6450[_0x475c1c(0xec)](_0x26f1d9[_0x475c1c(0x134)]);}),console[_0x53b630(0x129)](_0x53b630(0x11f),_0x3f6450),documents=documents[_0x53b630(0x123)](_0x345d26=>_0x3f6450[_0x53b630(0x13e)](_0x345d26['id'])),console['log'](_0x53b630(0xe5),documents),currentPage=0x1,displayDocuments();})['catch'](_0x5662e5=>{const _0xd801cf=_0x4470ee;console[_0xd801cf(0x1ab)]('Erreur\x20lors\x20de\x20la\x20récupération\x20des\x20achats:',_0x5662e5),showNotification(_0xd801cf(0x1e4),_0xd801cf(0x1ab));})):(console[_0x4470ee(0x129)](_0x4470ee(0x169)),alert(_0x4470ee(0x1db)));}function showMyFavorites(){const _0x2685b1=_0x377a4d;db[_0x2685b1(0x1d8)]('favorites/'+currentUser[_0x2685b1(0x16b)])[_0x2685b1(0x130)](_0x2685b1(0x102),_0x2d8095=>{const _0x2b906e=_0x2685b1,_0x35004e=_0x2d8095[_0x2b906e(0x13b)]()||{},_0x20c89f=Object[_0x2b906e(0xf2)](_0x35004e);documents=documents[_0x2b906e(0x123)](_0x17fd18=>_0x20c89f['includes'](_0x17fd18['id'])),currentPage=0x1,displayDocuments();});}function addToHistory(_0x22c5ec){const _0x20ed5b=_0x377a4d,_0x3ab44d=new Date()[_0x20ed5b(0x158)](),_0x2dd0a0=document['getElementById']('historyList'),_0x2cdfd8=document[_0x20ed5b(0x179)]('li');_0x2cdfd8[_0x20ed5b(0x151)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22timestamp\x22>'+_0x3ab44d+_0x20ed5b(0x199)+_0x22c5ec+_0x20ed5b(0x149),_0x2dd0a0[_0x20ed5b(0x1ba)](_0x2cdfd8);}function backToMain(){const _0x2a8559=_0x377a4d;window['location']['href']=_0x2a8559(0x138);}function logout(){const _0x385802=_0x377a4d;localStorage[_0x385802(0x1d6)](_0x385802(0x1aa)),window['location'][_0x385802(0x18c)]=_0x385802(0x138);}function toggleTheme(){const _0xde26f0=_0x377a4d,_0x5cb9b6=document[_0xde26f0(0x1bc)],_0x47a7a0=_0x5cb9b6['getAttribute'](_0xde26f0(0x1c7)),_0x4ac815=_0x47a7a0===_0xde26f0(0xeb)?_0xde26f0(0x187):'dark';_0x5cb9b6['setAttribute'](_0xde26f0(0x1c7),_0x4ac815),localStorage[_0xde26f0(0x168)](_0xde26f0(0x19b),_0x4ac815),updateThemeIcon(_0x4ac815);}function updateThemeIcon(_0x2788be){const _0x1ebfa6=_0x377a4d,_0x2077b1=document['querySelector']('.theme-toggle\x20i');_0x2077b1[_0x1ebfa6(0x17f)]=_0x2788be===_0x1ebfa6(0xeb)?_0x1ebfa6(0x195):_0x1ebfa6(0x16a);}function toggleSidebar(){const _0x8b61c5=_0x377a4d,_0x384d65=document[_0x8b61c5(0x1da)]('.sidebar');_0x384d65[_0x8b61c5(0xed)][_0x8b61c5(0x131)](_0x8b61c5(0x144));}document[_0x377a4d(0x156)]('searchInput')[_0x377a4d(0x1b8)](_0x377a4d(0x10a),function(_0x26de26){const _0x15a876=_0x377a4d;_0x26de26[_0x15a876(0x1a1)]==='Enter'&&searchDocuments();}),window[_0x377a4d(0x172)]=function(_0x41eb39){const _0x569586=_0x377a4d;_0x41eb39[_0x569586(0xea)][_0x569586(0x17f)]===_0x569586(0x13f)&&(_0x41eb39['target'][_0x569586(0x1cc)][_0x569586(0x154)]='none');},window[_0x377a4d(0x18e)]=function(){const _0x83aefe=_0x377a4d;loadUserInfo(),loadCategories(),loadDocuments(),setupCreditListener();const _0x152208=localStorage[_0x83aefe(0x191)](_0x83aefe(0x19b))||_0x83aefe(0x187);document[_0x83aefe(0x1bc)][_0x83aefe(0x14b)](_0x83aefe(0x1c7),_0x152208),updateThemeIcon(_0x152208);};
