<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion des tickets totaux</title>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --danger-color: #e74c3c;
            --background-color: #ecf0f1;
            --text-color: #34495e;
            --edit-color: #f39c12;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .category-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .category-title {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h1, h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .pin-icon {
            cursor: pointer;
            color: var(--primary-color);
            font-size: 1.2em;
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin-top: 20px;
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        th {
            background-color: var(--primary-color);
            color: white;
            font-weight: bold;
            text-transform: uppercase;
        }

        tr:last-child td {
            border-bottom: none;
        }

        button, .file-input-label {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
            display: inline-block;
            transition: background-color 0.3s ease;
            font-size: 14px;
        }

        button:hover, .file-input-label:hover {
            background-color: #2980b9;
        }

        .delete-btn {
            background-color: var(--danger-color);
        }

        .delete-btn:hover {
            background-color: #c0392b;
        }

        .edit-btn {
            background-color: var(--edit-color);
        }

        .edit-btn:hover {
            background-color: #d68910;
        }

        .add-ticket-btn {
            background-color: var(--secondary-color);
        }

        .add-ticket-btn:hover {
            background-color: #27ae60;
        }

        #searchBar {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid #bdc3c7;
            border-radius: 4px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        #searchBar:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .highlight {
            background-color: #fff176;
            padding: 2px;
            border-radius: 2px;
        }

        #importFile {
            display: none;
        }

        .action-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .loading::after {
            content: "";
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }

        .modal-content {
            position: relative;
            background-color: white;
            margin: 15% auto;
            padding: 20px;
            border-radius: 8px;
            width: 80%;
            max-width: 500px;
        }

        .modal input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .modal-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .action-row {
                flex-direction: column;
                align-items: stretch;
            }

            button, .file-input-label {
                width: 100%;
                margin-right: 0;
                margin-bottom: 10px;
            }
        }
        .logout-button {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
        background-color: #e74c3c;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.3s ease;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .logout-button:hover {
        background-color: #c0392b;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .logout-button:active {
        transform: translateY(0);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .logout-button i {
        font-size: 16px;
    }

    @media (max-width: 768px) {
        .logout-button {
            top: 10px;
            right: 10px;
            padding: 8px 16px;
            font-size: 12px;
        }
    }
    </style>
</head>
<body>
<!-- Remplacez le bouton de déconnexion existant par celui-ci -->
<button onclick="logout()" class="logout-button">
    <i class="fas fa-sign-out-alt"></i> Déconnexion
</button>
    <div class="container">
        <h1>Gestion des tickets totaux</h1>
        <div class="action-row">
            <div>
                <button onclick="exportTickets()">Exporter tous les tickets</button>
                <label for="importFile" class="file-input-label">Importer des tickets</label>
                <input type="file" id="importFile" accept=".json,.csv,.txt" onchange="importTickets(event)">
            </div>
            <button onclick="exportFilteredTickets()">Exporter les tickets filtrés</button>
        </div>
        <input type="text" id="searchBar" placeholder="Rechercher un ticket (mot de passe, prix ou utilisateur)">
        <button onclick="deleteSearchResults()">Supprimer les résultats de recherche</button>
        <div id="ticketCategories"></div>
    </div>

    <div id="loadingIndicator" class="loading" style="display: none;"></div>

    <!-- Modal pour les prix -->
    <div id="priceModal" class="modal">
        <div class="modal-content">
            <h2>Définir le prix</h2>
            <p>Veuillez entrer le prix pour la catégorie <span id="categoryName"></span></p>
            <input type="text" id="priceInput" placeholder="Entrer le prix">
            <div class="modal-buttons">
                <button onclick="confirmPrice()">Confirmer</button>
                <button onclick="cancelImport()">Annuler</button>
            </div>
        </div>
    </div>

    <!-- Modal pour modifier un ticket -->
    <div id="editTicketModal" class="modal">
        <div class="modal-content">
            <h2>Modifier le ticket</h2>
            <input type="text" id="editPassword" placeholder="Mot de passe">
            <input type="text" id="editPrice" placeholder="Prix">
            <input type="text" id="editUser" placeholder="Utilisateur">
            <div class="modal-buttons">
                <button onclick="saveTicketEdit()">Enregistrer</button>
                <button onclick="closeEditModal()">Annuler</button>
            </div>
        </div>
    </div>

    <!-- Modal pour modifier une catégorie -->
    <div id="editCategoryModal" class="modal">
        <div class="modal-content">
            <h2>Modifier la catégorie</h2>
            <input type="text" id="editCategoryName" placeholder="Nouveau nom de la catégorie">
            <div class="modal-buttons">
                <button onclick="saveCategoryEdit()">Enregistrer</button>
                <button onclick="closeEditCategoryModal()">Annuler</button>
            </div>
        </div>
    </div>

    <!-- Modal pour ajouter un ticket -->
    <div id="addTicketModal" class="modal">
        <div class="modal-content">
            <h2>Ajouter un nouveau ticket</h2>
            <input type="text" id="newPassword" placeholder="Mot de passe">
            <input type="text" id="newPrice" placeholder="Prix">
            <input type="text" id="newUser" placeholder="Utilisateur">
            <div class="modal-buttons">
                <button onclick="saveNewTicket()">Ajouter</button>
                <button onclick="closeAddTicketModal()">Annuler</button>
            </div>
        </div>
    </div>

    <script>
const _0x24db1b=_0x473b;(function(_0x1e6436,_0x24c737){const _0x2247d8=_0x473b,_0x2116a2=_0x1e6436();while(!![]){try{const _0x1132c5=parseInt(_0x2247d8(0x1a4))/0x1+-parseInt(_0x2247d8(0x139))/0x2+parseInt(_0x2247d8(0x1b2))/0x3*(-parseInt(_0x2247d8(0x138))/0x4)+-parseInt(_0x2247d8(0x12b))/0x5+-parseInt(_0x2247d8(0x15f))/0x6+-parseInt(_0x2247d8(0x124))/0x7*(-parseInt(_0x2247d8(0x1a8))/0x8)+parseInt(_0x2247d8(0x1b9))/0x9*(parseInt(_0x2247d8(0x125))/0xa);if(_0x1132c5===_0x24c737)break;else _0x2116a2['push'](_0x2116a2['shift']());}catch(_0x11e1e7){_0x2116a2['push'](_0x2116a2['shift']());}}}(_0x2f85,0xba4ac));const firebaseConfig={'apiKey':_0x24db1b(0x17f),'authDomain':'dlswifi.firebaseapp.com','databaseURL':'https://dlswifi-default-rtdb.firebaseio.com','projectId':_0x24db1b(0x184),'storageBucket':_0x24db1b(0x151),'messagingSenderId':_0x24db1b(0x134),'appId':_0x24db1b(0x1a1),'measurementId':_0x24db1b(0x1b1)};function _0x473b(_0x233bad,_0xe31527){const _0x2f85e5=_0x2f85();return _0x473b=function(_0x473b72,_0x4a8aba){_0x473b72=_0x473b72-0x123;let _0x22a030=_0x2f85e5[_0x473b72];return _0x22a030;},_0x473b(_0x233bad,_0xe31527);}firebase[_0x24db1b(0x143)](firebaseConfig);const database=firebase[_0x24db1b(0x148)]();let allTickets={},tempImportData=null,tempCategory=null,currentEditingTicket=null,currentEditingCategory=null,editingCategory='',editingIndex=-0x1;(function(){const _0x3f085e=_0x24db1b,_0x5aafd4=sessionStorage[_0x3f085e(0x150)](_0x3f085e(0x196));!_0x5aafd4&&window['location'][_0x3f085e(0x190)](_0x3f085e(0x17a));}()),document[_0x24db1b(0x14b)](_0x24db1b(0x187),function(){const _0x3151ec=_0x24db1b;!sessionStorage['getItem'](_0x3151ec(0x196))&&window[_0x3151ec(0x155)]['replace'](_0x3151ec(0x17a));}),window[_0x24db1b(0x14b)]('pageshow',function(_0x4b9f0e){const _0x3e253f=_0x24db1b;(_0x4b9f0e[_0x3e253f(0x19e)]||!sessionStorage[_0x3e253f(0x150)](_0x3e253f(0x196)))&&window[_0x3e253f(0x155)][_0x3e253f(0x190)](_0x3e253f(0x17a));});function showLoading(){const _0x2b849b=_0x24db1b;document['getElementById']('loadingIndicator')[_0x2b849b(0x191)]['display']=_0x2b849b(0x192);}function hideLoading(){const _0x4e462f=_0x24db1b;document['getElementById'](_0x4e462f(0x140))[_0x4e462f(0x191)]['display']='none';}function loadTickets(){const _0x444e56=_0x24db1b;showLoading();const _0x18a3b7=database['ref'](_0x444e56(0x13d));_0x18a3b7['on'](_0x444e56(0x19d),_0x1c4fd8=>{const _0x4d64b7=_0x444e56;allTickets=_0x1c4fd8[_0x4d64b7(0x179)](),displayTickets(allTickets),hideLoading();},_0xe65705=>{const _0x30d960=_0x444e56;console[_0x30d960(0x19c)]('Erreur\x20lors\x20du\x20chargement\x20des\x20tickets:',_0xe65705),hideLoading(),alert(_0x30d960(0x16e));});}function displayTickets(_0x129dd0,_0x2fe06e=''){const _0x1faa09=_0x24db1b,_0x49742f=document[_0x1faa09(0x13e)](_0x1faa09(0x1b6));_0x49742f[_0x1faa09(0x1a5)]='';for(let _0x1ac78b in _0x129dd0){const _0x22d302=_0x129dd0[_0x1ac78b],_0x5aa0d2=_0x1faa09(0x130)+_0x1ac78b+_0x1faa09(0x164)+_0x1ac78b+_0x1faa09(0x145)+_0x1ac78b+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus\x22></i>\x20Ajouter\x20un\x20ticket\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22importFile_'+_0x1ac78b+'\x22\x20class=\x22file-input-label\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-import\x22></i>\x20Importer\x20dans\x20'+_0x1ac78b+_0x1faa09(0x182)+_0x1ac78b+_0x1faa09(0x15a)+_0x1ac78b+_0x1faa09(0x15e)+_0x1ac78b+_0x1faa09(0x173)+_0x1ac78b+_0x1faa09(0x126)+_0x1ac78b+_0x1faa09(0x16b)+_0x1ac78b+_0x1faa09(0x18b)+_0x1ac78b+_0x1faa09(0x157);_0x49742f[_0x1faa09(0x1a5)]+=_0x5aa0d2;const _0x708c98=document[_0x1faa09(0x13e)]('ticketsBody_'+_0x1ac78b);for(let _0x143f38=0x0;_0x143f38<_0x22d302[_0x1faa09(0x16c)][_0x1faa09(0x1a7)];_0x143f38++){if(_0x2fe06e&&!matchesSearch(_0x22d302,_0x143f38,_0x2fe06e))continue;const _0x39ea02=_0x1faa09(0x160)+_0x1ac78b+_0x1faa09(0x171)+_0x143f38+_0x1faa09(0x12e)+highlightMatch(_0x22d302[_0x1faa09(0x16c)][_0x143f38],_0x2fe06e)+_0x1faa09(0x1ab)+highlightMatch(_0x22d302[_0x1faa09(0x185)][_0x143f38],_0x2fe06e)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+highlightMatch(_0x22d302[_0x1faa09(0x1b5)][_0x143f38],_0x2fe06e)+_0x1faa09(0x1bb)+_0x1ac78b+_0x1faa09(0x1b4)+_0x143f38+_0x1faa09(0x123)+_0x1ac78b+'\x27,\x20'+_0x143f38+')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x20Supprimer\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x708c98[_0x1faa09(0x1a5)]+=_0x39ea02;}}}function editTicket(_0x559fcb,_0x18cdb2){const _0x4a2e7b=_0x24db1b;editingCategory=_0x559fcb,editingIndex=_0x18cdb2;const _0x16a7c4=allTickets[_0x559fcb];document[_0x4a2e7b(0x13e)](_0x4a2e7b(0x17e))['value']=_0x16a7c4[_0x4a2e7b(0x16c)][_0x18cdb2],document[_0x4a2e7b(0x13e)]('editPrice')['value']=_0x16a7c4[_0x4a2e7b(0x185)][_0x18cdb2],document[_0x4a2e7b(0x13e)](_0x4a2e7b(0x177))[_0x4a2e7b(0x19d)]=_0x16a7c4[_0x4a2e7b(0x1b5)][_0x18cdb2],document[_0x4a2e7b(0x13e)](_0x4a2e7b(0x149))[_0x4a2e7b(0x191)][_0x4a2e7b(0x165)]=_0x4a2e7b(0x1b3);}function saveTicketEdit(){const _0x4f11f5=_0x24db1b,_0x21e0b4=document[_0x4f11f5(0x13e)](_0x4f11f5(0x17e))[_0x4f11f5(0x19d)],_0x4bd2b1=document['getElementById'](_0x4f11f5(0x17d))['value'],_0x5a8386=document[_0x4f11f5(0x13e)](_0x4f11f5(0x177))['value'];if(!_0x21e0b4||!_0x4bd2b1||!_0x5a8386){alert(_0x4f11f5(0x181));return;}showLoading();const _0x3d5f69={},_0x4ca0d0=allTickets[editingCategory];_0x4ca0d0[_0x4f11f5(0x16c)][editingIndex]=_0x21e0b4,_0x4ca0d0['prix'][editingIndex]=_0x4bd2b1,_0x4ca0d0[_0x4f11f5(0x1b5)][editingIndex]=_0x5a8386,_0x3d5f69[_0x4f11f5(0x172)+editingCategory]=_0x4ca0d0,database[_0x4f11f5(0x166)]()[_0x4f11f5(0x152)](_0x3d5f69)[_0x4f11f5(0x199)](()=>{const _0xc2dd0=_0x4f11f5;hideLoading(),closeEditModal(),alert(_0xc2dd0(0x197));})['catch'](_0x5b4713=>{console['error']('Erreur\x20lors\x20de\x20la\x20modification:',_0x5b4713),hideLoading(),alert('Erreur\x20lors\x20de\x20la\x20modification\x20du\x20ticket');});}function importTicketsToCategory(_0x1160b4,_0x204852){const _0x516256=_0x24db1b,_0x13b657=_0x204852[_0x516256(0x162)][_0x516256(0x129)][0x0];if(!_0x13b657)return;showLoading();const _0x2a15d3=new FileReader();_0x2a15d3[_0x516256(0x15b)]=function(_0x3b9035){const _0x1aad91=_0x516256;try{const _0x36d418=_0x13b657[_0x1aad91(0x14a)]['split']('.')[_0x1aad91(0x186)]()[_0x1aad91(0x169)]();if(_0x36d418===_0x1aad91(0x195))handleJsonImportToCategory(_0x3b9035[_0x1aad91(0x162)][_0x1aad91(0x131)],_0x1160b4);else{if(_0x36d418==='csv')handleCsvImportToCategory(_0x3b9035[_0x1aad91(0x162)][_0x1aad91(0x131)],_0x1160b4);else{if(_0x36d418==='txt')handleTxtImportToCategory(_0x3b9035[_0x1aad91(0x162)]['result'],_0x1160b4);else throw new Error(_0x1aad91(0x18f));}}}catch(_0x46eee4){console[_0x1aad91(0x19c)]('Erreur\x20d\x27importation:',_0x46eee4),hideLoading(),alert(_0x1aad91(0x1b0));}},_0x2a15d3['readAsText'](_0x13b657);}function handleJsonImportToCategory(_0x48a7f2,_0x1411c0){const _0x65e6bb=_0x24db1b,_0x741429=JSON[_0x65e6bb(0x1ba)](_0x48a7f2);let _0x14fcb5;if(_0x741429[_0x65e6bb(0x16c)])_0x14fcb5=_0x741429;else{if(_0x741429[_0x1411c0])_0x14fcb5=_0x741429[_0x1411c0];else{hideLoading(),alert(_0x65e6bb(0x18c));return;}}mergeTicketsToCategory(_0x1411c0,_0x14fcb5);}function handleCsvImportToCategory(_0x31c6fe,_0x229880){const _0x5864f5=_0x24db1b,_0x5bc575=_0x31c6fe['split']('\x0a'),_0x10d986={'motDePasse':[],'prix':[],'utilisateur':[]};for(let _0x1fad5c=0x1;_0x1fad5c<_0x5bc575[_0x5864f5(0x1a7)];_0x1fad5c++){if(!_0x5bc575[_0x1fad5c][_0x5864f5(0x147)]())continue;const _0x30afc1=_0x5bc575[_0x1fad5c][_0x5864f5(0x178)](',');_0x10d986[_0x5864f5(0x1b5)][_0x5864f5(0x12f)](_0x30afc1[0x0][_0x5864f5(0x147)]()),_0x10d986[_0x5864f5(0x16c)]['push'](_0x30afc1[0x1]['trim']()),_0x30afc1[0x3]&&_0x10d986[_0x5864f5(0x185)][_0x5864f5(0x12f)](_0x30afc1[0x3][_0x5864f5(0x147)]());}!_0x10d986[_0x5864f5(0x185)][_0x5864f5(0x1a7)]?(tempImportData={[_0x229880]:_0x10d986},tempCategory=_0x229880,showPriceModal(_0x229880)):mergeTicketsToCategory(_0x229880,_0x10d986);}function handleTxtImportToCategory(_0x2231ff,_0x29bb67){const _0x5c621f=_0x24db1b,_0x198417=_0x2231ff[_0x5c621f(0x178)]('\x0a'),_0x301c2e={'motDePasse':[],'prix':[],'utilisateur':[]},_0x479ef2=/add name="([^"]+)" password="([^"]+)"/;for(let _0x469a94 of _0x198417){_0x469a94=_0x469a94[_0x5c621f(0x147)]();if(!_0x469a94||_0x469a94===_0x5c621f(0x14e))continue;const _0x4d80b2=_0x469a94[_0x5c621f(0x141)](_0x479ef2);if(_0x4d80b2){const [_0x12c6f8,_0x399a6a,_0x15f94c]=_0x4d80b2;_0x301c2e[_0x5c621f(0x1b5)][_0x5c621f(0x12f)](_0x399a6a),_0x301c2e[_0x5c621f(0x16c)]['push'](_0x15f94c);}}_0x301c2e['motDePasse'][_0x5c621f(0x1a7)]>0x0?(tempImportData={[_0x29bb67]:_0x301c2e},tempCategory=_0x29bb67,showPriceModal(_0x29bb67)):(hideLoading(),alert(_0x5c621f(0x16d)));}function mergeTicketsToCategory(_0x2f9f8c,_0xab7f0e){const _0x2ab568=_0x24db1b;!allTickets[_0x2f9f8c]&&(allTickets[_0x2f9f8c]={'motDePasse':[],'prix':[],'utilisateur':[]});const _0x2c2496=allTickets[_0x2f9f8c],_0x583ec8={'motDePasse':[..._0x2c2496['motDePasse'],..._0xab7f0e[_0x2ab568(0x16c)]],'prix':[..._0x2c2496[_0x2ab568(0x185)],..._0xab7f0e['prix']],'utilisateur':[..._0x2c2496['utilisateur'],..._0xab7f0e[_0x2ab568(0x1b5)]]};database['ref'](_0x2ab568(0x172)+_0x2f9f8c)[_0x2ab568(0x1ad)](_0x583ec8)[_0x2ab568(0x199)](()=>{const _0x36e4e4=_0x2ab568;hideLoading(),alert(_0x36e4e4(0x154)+_0x2f9f8c+_0x36e4e4(0x127));})[_0x2ab568(0x156)](_0x26069a=>{const _0x1291e9=_0x2ab568;console['error'](_0x1291e9(0x18e),_0x26069a),hideLoading(),alert('Erreur\x20lors\x20de\x20l\x27importation.\x20Veuillez\x20réessayer.');});}function editCategory(_0xe5cd56){const _0x5baeb0=_0x24db1b;currentEditingCategory=_0xe5cd56,document[_0x5baeb0(0x13e)]('editCategoryName')['value']=_0xe5cd56,document[_0x5baeb0(0x13e)](_0x5baeb0(0x15d))[_0x5baeb0(0x191)]['display']=_0x5baeb0(0x1b3);}function saveCategoryEdit(){const _0x5d4dc8=_0x24db1b,_0x49f82f=document[_0x5d4dc8(0x13e)](_0x5d4dc8(0x1bd))[_0x5d4dc8(0x19d)][_0x5d4dc8(0x147)]();if(!_0x49f82f){alert(_0x5d4dc8(0x1b8));return;}if(_0x49f82f===currentEditingCategory){closeEditCategoryModal();return;}showLoading();const _0x260f5c=allTickets[currentEditingCategory],_0xcb3d26={[_0x5d4dc8(0x172)+currentEditingCategory]:null,[_0x5d4dc8(0x172)+_0x49f82f]:_0x260f5c};database[_0x5d4dc8(0x166)]()[_0x5d4dc8(0x152)](_0xcb3d26)[_0x5d4dc8(0x199)](()=>{hideLoading(),closeEditCategoryModal(),alert('Catégorie\x20modifiée\x20avec\x20succès!');})[_0x5d4dc8(0x156)](_0x217204=>{const _0x1e3284=_0x5d4dc8;console[_0x1e3284(0x19c)]('Erreur\x20lors\x20de\x20la\x20modification\x20de\x20la\x20catégorie:',_0x217204),hideLoading(),alert(_0x1e3284(0x146));});}function showAddTicketModal(_0x4f9d2e){const _0x1d0620=_0x24db1b;currentEditingCategory=_0x4f9d2e,document[_0x1d0620(0x13e)]('newPassword')[_0x1d0620(0x19d)]='',document[_0x1d0620(0x13e)](_0x1d0620(0x194))[_0x1d0620(0x19d)]='',document[_0x1d0620(0x13e)](_0x1d0620(0x163))[_0x1d0620(0x19d)]='',document['getElementById'](_0x1d0620(0x1b7))['style'][_0x1d0620(0x165)]=_0x1d0620(0x1b3);}function saveNewTicket(){const _0x327a1c=_0x24db1b,_0x211f98=document[_0x327a1c(0x13e)](_0x327a1c(0x1ac))[_0x327a1c(0x19d)][_0x327a1c(0x147)](),_0x154de2=document[_0x327a1c(0x13e)](_0x327a1c(0x194))[_0x327a1c(0x19d)]['trim'](),_0x1773a6=document[_0x327a1c(0x13e)](_0x327a1c(0x163))['value'][_0x327a1c(0x147)]();if(!_0x211f98||!_0x154de2||!_0x1773a6){alert(_0x327a1c(0x181));return;}showLoading();const _0x17b909=allTickets[currentEditingCategory];_0x17b909[_0x327a1c(0x16c)][_0x327a1c(0x12f)](_0x211f98),_0x17b909[_0x327a1c(0x185)][_0x327a1c(0x12f)](_0x154de2),_0x17b909['utilisateur'][_0x327a1c(0x12f)](_0x1773a6),database['ref']('TicketsTotal/'+currentEditingCategory)['set'](_0x17b909)['then'](()=>{const _0x4e9c4c=_0x327a1c;hideLoading(),closeAddTicketModal(),alert(_0x4e9c4c(0x19b));})['catch'](_0x5baeee=>{const _0x55e78a=_0x327a1c;console[_0x55e78a(0x19c)](_0x55e78a(0x1ae),_0x5baeee),hideLoading(),alert(_0x55e78a(0x170));});}function closeEditModal(){const _0x211acf=_0x24db1b;document['getElementById']('editTicketModal')[_0x211acf(0x191)]['display']='none',editingCategory='',editingIndex=-0x1;}function closeEditCategoryModal(){const _0x5d6064=_0x24db1b;document[_0x5d6064(0x13e)](_0x5d6064(0x15d))[_0x5d6064(0x191)][_0x5d6064(0x165)]=_0x5d6064(0x193),currentEditingCategory=null;}function closeAddTicketModal(){const _0x1b17d0=_0x24db1b;document[_0x1b17d0(0x13e)](_0x1b17d0(0x1b7))[_0x1b17d0(0x191)][_0x1b17d0(0x165)]=_0x1b17d0(0x193),currentEditingCategory=null;}function matchesSearch(_0x4c53a5,_0x28a46d,_0x33a24b){const _0x3c0f1c=_0x24db1b,_0x4404e9=_0x33a24b['toLowerCase']();return _0x4c53a5[_0x3c0f1c(0x16c)][_0x28a46d][_0x3c0f1c(0x169)]()[_0x3c0f1c(0x1aa)](_0x4404e9)||_0x4c53a5['prix'][_0x28a46d][_0x3c0f1c(0x169)]()[_0x3c0f1c(0x1aa)](_0x4404e9)||_0x4c53a5[_0x3c0f1c(0x1b5)][_0x28a46d][_0x3c0f1c(0x169)]()['includes'](_0x4404e9);}function highlightMatch(_0x2a2800,_0x577141){const _0x31500c=_0x24db1b;if(!_0x577141)return _0x2a2800;const _0x1f7f64=new RegExp(_0x577141,'gi');return _0x2a2800[_0x31500c(0x190)](_0x1f7f64,_0x2d9850=>'<span\x20class=\x22highlight\x22>'+_0x2d9850+_0x31500c(0x13f));}function deleteTicket(_0x1908fc,_0x5e6bf0){const _0xec2628=_0x24db1b;if(confirm(_0xec2628(0x189))){showLoading();const _0x1ddf68=allTickets[_0x1908fc];_0x1ddf68[_0xec2628(0x16c)][_0xec2628(0x14d)](_0x5e6bf0,0x1),_0x1ddf68['prix'][_0xec2628(0x14d)](_0x5e6bf0,0x1),_0x1ddf68[_0xec2628(0x1b5)][_0xec2628(0x14d)](_0x5e6bf0,0x1),database[_0xec2628(0x166)](_0xec2628(0x172)+_0x1908fc)[_0xec2628(0x1ad)](_0x1ddf68)[_0xec2628(0x199)](()=>{hideLoading(),alert('Ticket\x20supprimé\x20avec\x20succès!');})[_0xec2628(0x156)](_0x127e79=>{const _0xa52043=_0xec2628;console[_0xa52043(0x19c)](_0xa52043(0x17c),_0x127e79),hideLoading(),alert('Erreur\x20lors\x20de\x20la\x20suppression\x20du\x20ticket');});}}function deleteSelectedTickets(_0x1a115a){const _0x508f8b=_0x24db1b,_0x23488a=document[_0x508f8b(0x180)]('input[name=\x22ticketSelect_'+_0x1a115a+_0x508f8b(0x16f));if(_0x23488a[_0x508f8b(0x1a7)]===0x0){alert(_0x508f8b(0x133));return;}if(confirm(_0x508f8b(0x142))){showLoading();const _0x40f0f9=allTickets[_0x1a115a],_0x453a4f=Array[_0x508f8b(0x12c)](_0x23488a)[_0x508f8b(0x19f)](_0x167b47=>parseInt(_0x167b47[_0x508f8b(0x19d)]))[_0x508f8b(0x13a)]((_0x3399da,_0x3f9938)=>_0x3f9938-_0x3399da);_0x453a4f[_0x508f8b(0x1bc)](_0x117059=>{const _0x4c5128=_0x508f8b;_0x40f0f9['motDePasse']['splice'](_0x117059,0x1),_0x40f0f9[_0x4c5128(0x185)][_0x4c5128(0x14d)](_0x117059,0x1),_0x40f0f9['utilisateur'][_0x4c5128(0x14d)](_0x117059,0x1);}),database['ref'](_0x508f8b(0x172)+_0x1a115a)[_0x508f8b(0x1ad)](_0x40f0f9)[_0x508f8b(0x199)](()=>{const _0x179183=_0x508f8b;hideLoading(),alert(_0x179183(0x1a0));})['catch'](_0x171d85=>{const _0x303064=_0x508f8b;console[_0x303064(0x19c)](_0x303064(0x17c),_0x171d85),hideLoading(),alert(_0x303064(0x159));});}}function deleteAllTicketsInCategory(_0x55920f){const _0x41476f=_0x24db1b;confirm('Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20TOUS\x20les\x20tickets\x20de\x20la\x20catégorie\x20'+_0x55920f+'\x20?')&&(showLoading(),database[_0x41476f(0x166)](_0x41476f(0x172)+_0x55920f)[_0x41476f(0x1ad)]({'motDePasse':[],'prix':[],'utilisateur':[]})[_0x41476f(0x199)](()=>{const _0x20f4a0=_0x41476f;hideLoading(),alert(_0x20f4a0(0x1a9));})[_0x41476f(0x156)](_0x234d4d=>{const _0x6fad27=_0x41476f;console[_0x6fad27(0x19c)]('Erreur\x20lors\x20de\x20la\x20suppression:',_0x234d4d),hideLoading(),alert('Erreur\x20lors\x20de\x20la\x20suppression\x20des\x20tickets');}));}function exportTickets(){const _0x282a03=_0x24db1b,_0x5e4c1b=_0x282a03(0x135)+encodeURIComponent(JSON[_0x282a03(0x167)](allTickets,null,0x2)),_0x13f0c9=document[_0x282a03(0x14f)]('a');_0x13f0c9[_0x282a03(0x12d)](_0x282a03(0x1a3),_0x5e4c1b),_0x13f0c9[_0x282a03(0x12d)](_0x282a03(0x175),_0x282a03(0x12a)),document[_0x282a03(0x161)][_0x282a03(0x19a)](_0x13f0c9),_0x13f0c9[_0x282a03(0x18d)](),_0x13f0c9[_0x282a03(0x13b)]();}function exportFilteredTickets(){const _0x3bd2e4=_0x24db1b,_0x36861c=document[_0x3bd2e4(0x13e)]('searchBar')['value'][_0x3bd2e4(0x147)](),_0x5dfc4d={};for(let _0x4812ba in allTickets){const _0xc767f5=allTickets[_0x4812ba];_0x5dfc4d[_0x4812ba]={'motDePasse':[],'prix':[],'utilisateur':[]};for(let _0x400c85=0x0;_0x400c85<_0xc767f5[_0x3bd2e4(0x16c)][_0x3bd2e4(0x1a7)];_0x400c85++){(!_0x36861c||matchesSearch(_0xc767f5,_0x400c85,_0x36861c))&&(_0x5dfc4d[_0x4812ba][_0x3bd2e4(0x16c)][_0x3bd2e4(0x12f)](_0xc767f5['motDePasse'][_0x400c85]),_0x5dfc4d[_0x4812ba][_0x3bd2e4(0x185)][_0x3bd2e4(0x12f)](_0xc767f5[_0x3bd2e4(0x185)][_0x400c85]),_0x5dfc4d[_0x4812ba][_0x3bd2e4(0x1b5)][_0x3bd2e4(0x12f)](_0xc767f5['utilisateur'][_0x400c85]));}}const _0x3ac287='data:text/json;charset=utf-8,'+encodeURIComponent(JSON[_0x3bd2e4(0x167)](_0x5dfc4d,null,0x2)),_0x3bd2e3=document[_0x3bd2e4(0x14f)]('a');_0x3bd2e3[_0x3bd2e4(0x12d)](_0x3bd2e4(0x1a3),_0x3ac287),_0x3bd2e3[_0x3bd2e4(0x12d)](_0x3bd2e4(0x175),_0x3bd2e4(0x128)),document[_0x3bd2e4(0x161)][_0x3bd2e4(0x19a)](_0x3bd2e3),_0x3bd2e3[_0x3bd2e4(0x18d)](),_0x3bd2e3['remove']();}function handleJsonImport(_0x202d60){const _0x32c484=_0x24db1b,_0x2d54b1=JSON[_0x32c484(0x1ba)](_0x202d60);if(confirm('Êtes-vous\x20sûr\x20de\x20vouloir\x20importer\x20ces\x20tickets\x20?\x20Les\x20nouveaux\x20tickets\x20seront\x20ajoutés\x20aux\x20tickets\x20existants.')){const _0x4f93fc={};for(let _0xdfc812 in _0x2d54b1){allTickets[_0xdfc812]?_0x4f93fc[_0x32c484(0x172)+_0xdfc812]={'motDePasse':[...allTickets[_0xdfc812]['motDePasse'],..._0x2d54b1[_0xdfc812][_0x32c484(0x16c)]],'prix':[...allTickets[_0xdfc812][_0x32c484(0x185)],..._0x2d54b1[_0xdfc812]['prix']],'utilisateur':[...allTickets[_0xdfc812][_0x32c484(0x1b5)],..._0x2d54b1[_0xdfc812]['utilisateur']]}:_0x4f93fc[_0x32c484(0x172)+_0xdfc812]=_0x2d54b1[_0xdfc812];}database['ref']()[_0x32c484(0x152)](_0x4f93fc)['then'](()=>{hideLoading(),alert('Importation\x20réussie\x20!');})[_0x32c484(0x156)](_0x49e7b2=>{const _0x76f11=_0x32c484;console[_0x76f11(0x19c)]('Erreur\x20lors\x20de\x20l\x27importation:',_0x49e7b2),hideLoading(),alert(_0x76f11(0x1af));});}else hideLoading();}function handleCsvImport(_0x12a523){const _0x23aa29=_0x24db1b,_0x3ff6f5=_0x12a523['split']('\x0a'),_0x434623={};for(let _0x2b9942=0x1;_0x2b9942<_0x3ff6f5[_0x23aa29(0x1a7)];_0x2b9942++){if(!_0x3ff6f5[_0x2b9942][_0x23aa29(0x147)]())continue;const _0x4d2dfc=_0x3ff6f5[_0x2b9942][_0x23aa29(0x178)](','),_0x1f77ee=_0x4d2dfc[0x2][_0x23aa29(0x147)]();!_0x434623[_0x1f77ee]&&(_0x434623[_0x1f77ee]={'motDePasse':[],'prix':[],'utilisateur':[]}),_0x434623[_0x1f77ee][_0x23aa29(0x1b5)]['push'](_0x4d2dfc[0x0][_0x23aa29(0x147)]()),_0x434623[_0x1f77ee][_0x23aa29(0x16c)][_0x23aa29(0x12f)](_0x4d2dfc[0x1][_0x23aa29(0x147)]());}tempImportData=_0x434623;const _0x5d5698=Object[_0x23aa29(0x144)](_0x434623)[0x0];showPriceModal(_0x5d5698);}function handleTxtImport(_0x2a3bef){const _0x3a8c26=_0x24db1b,_0x5e84bf=_0x2a3bef[_0x3a8c26(0x178)]('\x0a'),_0x57f3af={},_0x5e9e37=/add name="([^"]+)" password="([^"]+)" profile="([^"]+)"/;for(let _0x110cb4 of _0x5e84bf){_0x110cb4=_0x110cb4[_0x3a8c26(0x147)]();if(!_0x110cb4||_0x110cb4==='/ip\x20hotspot\x20user')continue;const _0x495873=_0x110cb4[_0x3a8c26(0x141)](_0x5e9e37);if(_0x495873){const [_0x1be912,_0x28904e,_0x59db6e,_0x341c0a]=_0x495873;!_0x57f3af[_0x341c0a]&&(_0x57f3af[_0x341c0a]={'motDePasse':[],'prix':[],'utilisateur':[]}),_0x57f3af[_0x341c0a][_0x3a8c26(0x1b5)][_0x3a8c26(0x12f)](_0x28904e),_0x57f3af[_0x341c0a]['motDePasse']['push'](_0x59db6e);}}if(Object['keys'](_0x57f3af)[_0x3a8c26(0x1a7)]===0x0){hideLoading(),alert(_0x3a8c26(0x188));return;}tempImportData=_0x57f3af;const _0x1e6c5c=Object[_0x3a8c26(0x144)](_0x57f3af)[0x0];showPriceModal(_0x1e6c5c);}function showPriceModal(_0x114c6f){const _0x1cc411=_0x24db1b;tempCategory=_0x114c6f,document['getElementById']('categoryName')[_0x1cc411(0x17b)]=_0x114c6f,document['getElementById'](_0x1cc411(0x153))[_0x1cc411(0x191)][_0x1cc411(0x165)]=_0x1cc411(0x1b3);}function confirmPrice(){const _0x3927e1=_0x24db1b,_0x42ec8e=document[_0x3927e1(0x13e)](_0x3927e1(0x18a))[_0x3927e1(0x19d)][_0x3927e1(0x147)]();if(!_0x42ec8e){alert(_0x3927e1(0x132));return;}tempImportData[tempCategory][_0x3927e1(0x185)]=Array(tempImportData[tempCategory][_0x3927e1(0x16c)][_0x3927e1(0x1a7)])[_0x3927e1(0x1a6)](_0x42ec8e);const _0x4ab4cc=Object[_0x3927e1(0x144)](tempImportData),_0x16bcc4=_0x4ab4cc[_0x3927e1(0x158)](tempCategory);_0x16bcc4<_0x4ab4cc[_0x3927e1(0x1a7)]-0x1?(document['getElementById']('priceInput')[_0x3927e1(0x19d)]='',showPriceModal(_0x4ab4cc[_0x16bcc4+0x1])):finishImport();}function cancelImport(){const _0x5a6331=_0x24db1b;document['getElementById'](_0x5a6331(0x153))[_0x5a6331(0x191)][_0x5a6331(0x165)]=_0x5a6331(0x193),document[_0x5a6331(0x13e)](_0x5a6331(0x136))[_0x5a6331(0x19d)]='',tempImportData=null,tempCategory=null,hideLoading();}function finishImport(){const _0x28dec=_0x24db1b;if(confirm(_0x28dec(0x174))){const _0x303b6d={};for(let _0x3dfb32 in tempImportData){allTickets[_0x3dfb32]?_0x303b6d[_0x28dec(0x172)+_0x3dfb32]={'motDePasse':[...allTickets[_0x3dfb32][_0x28dec(0x16c)],...tempImportData[_0x3dfb32]['motDePasse']],'prix':[...allTickets[_0x3dfb32][_0x28dec(0x185)],...tempImportData[_0x3dfb32][_0x28dec(0x185)]],'utilisateur':[...allTickets[_0x3dfb32][_0x28dec(0x1b5)],...tempImportData[_0x3dfb32][_0x28dec(0x1b5)]]}:_0x303b6d[_0x28dec(0x172)+_0x3dfb32]=tempImportData[_0x3dfb32];}database[_0x28dec(0x166)]()['update'](_0x303b6d)[_0x28dec(0x199)](()=>{const _0x2d3d79=_0x28dec;document[_0x2d3d79(0x13e)](_0x2d3d79(0x153))[_0x2d3d79(0x191)][_0x2d3d79(0x165)]=_0x2d3d79(0x193),document[_0x2d3d79(0x13e)](_0x2d3d79(0x136))[_0x2d3d79(0x19d)]='',tempImportData=null,tempCategory=null,hideLoading(),alert(_0x2d3d79(0x168));})[_0x28dec(0x156)](_0x2711c5=>{const _0x2e1f60=_0x28dec;console[_0x2e1f60(0x19c)](_0x2e1f60(0x18e),_0x2711c5),hideLoading(),alert(_0x2e1f60(0x1af));});}else cancelImport();}function _0x2f85(){const _0x133acd=['2498712aEvEFg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><input\x20type=\x22checkbox\x22\x20name=\x22ticketSelect_','body','target','newUser','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-thumbtack\x20pin-icon\x22\x20onclick=\x22editCategory(\x27','display','ref','stringify','Importation\x20réussie\x20!','toLowerCase','Veuillez\x20entrer\x20un\x20terme\x20de\x20recherche\x20avant\x20de\x20supprimer.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteSelectedTickets(\x27','motDePasse','Aucun\x20ticket\x20valide\x20trouvé\x20dans\x20le\x20fichier','Erreur\x20lors\x20du\x20chargement\x20des\x20tickets.\x20Veuillez\x20réessayer.','\x22]:checked','Erreur\x20lors\x20de\x20l\x27ajout\x20du\x20ticket','\x22\x20value=\x22','TicketsTotal/','\x27)\x22>Supprimer\x20tous\x20les\x20tickets\x20de\x20','Êtes-vous\x20sûr\x20de\x20vouloir\x20importer\x20ces\x20tickets\x20?\x20Les\x20nouveaux\x20tickets\x20seront\x20ajoutés\x20aux\x20tickets\x20existants.','download','readAsText','editUser','split','val','login.html','textContent','Erreur\x20lors\x20de\x20la\x20suppression:','editPrice','editPassword','AIzaSyBwLgE4rF7RimBCr2cx8krF2c9FpXetQLc','querySelectorAll','Tous\x20les\x20champs\x20sont\x20obligatoires','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22file\x22\x20id=\x22importFile_','searchBar','dlswifi','prix','pop','DOMContentLoaded','Aucun\x20ticket\x20valide\x20n\x27a\x20été\x20trouvé\x20dans\x20le\x20fichier','Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20ce\x20ticket\x20?','priceInput','\x27)\x22>Supprimer\x20les\x20tickets\x20sélectionnés\x20de\x20','Format\x20JSON\x20invalide\x20ou\x20catégorie\x20non\x20trouvée','click','Erreur\x20lors\x20de\x20l\x27importation:','Format\x20de\x20fichier\x20non\x20supporté','replace','style','flex','none','newPrice','json','isLoggedIn','Ticket\x20modifié\x20avec\x20succès!','Erreur\x20lors\x20de\x20la\x20suppression\x20des\x20résultats\x20de\x20recherche.\x20Veuillez\x20réessayer.','then','appendChild','Ticket\x20ajouté\x20avec\x20succès!','error','value','persisted','map','Tickets\x20sélectionnés\x20supprimés\x20avec\x20succès!','1:914445912574:web:4448ebbc615241b63ad8af','clear','href','445492ooKeDe','innerHTML','fill','length','79304geFHFP','Tous\x20les\x20tickets\x20de\x20la\x20catégorie\x20ont\x20été\x20supprimés\x20avec\x20succès!','includes','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','newPassword','set','Erreur\x20lors\x20de\x20l\x27ajout\x20du\x20ticket:','Erreur\x20lors\x20de\x20l\x27importation.\x20Veuillez\x20réessayer.','Erreur\x20lors\x20de\x20l\x27importation.\x20Veuillez\x20vérifier\x20le\x20format\x20du\x20fichier.','G-YDLNR7S0C6','3JhPpRV','block','\x27,\x20','utilisateur','ticketCategories','addTicketModal','Le\x20nom\x20de\x20la\x20catégorie\x20ne\x20peut\x20pas\x20être\x20vide','9OKNUFD','parse','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-btn\x22\x20onclick=\x22editTicket(\x27','forEach','editCategoryName',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Modifier\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-btn\x22\x20onclick=\x22deleteTicket(\x27','168rBVnBP','28265140oINIfR','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Sélectionner</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Mot\x20de\x20passe</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Prix</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Utilisateur</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Actions</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody\x20id=\x22ticketsBody_','\x20!\x20Les\x20nouveaux\x20tickets\x20ont\x20été\x20ajoutés\x20aux\x20existants.','filtered_tickets_export.json','files','tickets_export.json','2158330lPtcWt','from','setAttribute','\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22category-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22category-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22category-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>','result','Veuillez\x20entrer\x20un\x20prix','Veuillez\x20sélectionner\x20au\x20moins\x20un\x20ticket\x20à\x20supprimer','914445912574','data:text/json;charset=utf-8,','importFile','txt','2239868BBBHdl','2677562ERPrXN','sort','remove','Erreur\x20d\x27importation:','TicketsTotal','getElementById','</span>','loadingIndicator','match','Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20les\x20tickets\x20sélectionnés\x20?','initializeApp','keys','\x27)\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22add-ticket-btn\x22\x20onclick=\x22showAddTicketModal(\x27','Erreur\x20lors\x20de\x20la\x20modification\x20de\x20la\x20catégorie','trim','database','editTicketModal','name','addEventListener','input','splice','/ip\x20hotspot\x20user','createElement','getItem','dlswifi.firebasestorage.app','update','priceModal','Importation\x20réussie\x20dans\x20la\x20catégorie\x20','location','catch','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','indexOf','Erreur\x20lors\x20de\x20la\x20suppression\x20des\x20tickets','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20accept=\x22.json,.csv,.txt\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22display:\x20none;\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onchange=\x22importTicketsToCategory(\x27','onload','csv','editCategoryModal','\x27,\x20event)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteAllTicketsInCategory(\x27'];_0x2f85=function(){return _0x133acd;};return _0x2f85();}function importTickets(_0x39da29){const _0x5b6554=_0x24db1b,_0x1aaa15=_0x39da29['target'][_0x5b6554(0x129)][0x0];if(!_0x1aaa15)return;showLoading();const _0x1fa074=new FileReader();_0x1fa074[_0x5b6554(0x15b)]=function(_0x2fec96){const _0x3ab03f=_0x5b6554;try{const _0x2d7a3f=_0x1aaa15[_0x3ab03f(0x14a)]['split']('.')[_0x3ab03f(0x186)]()['toLowerCase']();if(_0x2d7a3f===_0x3ab03f(0x195))handleJsonImport(_0x2fec96['target'][_0x3ab03f(0x131)]);else{if(_0x2d7a3f===_0x3ab03f(0x15c))handleCsvImport(_0x2fec96['target']['result']);else{if(_0x2d7a3f===_0x3ab03f(0x137))handleTxtImport(_0x2fec96[_0x3ab03f(0x162)][_0x3ab03f(0x131)]);else throw new Error(_0x3ab03f(0x18f));}}}catch(_0x22901b){console['error'](_0x3ab03f(0x13c),_0x22901b),hideLoading(),alert(_0x3ab03f(0x1b0));}},_0x1fa074[_0x5b6554(0x176)](_0x1aaa15);}function deleteSearchResults(){const _0x1e5414=_0x24db1b,_0x33955c=document[_0x1e5414(0x13e)]('searchBar')[_0x1e5414(0x19d)][_0x1e5414(0x147)]();if(!_0x33955c){alert(_0x1e5414(0x16a));return;}if(confirm('Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20tous\x20les\x20tickets\x20correspondant\x20à\x20votre\x20recherche\x20?')){showLoading();const _0x99ae59={};for(let _0x5d22ca in allTickets){const _0x336282=allTickets[_0x5d22ca],_0x1c3c91={'motDePasse':[],'prix':[],'utilisateur':[]};for(let _0x204b95=0x0;_0x204b95<_0x336282[_0x1e5414(0x16c)][_0x1e5414(0x1a7)];_0x204b95++){!matchesSearch(_0x336282,_0x204b95,_0x33955c)&&(_0x1c3c91[_0x1e5414(0x16c)]['push'](_0x336282['motDePasse'][_0x204b95]),_0x1c3c91[_0x1e5414(0x185)][_0x1e5414(0x12f)](_0x336282[_0x1e5414(0x185)][_0x204b95]),_0x1c3c91['utilisateur'][_0x1e5414(0x12f)](_0x336282[_0x1e5414(0x1b5)][_0x204b95]));}_0x99ae59[_0x1e5414(0x172)+_0x5d22ca]=_0x1c3c91;}database[_0x1e5414(0x166)]()[_0x1e5414(0x152)](_0x99ae59)[_0x1e5414(0x199)](()=>{hideLoading(),alert('Les\x20tickets\x20correspondant\x20à\x20la\x20recherche\x20ont\x20été\x20supprimés.');})[_0x1e5414(0x156)](_0x4aa2d2=>{const _0x63f654=_0x1e5414;console['error']('Erreur\x20lors\x20de\x20la\x20suppression\x20des\x20résultats\x20de\x20recherche:',_0x4aa2d2),hideLoading(),alert(_0x63f654(0x198));});}}function searchTickets(){const _0x445600=_0x24db1b,_0x1d70ff=document['getElementById'](_0x445600(0x183))[_0x445600(0x19d)]['trim']();displayTickets(allTickets,_0x1d70ff);}function checkAuth(){const _0x3d2694=_0x24db1b,_0x2c8502=sessionStorage[_0x3d2694(0x150)](_0x3d2694(0x196));if(!_0x2c8502)return window[_0x3d2694(0x155)][_0x3d2694(0x190)]('login.html'),![];return!![];}window['onload']=()=>{checkAuth()&&loadTickets();};function logout(){const _0x46ffad=_0x24db1b;sessionStorage[_0x46ffad(0x1a2)](),window[_0x46ffad(0x155)][_0x46ffad(0x190)](_0x46ffad(0x17a));}document[_0x24db1b(0x13e)](_0x24db1b(0x183))[_0x24db1b(0x14b)](_0x24db1b(0x14c),searchTickets),window[_0x24db1b(0x15b)]=loadTickets;
    </script>
</body>
</html>