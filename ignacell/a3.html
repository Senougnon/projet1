
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion des tickets totaux</title>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --danger-color: #e74c3c;
            --background-color: #ecf0f1;
            --text-color: #34495e;
            --edit-color: #f39c12;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .category-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .category-title {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h1, h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .pin-icon {
            cursor: pointer;
            color: var(--primary-color);
            font-size: 1.2em;
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin-top: 20px;
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        th {
            background-color: var(--primary-color);
            color: white;
            font-weight: bold;
            text-transform: uppercase;
        }

        tr:last-child td {
            border-bottom: none;
        }

        button, .file-input-label {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
            display: inline-block;
            transition: background-color 0.3s ease;
            font-size: 14px;
        }

        button:hover, .file-input-label:hover {
            background-color: #2980b9;
        }

        .delete-btn {
            background-color: var(--danger-color);
        }

        .delete-btn:hover {
            background-color: #c0392b;
        }

        .edit-btn {
            background-color: var(--edit-color);
        }

        .edit-btn:hover {
            background-color: #d68910;
        }

        .add-ticket-btn {
            background-color: var(--secondary-color);
        }

        .add-ticket-btn:hover {
            background-color: #27ae60;
        }

        #searchBar {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid #bdc3c7;
            border-radius: 4px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        #searchBar:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .highlight {
            background-color: #fff176;
            padding: 2px;
            border-radius: 2px;
        }

        #importFile {
            display: none;
        }

        .action-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .loading::after {
            content: "";
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }

        .modal-content {
            position: relative;
            background-color: white;
            margin: 15% auto;
            padding: 20px;
            border-radius: 8px;
            width: 80%;
            max-width: 500px;
        }

        .modal input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .modal-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .action-row {
                flex-direction: column;
                align-items: stretch;
            }

            button, .file-input-label {
                width: 100%;
                margin-right: 0;
                margin-bottom: 10px;
            }
        }
        .logout-button {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
        background-color: #e74c3c;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.3s ease;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .logout-button:hover {
        background-color: #c0392b;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .logout-button:active {
        transform: translateY(0);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .logout-button i {
        font-size: 16px;
    }

    @media (max-width: 768px) {
        .logout-button {
            top: 10px;
            right: 10px;
            padding: 8px 16px;
            font-size: 12px;
        }
    }
    </style>
</head>
<body>
<!-- Remplacez le bouton de déconnexion existant par celui-ci -->
<button onclick="logout()" class="logout-button">
    <i class="fas fa-sign-out-alt"></i> Déconnexion
</button>
    <div class="container">
        <h1>Gestion des tickets totaux</h1>
        <div class="action-row">
            <div>
                <button onclick="exportTickets()">Exporter tous les tickets</button>
                <label for="importFile" class="file-input-label">Importer des tickets</label>
                <input type="file" id="importFile" accept=".json,.csv,.txt" onchange="importTickets(event)">
            </div>
            <button onclick="exportFilteredTickets()">Exporter les tickets filtrés</button>
        </div>
        <input type="text" id="searchBar" placeholder="Rechercher un ticket (mot de passe, prix ou utilisateur)">
        <button onclick="deleteSearchResults()">Supprimer les résultats de recherche</button>
        <div id="ticketCategories"></div>
    </div>

    <div id="loadingIndicator" class="loading" style="display: none;"></div>

    <!-- Modal pour les prix -->
    <div id="priceModal" class="modal">
        <div class="modal-content">
            <h2>Définir le prix</h2>
            <p>Veuillez entrer le prix pour la catégorie <span id="categoryName"></span></p>
            <input type="text" id="priceInput" placeholder="Entrer le prix">
            <div class="modal-buttons">
                <button onclick="confirmPrice()">Confirmer</button>
                <button onclick="cancelImport()">Annuler</button>
            </div>
        </div>
    </div>

    <!-- Modal pour modifier un ticket -->
    <div id="editTicketModal" class="modal">
        <div class="modal-content">
            <h2>Modifier le ticket</h2>
            <input type="text" id="editPassword" placeholder="Mot de passe">
            <input type="text" id="editPrice" placeholder="Prix">
            <input type="text" id="editUser" placeholder="Utilisateur">
            <div class="modal-buttons">
                <button onclick="saveTicketEdit()">Enregistrer</button>
                <button onclick="closeEditModal()">Annuler</button>
            </div>
        </div>
    </div>

    <!-- Modal pour modifier une catégorie -->
    <div id="editCategoryModal" class="modal">
        <div class="modal-content">
            <h2>Modifier la catégorie</h2>
            <input type="text" id="editCategoryName" placeholder="Nouveau nom de la catégorie">
            <div class="modal-buttons">
                <button onclick="saveCategoryEdit()">Enregistrer</button>
                <button onclick="closeEditCategoryModal()">Annuler</button>
            </div>
        </div>
    </div>

    <!-- Modal pour ajouter un ticket -->
    <div id="addTicketModal" class="modal">
        <div class="modal-content">
            <h2>Ajouter un nouveau ticket</h2>
            <input type="text" id="newPassword" placeholder="Mot de passe">
            <input type="text" id="newPrice" placeholder="Prix">
            <input type="text" id="newUser" placeholder="Utilisateur">
            <div class="modal-buttons">
                <button onclick="saveNewTicket()">Ajouter</button>
                <button onclick="closeAddTicketModal()">Annuler</button>
            </div>
        </div>
    </div>

    <script>
const _0x4a1324=_0x2598;(function(_0x2c635b,_0x181709){const _0x29b458=_0x2598,_0x2ab437=_0x2c635b();while(!![]){try{const _0x1ffd77=parseInt(_0x29b458(0x18e))/0x1+-parseInt(_0x29b458(0x19f))/0x2*(parseInt(_0x29b458(0x1e6))/0x3)+parseInt(_0x29b458(0x1c5))/0x4*(-parseInt(_0x29b458(0x208))/0x5)+parseInt(_0x29b458(0x1d5))/0x6*(parseInt(_0x29b458(0x1eb))/0x7)+-parseInt(_0x29b458(0x1f4))/0x8*(-parseInt(_0x29b458(0x1fa))/0x9)+-parseInt(_0x29b458(0x219))/0xa*(parseInt(_0x29b458(0x1da))/0xb)+parseInt(_0x29b458(0x18c))/0xc*(parseInt(_0x29b458(0x1f6))/0xd);if(_0x1ffd77===_0x181709)break;else _0x2ab437['push'](_0x2ab437['shift']());}catch(_0x2d73c3){_0x2ab437['push'](_0x2ab437['shift']());}}}(_0x1f14,0x556ca));const firebaseConfig={'apiKey':'AIzaSyAlqc7BeXqRDcFlg0LUOJ-oZOUPWiiz_bQ','authDomain':_0x4a1324(0x1a0),'databaseURL':_0x4a1324(0x1a8),'projectId':'ignacello','storageBucket':_0x4a1324(0x1cd),'messagingSenderId':'597980876053','appId':_0x4a1324(0x1e5),'measurementId':_0x4a1324(0x1ee)};firebase[_0x4a1324(0x19b)](firebaseConfig);const database=firebase[_0x4a1324(0x209)]();let allTickets={},tempImportData=null,tempCategory=null,currentEditingTicket=null,currentEditingCategory=null,editingCategory='',editingIndex=-0x1;(function(){const _0xd13add=_0x4a1324,_0x27c287=sessionStorage[_0xd13add(0x1af)](_0xd13add(0x1cf));!_0x27c287&&window[_0xd13add(0x1d0)][_0xd13add(0x201)]('login.html');}()),document[_0x4a1324(0x1bf)](_0x4a1324(0x212),function(){const _0x47dddd=_0x4a1324;!sessionStorage['getItem'](_0x47dddd(0x1cf))&&window[_0x47dddd(0x1d0)][_0x47dddd(0x201)]('login.html');}),window[_0x4a1324(0x1bf)]('pageshow',function(_0x37e226){const _0x1933d8=_0x4a1324;(_0x37e226[_0x1933d8(0x1dd)]||!sessionStorage[_0x1933d8(0x1af)](_0x1933d8(0x1cf)))&&window[_0x1933d8(0x1d0)][_0x1933d8(0x201)](_0x1933d8(0x1ec));});function showLoading(){const _0x14abe0=_0x4a1324;document[_0x14abe0(0x206)](_0x14abe0(0x1fb))['style'][_0x14abe0(0x1c2)]='flex';}function hideLoading(){const _0x4e16d5=_0x4a1324;document[_0x4e16d5(0x206)](_0x4e16d5(0x1fb))[_0x4e16d5(0x203)]['display']=_0x4e16d5(0x192);}function loadTickets(){const _0x2cb4d1=_0x4a1324;showLoading();const _0x58e59c=database[_0x2cb4d1(0x1aa)]('TicketsTotal');_0x58e59c['on'](_0x2cb4d1(0x1e3),_0x311922=>{const _0x16522d=_0x2cb4d1;allTickets=_0x311922[_0x16522d(0x1ca)](),displayTickets(allTickets),hideLoading();},_0x4f94ca=>{const _0xef5fe4=_0x2cb4d1;console[_0xef5fe4(0x1c3)](_0xef5fe4(0x19d),_0x4f94ca),hideLoading(),alert('Erreur\x20lors\x20du\x20chargement\x20des\x20tickets.\x20Veuillez\x20réessayer.');});}function displayTickets(_0x4de4e9,_0x134147=''){const _0x290c2a=_0x4a1324,_0x303285=document[_0x290c2a(0x206)](_0x290c2a(0x1be));_0x303285[_0x290c2a(0x207)]='';for(let _0x3307e5 in _0x4de4e9){const _0x26bec7=_0x4de4e9[_0x3307e5],_0x19933a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22category-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22category-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22category-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>'+_0x3307e5+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-thumbtack\x20pin-icon\x22\x20onclick=\x22editCategory(\x27'+_0x3307e5+'\x27)\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22add-ticket-btn\x22\x20onclick=\x22showAddTicketModal(\x27'+_0x3307e5+_0x290c2a(0x194)+_0x3307e5+'\x22\x20class=\x22file-input-label\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-import\x22></i>\x20Importer\x20dans\x20'+_0x3307e5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22file\x22\x20id=\x22importFile_'+_0x3307e5+_0x290c2a(0x1b0)+_0x3307e5+'\x27,\x20event)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteAllTicketsInCategory(\x27'+_0x3307e5+_0x290c2a(0x196)+_0x3307e5+_0x290c2a(0x198)+_0x3307e5+_0x290c2a(0x1ed)+_0x3307e5+_0x290c2a(0x204)+_0x3307e5+_0x290c2a(0x190);_0x303285[_0x290c2a(0x207)]+=_0x19933a;const _0x3169d0=document['getElementById'](_0x290c2a(0x1c1)+_0x3307e5);for(let _0x4ee225=0x0;_0x4ee225<_0x26bec7[_0x290c2a(0x1fe)]['length'];_0x4ee225++){if(_0x134147&&!matchesSearch(_0x26bec7,_0x4ee225,_0x134147))continue;const _0x4a108b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><input\x20type=\x22checkbox\x22\x20name=\x22ticketSelect_'+_0x3307e5+'\x22\x20value=\x22'+_0x4ee225+_0x290c2a(0x1ad)+highlightMatch(_0x26bec7['motDePasse'][_0x4ee225],_0x134147)+_0x290c2a(0x19c)+highlightMatch(_0x26bec7[_0x290c2a(0x1a1)][_0x4ee225],_0x134147)+_0x290c2a(0x19c)+highlightMatch(_0x26bec7[_0x290c2a(0x1d9)][_0x4ee225],_0x134147)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-btn\x22\x20onclick=\x22editTicket(\x27'+_0x3307e5+'\x27,\x20'+_0x4ee225+_0x290c2a(0x1de)+_0x3307e5+_0x290c2a(0x215)+_0x4ee225+_0x290c2a(0x20c);_0x3169d0[_0x290c2a(0x207)]+=_0x4a108b;}}}function editTicket(_0x39ee36,_0x188f67){const _0x2441c0=_0x4a1324;editingCategory=_0x39ee36,editingIndex=_0x188f67;const _0x202e86=allTickets[_0x39ee36];document[_0x2441c0(0x206)](_0x2441c0(0x20e))[_0x2441c0(0x1e3)]=_0x202e86['motDePasse'][_0x188f67],document[_0x2441c0(0x206)](_0x2441c0(0x210))[_0x2441c0(0x1e3)]=_0x202e86[_0x2441c0(0x1a1)][_0x188f67],document['getElementById'](_0x2441c0(0x18d))['value']=_0x202e86['utilisateur'][_0x188f67],document[_0x2441c0(0x206)]('editTicketModal')[_0x2441c0(0x203)]['display']='block';}function saveTicketEdit(){const _0x36c30a=_0x4a1324,_0x5a83f7=document[_0x36c30a(0x206)](_0x36c30a(0x20e))[_0x36c30a(0x1e3)],_0x2406cd=document[_0x36c30a(0x206)](_0x36c30a(0x210))[_0x36c30a(0x1e3)],_0x397a6d=document['getElementById'](_0x36c30a(0x18d))[_0x36c30a(0x1e3)];if(!_0x5a83f7||!_0x2406cd||!_0x397a6d){alert('Tous\x20les\x20champs\x20sont\x20obligatoires');return;}showLoading();const _0x3f7c38={},_0x26d257=allTickets[editingCategory];_0x26d257[_0x36c30a(0x1fe)][editingIndex]=_0x5a83f7,_0x26d257[_0x36c30a(0x1a1)][editingIndex]=_0x2406cd,_0x26d257[_0x36c30a(0x1d9)][editingIndex]=_0x397a6d,_0x3f7c38[_0x36c30a(0x200)+editingCategory]=_0x26d257,database[_0x36c30a(0x1aa)]()[_0x36c30a(0x1e0)](_0x3f7c38)['then'](()=>{const _0x3883ba=_0x36c30a;hideLoading(),closeEditModal(),alert(_0x3883ba(0x211));})['catch'](_0x4e08d6=>{const _0x3e97fd=_0x36c30a;console['error'](_0x3e97fd(0x1c7),_0x4e08d6),hideLoading(),alert(_0x3e97fd(0x217));});}function importTicketsToCategory(_0x1fc79b,_0x3e0fcb){const _0x638aef=_0x4a1324,_0x651e23=_0x3e0fcb[_0x638aef(0x1b3)][_0x638aef(0x1a9)][0x0];if(!_0x651e23)return;showLoading();const _0x55a79d=new FileReader();_0x55a79d['onload']=function(_0x546211){const _0x3ec589=_0x638aef;try{const _0x1342ab=_0x651e23['name']['split']('.')[_0x3ec589(0x1d6)]()[_0x3ec589(0x1f5)]();if(_0x1342ab===_0x3ec589(0x1a7))handleJsonImportToCategory(_0x546211['target'][_0x3ec589(0x195)],_0x1fc79b);else{if(_0x1342ab==='csv')handleCsvImportToCategory(_0x546211[_0x3ec589(0x1b3)][_0x3ec589(0x195)],_0x1fc79b);else{if(_0x1342ab===_0x3ec589(0x1b2))handleTxtImportToCategory(_0x546211[_0x3ec589(0x1b3)]['result'],_0x1fc79b);else throw new Error(_0x3ec589(0x1d7));}}}catch(_0xdee3ca){console[_0x3ec589(0x1c3)]('Erreur\x20d\x27importation:',_0xdee3ca),hideLoading(),alert(_0x3ec589(0x1fd));}},_0x55a79d[_0x638aef(0x1e7)](_0x651e23);}function handleJsonImportToCategory(_0x56bb35,_0x27f00b){const _0x55911e=_0x4a1324,_0x40a019=JSON['parse'](_0x56bb35);let _0x54d3bf;if(_0x40a019[_0x55911e(0x1fe)])_0x54d3bf=_0x40a019;else{if(_0x40a019[_0x27f00b])_0x54d3bf=_0x40a019[_0x27f00b];else{hideLoading(),alert(_0x55911e(0x1b5));return;}}mergeTicketsToCategory(_0x27f00b,_0x54d3bf);}function handleCsvImportToCategory(_0x314cbc,_0x3d6935){const _0x33fb3c=_0x4a1324,_0x639daf=_0x314cbc[_0x33fb3c(0x1dc)]('\x0a'),_0x5b202f={'motDePasse':[],'prix':[],'utilisateur':[]};for(let _0x4f09f2=0x1;_0x4f09f2<_0x639daf[_0x33fb3c(0x20f)];_0x4f09f2++){if(!_0x639daf[_0x4f09f2][_0x33fb3c(0x1a4)]())continue;const _0x2d27b1=_0x639daf[_0x4f09f2][_0x33fb3c(0x1dc)](',');_0x5b202f[_0x33fb3c(0x1d9)][_0x33fb3c(0x202)](_0x2d27b1[0x0][_0x33fb3c(0x1a4)]()),_0x5b202f[_0x33fb3c(0x1fe)][_0x33fb3c(0x202)](_0x2d27b1[0x1]['trim']()),_0x2d27b1[0x3]&&_0x5b202f[_0x33fb3c(0x1a1)][_0x33fb3c(0x202)](_0x2d27b1[0x3][_0x33fb3c(0x1a4)]());}!_0x5b202f['prix']['length']?(tempImportData={[_0x3d6935]:_0x5b202f},tempCategory=_0x3d6935,showPriceModal(_0x3d6935)):mergeTicketsToCategory(_0x3d6935,_0x5b202f);}function handleTxtImportToCategory(_0x25292f,_0x44c708){const _0x1af955=_0x4a1324,_0x257fde=_0x25292f['split']('\x0a'),_0xf62258={'motDePasse':[],'prix':[],'utilisateur':[]},_0x26b2ce=/add name="([^"]+)" password="([^"]+)"/;for(let _0xe43560 of _0x257fde){_0xe43560=_0xe43560['trim']();if(!_0xe43560||_0xe43560===_0x1af955(0x214))continue;const _0x1f8002=_0xe43560[_0x1af955(0x1f8)](_0x26b2ce);if(_0x1f8002){const [_0x21a3a7,_0x1091b2,_0x3fb490]=_0x1f8002;_0xf62258['utilisateur'][_0x1af955(0x202)](_0x1091b2),_0xf62258['motDePasse'][_0x1af955(0x202)](_0x3fb490);}}_0xf62258[_0x1af955(0x1fe)][_0x1af955(0x20f)]>0x0?(tempImportData={[_0x44c708]:_0xf62258},tempCategory=_0x44c708,showPriceModal(_0x44c708)):(hideLoading(),alert(_0x1af955(0x1f9)));}function mergeTicketsToCategory(_0x38765c,_0x453415){const _0xf3198c=_0x4a1324;!allTickets[_0x38765c]&&(allTickets[_0x38765c]={'motDePasse':[],'prix':[],'utilisateur':[]});const _0x805815=allTickets[_0x38765c],_0x5df4fc={'motDePasse':[..._0x805815[_0xf3198c(0x1fe)],..._0x453415[_0xf3198c(0x1fe)]],'prix':[..._0x805815[_0xf3198c(0x1a1)],..._0x453415[_0xf3198c(0x1a1)]],'utilisateur':[..._0x805815[_0xf3198c(0x1d9)],..._0x453415['utilisateur']]};database['ref'](_0xf3198c(0x200)+_0x38765c)[_0xf3198c(0x1e2)](_0x5df4fc)['then'](()=>{const _0x448468=_0xf3198c;hideLoading(),alert('Importation\x20réussie\x20dans\x20la\x20catégorie\x20'+_0x38765c+_0x448468(0x1f1));})[_0xf3198c(0x1ce)](_0x1f3b44=>{const _0x1600ac=_0xf3198c;console['error'](_0x1600ac(0x205),_0x1f3b44),hideLoading(),alert(_0x1600ac(0x1c9));});}function editCategory(_0x2026ec){const _0x2596a1=_0x4a1324;currentEditingCategory=_0x2026ec,document['getElementById']('editCategoryName')[_0x2596a1(0x1e3)]=_0x2026ec,document[_0x2596a1(0x206)](_0x2596a1(0x1ab))[_0x2596a1(0x203)]['display']=_0x2596a1(0x19a);}function saveCategoryEdit(){const _0xafcdf1=_0x4a1324,_0x16510a=document['getElementById']('editCategoryName')[_0xafcdf1(0x1e3)][_0xafcdf1(0x1a4)]();if(!_0x16510a){alert(_0xafcdf1(0x18b));return;}if(_0x16510a===currentEditingCategory){closeEditCategoryModal();return;}showLoading();const _0x36d0be=allTickets[currentEditingCategory],_0xb39d41={[_0xafcdf1(0x200)+currentEditingCategory]:null,[_0xafcdf1(0x200)+_0x16510a]:_0x36d0be};database[_0xafcdf1(0x1aa)]()['update'](_0xb39d41)['then'](()=>{hideLoading(),closeEditCategoryModal(),alert('Catégorie\x20modifiée\x20avec\x20succès!');})[_0xafcdf1(0x1ce)](_0x33437c=>{const _0x1a5260=_0xafcdf1;console[_0x1a5260(0x1c3)](_0x1a5260(0x1e8),_0x33437c),hideLoading(),alert('Erreur\x20lors\x20de\x20la\x20modification\x20de\x20la\x20catégorie');});}function showAddTicketModal(_0x5219e8){const _0x5d1fce=_0x4a1324;currentEditingCategory=_0x5219e8,document[_0x5d1fce(0x206)](_0x5d1fce(0x1a5))[_0x5d1fce(0x1e3)]='',document['getElementById']('newPrice')[_0x5d1fce(0x1e3)]='',document['getElementById']('newUser')[_0x5d1fce(0x1e3)]='',document[_0x5d1fce(0x206)](_0x5d1fce(0x20a))[_0x5d1fce(0x203)][_0x5d1fce(0x1c2)]=_0x5d1fce(0x19a);}function saveNewTicket(){const _0x2998ac=_0x4a1324,_0xb55dd1=document[_0x2998ac(0x206)]('newPassword')[_0x2998ac(0x1e3)][_0x2998ac(0x1a4)](),_0x5d9f90=document['getElementById'](_0x2998ac(0x1e1))[_0x2998ac(0x1e3)][_0x2998ac(0x1a4)](),_0x1d3321=document['getElementById'](_0x2998ac(0x19e))[_0x2998ac(0x1e3)][_0x2998ac(0x1a4)]();if(!_0xb55dd1||!_0x5d9f90||!_0x1d3321){alert(_0x2998ac(0x1ea));return;}showLoading();const _0x25a0a0=allTickets[currentEditingCategory];_0x25a0a0[_0x2998ac(0x1fe)][_0x2998ac(0x202)](_0xb55dd1),_0x25a0a0[_0x2998ac(0x1a1)]['push'](_0x5d9f90),_0x25a0a0[_0x2998ac(0x1d9)]['push'](_0x1d3321),database[_0x2998ac(0x1aa)](_0x2998ac(0x200)+currentEditingCategory)[_0x2998ac(0x1e2)](_0x25a0a0)[_0x2998ac(0x1d4)](()=>{const _0x1ff05e=_0x2998ac;hideLoading(),closeAddTicketModal(),alert(_0x1ff05e(0x197));})['catch'](_0x12f2d2=>{const _0x2fa3f5=_0x2998ac;console['error']('Erreur\x20lors\x20de\x20l\x27ajout\x20du\x20ticket:',_0x12f2d2),hideLoading(),alert(_0x2fa3f5(0x1ac));});}function closeEditModal(){const _0x3ab004=_0x4a1324;document[_0x3ab004(0x206)](_0x3ab004(0x1d8))[_0x3ab004(0x203)]['display']=_0x3ab004(0x192),editingCategory='',editingIndex=-0x1;}function closeEditCategoryModal(){const _0x44f36a=_0x4a1324;document['getElementById'](_0x44f36a(0x1ab))[_0x44f36a(0x203)]['display']=_0x44f36a(0x192),currentEditingCategory=null;}function closeAddTicketModal(){const _0x17f71b=_0x4a1324;document[_0x17f71b(0x206)](_0x17f71b(0x20a))[_0x17f71b(0x203)][_0x17f71b(0x1c2)]=_0x17f71b(0x192),currentEditingCategory=null;}function matchesSearch(_0x33c8e4,_0x2fa486,_0x1fcb96){const _0x3e02ed=_0x4a1324,_0x3b20b3=_0x1fcb96[_0x3e02ed(0x1f5)]();return _0x33c8e4[_0x3e02ed(0x1fe)][_0x2fa486][_0x3e02ed(0x1f5)]()[_0x3e02ed(0x1ae)](_0x3b20b3)||_0x33c8e4['prix'][_0x2fa486][_0x3e02ed(0x1f5)]()['includes'](_0x3b20b3)||_0x33c8e4[_0x3e02ed(0x1d9)][_0x2fa486][_0x3e02ed(0x1f5)]()['includes'](_0x3b20b3);}function highlightMatch(_0x44e212,_0x8cc2c9){const _0x3a6c8c=_0x4a1324;if(!_0x8cc2c9)return _0x44e212;const _0xd3211b=new RegExp(_0x8cc2c9,'gi');return _0x44e212[_0x3a6c8c(0x201)](_0xd3211b,_0x5acee6=>_0x3a6c8c(0x1a2)+_0x5acee6+'</span>');}function deleteTicket(_0x9547f9,_0x1e7935){const _0x12fcb3=_0x4a1324;if(confirm(_0x12fcb3(0x213))){showLoading();const _0x5a7795=allTickets[_0x9547f9];_0x5a7795[_0x12fcb3(0x1fe)][_0x12fcb3(0x1e4)](_0x1e7935,0x1),_0x5a7795[_0x12fcb3(0x1a1)][_0x12fcb3(0x1e4)](_0x1e7935,0x1),_0x5a7795[_0x12fcb3(0x1d9)][_0x12fcb3(0x1e4)](_0x1e7935,0x1),database['ref'](_0x12fcb3(0x200)+_0x9547f9)[_0x12fcb3(0x1e2)](_0x5a7795)[_0x12fcb3(0x1d4)](()=>{hideLoading(),alert('Ticket\x20supprimé\x20avec\x20succès!');})[_0x12fcb3(0x1ce)](_0x1322b2=>{const _0x49116d=_0x12fcb3;console['error'](_0x49116d(0x1b6),_0x1322b2),hideLoading(),alert(_0x49116d(0x1a3));});}}function deleteSelectedTickets(_0x646359){const _0x198941=_0x4a1324,_0xaf7a9c=document[_0x198941(0x1bd)]('input[name=\x22ticketSelect_'+_0x646359+'\x22]:checked');if(_0xaf7a9c[_0x198941(0x20f)]===0x0){alert(_0x198941(0x1f0));return;}if(confirm('Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20les\x20tickets\x20sélectionnés\x20?')){showLoading();const _0x1c5dea=allTickets[_0x646359],_0x32b313=Array[_0x198941(0x1cc)](_0xaf7a9c)[_0x198941(0x218)](_0x200dd6=>parseInt(_0x200dd6[_0x198941(0x1e3)]))['sort']((_0x232652,_0x453522)=>_0x453522-_0x232652);_0x32b313['forEach'](_0x165c7b=>{const _0x457b78=_0x198941;_0x1c5dea[_0x457b78(0x1fe)][_0x457b78(0x1e4)](_0x165c7b,0x1),_0x1c5dea[_0x457b78(0x1a1)][_0x457b78(0x1e4)](_0x165c7b,0x1),_0x1c5dea['utilisateur'][_0x457b78(0x1e4)](_0x165c7b,0x1);}),database[_0x198941(0x1aa)](_0x198941(0x200)+_0x646359)[_0x198941(0x1e2)](_0x1c5dea)[_0x198941(0x1d4)](()=>{const _0x9a6560=_0x198941;hideLoading(),alert(_0x9a6560(0x1e9));})[_0x198941(0x1ce)](_0x5b2f0e=>{const _0x359449=_0x198941;console['error'](_0x359449(0x1b6),_0x5b2f0e),hideLoading(),alert(_0x359449(0x1c6));});}}function deleteAllTicketsInCategory(_0xe7cd54){const _0x5d2ffb=_0x4a1324;confirm('Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20TOUS\x20les\x20tickets\x20de\x20la\x20catégorie\x20'+_0xe7cd54+'\x20?')&&(showLoading(),database[_0x5d2ffb(0x1aa)](_0x5d2ffb(0x200)+_0xe7cd54)['set']({'motDePasse':[],'prix':[],'utilisateur':[]})[_0x5d2ffb(0x1d4)](()=>{const _0x5d5408=_0x5d2ffb;hideLoading(),alert(_0x5d5408(0x1d2));})[_0x5d2ffb(0x1ce)](_0x52f6bf=>{const _0x19c727=_0x5d2ffb;console[_0x19c727(0x1c3)](_0x19c727(0x1b6),_0x52f6bf),hideLoading(),alert(_0x19c727(0x1c6));}));}function exportTickets(){const _0x408d19=_0x4a1324,_0x348c80=_0x408d19(0x1b8)+encodeURIComponent(JSON[_0x408d19(0x1bb)](allTickets,null,0x2)),_0x74c6b6=document[_0x408d19(0x1c8)]('a');_0x74c6b6[_0x408d19(0x1f2)]('href',_0x348c80),_0x74c6b6[_0x408d19(0x1f2)]('download',_0x408d19(0x20d)),document['body'][_0x408d19(0x1fc)](_0x74c6b6),_0x74c6b6[_0x408d19(0x199)](),_0x74c6b6['remove']();}function exportFilteredTickets(){const _0x32c0cf=_0x4a1324,_0x1c0f12=document[_0x32c0cf(0x206)](_0x32c0cf(0x1f3))[_0x32c0cf(0x1e3)]['trim'](),_0x154ae9={};for(let _0x232525 in allTickets){const _0x1f8aa9=allTickets[_0x232525];_0x154ae9[_0x232525]={'motDePasse':[],'prix':[],'utilisateur':[]};for(let _0x79433e=0x0;_0x79433e<_0x1f8aa9[_0x32c0cf(0x1fe)][_0x32c0cf(0x20f)];_0x79433e++){(!_0x1c0f12||matchesSearch(_0x1f8aa9,_0x79433e,_0x1c0f12))&&(_0x154ae9[_0x232525][_0x32c0cf(0x1fe)][_0x32c0cf(0x202)](_0x1f8aa9[_0x32c0cf(0x1fe)][_0x79433e]),_0x154ae9[_0x232525][_0x32c0cf(0x1a1)][_0x32c0cf(0x202)](_0x1f8aa9[_0x32c0cf(0x1a1)][_0x79433e]),_0x154ae9[_0x232525]['utilisateur'][_0x32c0cf(0x202)](_0x1f8aa9[_0x32c0cf(0x1d9)][_0x79433e]));}}const _0x28fc83='data:text/json;charset=utf-8,'+encodeURIComponent(JSON[_0x32c0cf(0x1bb)](_0x154ae9,null,0x2)),_0x1a4083=document[_0x32c0cf(0x1c8)]('a');_0x1a4083['setAttribute']('href',_0x28fc83),_0x1a4083[_0x32c0cf(0x1f2)](_0x32c0cf(0x20b),'filtered_tickets_export.json'),document[_0x32c0cf(0x1b4)][_0x32c0cf(0x1fc)](_0x1a4083),_0x1a4083[_0x32c0cf(0x199)](),_0x1a4083[_0x32c0cf(0x1ff)]();}function handleJsonImport(_0x368b57){const _0x1d677c=_0x4a1324,_0x553f06=JSON[_0x1d677c(0x1b7)](_0x368b57);if(confirm(_0x1d677c(0x1b9))){const _0x19d9fc={};for(let _0x35b14d in _0x553f06){allTickets[_0x35b14d]?_0x19d9fc[_0x1d677c(0x200)+_0x35b14d]={'motDePasse':[...allTickets[_0x35b14d][_0x1d677c(0x1fe)],..._0x553f06[_0x35b14d][_0x1d677c(0x1fe)]],'prix':[...allTickets[_0x35b14d][_0x1d677c(0x1a1)],..._0x553f06[_0x35b14d][_0x1d677c(0x1a1)]],'utilisateur':[...allTickets[_0x35b14d][_0x1d677c(0x1d9)],..._0x553f06[_0x35b14d][_0x1d677c(0x1d9)]]}:_0x19d9fc['TicketsTotal/'+_0x35b14d]=_0x553f06[_0x35b14d];}database[_0x1d677c(0x1aa)]()[_0x1d677c(0x1e0)](_0x19d9fc)[_0x1d677c(0x1d4)](()=>{hideLoading(),alert('Importation\x20réussie\x20!');})[_0x1d677c(0x1ce)](_0x582954=>{const _0x545df5=_0x1d677c;console[_0x545df5(0x1c3)](_0x545df5(0x205),_0x582954),hideLoading(),alert(_0x545df5(0x1c9));});}else hideLoading();}function handleCsvImport(_0x153dca){const _0x3b9e84=_0x4a1324,_0xf82458=_0x153dca['split']('\x0a'),_0x10d84d={};for(let _0x205fb7=0x1;_0x205fb7<_0xf82458[_0x3b9e84(0x20f)];_0x205fb7++){if(!_0xf82458[_0x205fb7]['trim']())continue;const _0x6041e5=_0xf82458[_0x205fb7]['split'](','),_0x20df82=_0x6041e5[0x2][_0x3b9e84(0x1a4)]();!_0x10d84d[_0x20df82]&&(_0x10d84d[_0x20df82]={'motDePasse':[],'prix':[],'utilisateur':[]}),_0x10d84d[_0x20df82]['utilisateur']['push'](_0x6041e5[0x0][_0x3b9e84(0x1a4)]()),_0x10d84d[_0x20df82][_0x3b9e84(0x1fe)][_0x3b9e84(0x202)](_0x6041e5[0x1][_0x3b9e84(0x1a4)]());}tempImportData=_0x10d84d;const _0x3d2292=Object[_0x3b9e84(0x1df)](_0x10d84d)[0x0];showPriceModal(_0x3d2292);}function handleTxtImport(_0x42c287){const _0x408f82=_0x4a1324,_0x24a7e3=_0x42c287[_0x408f82(0x1dc)]('\x0a'),_0x4dbcf8={},_0xe526c1=/add name="([^"]+)" password="([^"]+)" profile="([^"]+)"/;for(let _0x54bc4b of _0x24a7e3){_0x54bc4b=_0x54bc4b[_0x408f82(0x1a4)]();if(!_0x54bc4b||_0x54bc4b===_0x408f82(0x214))continue;const _0x368f92=_0x54bc4b['match'](_0xe526c1);if(_0x368f92){const [_0x603559,_0x238d4c,_0xd7b6e1,_0x164b74]=_0x368f92;!_0x4dbcf8[_0x164b74]&&(_0x4dbcf8[_0x164b74]={'motDePasse':[],'prix':[],'utilisateur':[]}),_0x4dbcf8[_0x164b74]['utilisateur'][_0x408f82(0x202)](_0x238d4c),_0x4dbcf8[_0x164b74][_0x408f82(0x1fe)][_0x408f82(0x202)](_0xd7b6e1);}}if(Object[_0x408f82(0x1df)](_0x4dbcf8)[_0x408f82(0x20f)]===0x0){hideLoading(),alert(_0x408f82(0x216));return;}tempImportData=_0x4dbcf8;const _0x14e697=Object[_0x408f82(0x1df)](_0x4dbcf8)[0x0];showPriceModal(_0x14e697);}function showPriceModal(_0x31cf26){const _0x1cf0ac=_0x4a1324;tempCategory=_0x31cf26,document[_0x1cf0ac(0x206)](_0x1cf0ac(0x191))['textContent']=_0x31cf26,document[_0x1cf0ac(0x206)](_0x1cf0ac(0x1c0))[_0x1cf0ac(0x203)]['display']=_0x1cf0ac(0x19a);}function confirmPrice(){const _0x349b87=_0x4a1324,_0x45f266=document[_0x349b87(0x206)](_0x349b87(0x1f7))[_0x349b87(0x1e3)][_0x349b87(0x1a4)]();if(!_0x45f266){alert(_0x349b87(0x1bc));return;}tempImportData[tempCategory][_0x349b87(0x1a1)]=Array(tempImportData[tempCategory][_0x349b87(0x1fe)]['length'])[_0x349b87(0x1b1)](_0x45f266);const _0x4109de=Object[_0x349b87(0x1df)](tempImportData),_0x4fc3b1=_0x4109de[_0x349b87(0x1ef)](tempCategory);_0x4fc3b1<_0x4109de[_0x349b87(0x20f)]-0x1?(document[_0x349b87(0x206)](_0x349b87(0x1f7))['value']='',showPriceModal(_0x4109de[_0x4fc3b1+0x1])):finishImport();}function cancelImport(){const _0x20fe6e=_0x4a1324;document[_0x20fe6e(0x206)](_0x20fe6e(0x1c0))['style'][_0x20fe6e(0x1c2)]=_0x20fe6e(0x192),document[_0x20fe6e(0x206)](_0x20fe6e(0x1d1))[_0x20fe6e(0x1e3)]='',tempImportData=null,tempCategory=null,hideLoading();}function finishImport(){const _0x13982a=_0x4a1324;if(confirm(_0x13982a(0x1b9))){const _0x1ccb1c={};for(let _0x1079c1 in tempImportData){allTickets[_0x1079c1]?_0x1ccb1c[_0x13982a(0x200)+_0x1079c1]={'motDePasse':[...allTickets[_0x1079c1][_0x13982a(0x1fe)],...tempImportData[_0x1079c1]['motDePasse']],'prix':[...allTickets[_0x1079c1][_0x13982a(0x1a1)],...tempImportData[_0x1079c1]['prix']],'utilisateur':[...allTickets[_0x1079c1][_0x13982a(0x1d9)],...tempImportData[_0x1079c1][_0x13982a(0x1d9)]]}:_0x1ccb1c[_0x13982a(0x200)+_0x1079c1]=tempImportData[_0x1079c1];}database[_0x13982a(0x1aa)]()[_0x13982a(0x1e0)](_0x1ccb1c)[_0x13982a(0x1d4)](()=>{const _0x31d5b2=_0x13982a;document[_0x31d5b2(0x206)]('priceModal')[_0x31d5b2(0x203)]['display']=_0x31d5b2(0x192),document[_0x31d5b2(0x206)](_0x31d5b2(0x1d1))[_0x31d5b2(0x1e3)]='',tempImportData=null,tempCategory=null,hideLoading(),alert('Importation\x20réussie\x20!');})[_0x13982a(0x1ce)](_0x446c55=>{const _0x213dbc=_0x13982a;console[_0x213dbc(0x1c3)]('Erreur\x20lors\x20de\x20l\x27importation:',_0x446c55),hideLoading(),alert(_0x213dbc(0x1c9));});}else cancelImport();}function importTickets(_0x68a9fd){const _0x26aaf8=_0x4a1324,_0x3bfe36=_0x68a9fd['target'][_0x26aaf8(0x1a9)][0x0];if(!_0x3bfe36)return;showLoading();const _0x361ee5=new FileReader();_0x361ee5[_0x26aaf8(0x1d3)]=function(_0x58137e){const _0x4009b6=_0x26aaf8;try{const _0x777f12=_0x3bfe36[_0x4009b6(0x18f)]['split']('.')[_0x4009b6(0x1d6)]()[_0x4009b6(0x1f5)]();if(_0x777f12===_0x4009b6(0x1a7))handleJsonImport(_0x58137e['target'][_0x4009b6(0x195)]);else{if(_0x777f12==='csv')handleCsvImport(_0x58137e['target'][_0x4009b6(0x195)]);else{if(_0x777f12===_0x4009b6(0x1b2))handleTxtImport(_0x58137e[_0x4009b6(0x1b3)]['result']);else throw new Error(_0x4009b6(0x1d7));}}}catch(_0x26eda9){console[_0x4009b6(0x1c3)](_0x4009b6(0x1c4),_0x26eda9),hideLoading(),alert(_0x4009b6(0x1fd));}},_0x361ee5[_0x26aaf8(0x1e7)](_0x3bfe36);}function deleteSearchResults(){const _0x22b869=_0x4a1324,_0x4d5d76=document[_0x22b869(0x206)](_0x22b869(0x1f3))[_0x22b869(0x1e3)][_0x22b869(0x1a4)]();if(!_0x4d5d76){alert('Veuillez\x20entrer\x20un\x20terme\x20de\x20recherche\x20avant\x20de\x20supprimer.');return;}if(confirm(_0x22b869(0x1a6))){showLoading();const _0x45d244={};for(let _0x52b9e2 in allTickets){const _0x2a0ae1=allTickets[_0x52b9e2],_0x4aacf4={'motDePasse':[],'prix':[],'utilisateur':[]};for(let _0x25f52a=0x0;_0x25f52a<_0x2a0ae1[_0x22b869(0x1fe)][_0x22b869(0x20f)];_0x25f52a++){!matchesSearch(_0x2a0ae1,_0x25f52a,_0x4d5d76)&&(_0x4aacf4[_0x22b869(0x1fe)][_0x22b869(0x202)](_0x2a0ae1[_0x22b869(0x1fe)][_0x25f52a]),_0x4aacf4[_0x22b869(0x1a1)][_0x22b869(0x202)](_0x2a0ae1[_0x22b869(0x1a1)][_0x25f52a]),_0x4aacf4['utilisateur']['push'](_0x2a0ae1[_0x22b869(0x1d9)][_0x25f52a]));}_0x45d244[_0x22b869(0x200)+_0x52b9e2]=_0x4aacf4;}database[_0x22b869(0x1aa)]()[_0x22b869(0x1e0)](_0x45d244)[_0x22b869(0x1d4)](()=>{const _0x2df08b=_0x22b869;hideLoading(),alert(_0x2df08b(0x1db));})[_0x22b869(0x1ce)](_0x3efbef=>{const _0x7dfa67=_0x22b869;console['error'](_0x7dfa67(0x1ba),_0x3efbef),hideLoading(),alert(_0x7dfa67(0x1cb));});}}function _0x2598(_0x879ed2,_0x1f0d5b){const _0x1f14b7=_0x1f14();return _0x2598=function(_0x2598d9,_0x50b8a2){_0x2598d9=_0x2598d9-0x18b;let _0x2187ba=_0x1f14b7[_0x2598d9];return _0x2187ba;},_0x2598(_0x879ed2,_0x1f0d5b);}function searchTickets(){const _0x35d868=_0x4a1324,_0x4cf5b4=document['getElementById'](_0x35d868(0x1f3))[_0x35d868(0x1e3)][_0x35d868(0x1a4)]();displayTickets(allTickets,_0x4cf5b4);}function checkAuth(){const _0x646892=_0x4a1324,_0x231e6b=sessionStorage[_0x646892(0x1af)]('isLoggedIn');if(!_0x231e6b)return window[_0x646892(0x1d0)]['replace'](_0x646892(0x1ec)),![];return!![];}window[_0x4a1324(0x1d3)]=()=>{checkAuth()&&loadTickets();};function logout(){const _0x75e5ef=_0x4a1324;sessionStorage[_0x75e5ef(0x193)](),window['location'][_0x75e5ef(0x201)]('login.html');}document['getElementById'](_0x4a1324(0x1f3))[_0x4a1324(0x1bf)]('input',searchTickets),window['onload']=loadTickets;function _0x1f14(){const _0x3d8878=['\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','includes','getItem','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20accept=\x22.json,.csv,.txt\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22display:\x20none;\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onchange=\x22importTicketsToCategory(\x27','fill','txt','target','body','Format\x20JSON\x20invalide\x20ou\x20catégorie\x20non\x20trouvée','Erreur\x20lors\x20de\x20la\x20suppression:','parse','data:text/json;charset=utf-8,','Êtes-vous\x20sûr\x20de\x20vouloir\x20importer\x20ces\x20tickets\x20?\x20Les\x20nouveaux\x20tickets\x20seront\x20ajoutés\x20aux\x20tickets\x20existants.','Erreur\x20lors\x20de\x20la\x20suppression\x20des\x20résultats\x20de\x20recherche:','stringify','Veuillez\x20entrer\x20un\x20prix','querySelectorAll','ticketCategories','addEventListener','priceModal','ticketsBody_','display','error','Erreur\x20d\x27importation:','4KdYtWs','Erreur\x20lors\x20de\x20la\x20suppression\x20des\x20tickets','Erreur\x20lors\x20de\x20la\x20modification:','createElement','Erreur\x20lors\x20de\x20l\x27importation.\x20Veuillez\x20réessayer.','val','Erreur\x20lors\x20de\x20la\x20suppression\x20des\x20résultats\x20de\x20recherche.\x20Veuillez\x20réessayer.','from','ignacello.firebasestorage.app','catch','isLoggedIn','location','importFile','Tous\x20les\x20tickets\x20de\x20la\x20catégorie\x20ont\x20été\x20supprimés\x20avec\x20succès!','onload','then','12uSTDbm','pop','Format\x20de\x20fichier\x20non\x20supporté','editTicketModal','utilisateur','11FRwpcI','Les\x20tickets\x20correspondant\x20à\x20la\x20recherche\x20ont\x20été\x20supprimés.','split','persisted',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Modifier\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-btn\x22\x20onclick=\x22deleteTicket(\x27','keys','update','newPrice','set','value','splice','1:597980876053:web:54157b35144f9ac3896d1c','15jEDzFh','readAsText','Erreur\x20lors\x20de\x20la\x20modification\x20de\x20la\x20catégorie:','Tickets\x20sélectionnés\x20supprimés\x20avec\x20succès!','Tous\x20les\x20champs\x20sont\x20obligatoires','2367806cKvfEt','login.html','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteSelectedTickets(\x27','G-779KM1CLBE','indexOf','Veuillez\x20sélectionner\x20au\x20moins\x20un\x20ticket\x20à\x20supprimer','\x20!\x20Les\x20nouveaux\x20tickets\x20ont\x20été\x20ajoutés\x20aux\x20existants.','setAttribute','searchBar','933528rPIeVh','toLowerCase','488553nZDUTw','priceInput','match','Aucun\x20ticket\x20valide\x20trouvé\x20dans\x20le\x20fichier','18RqMKKo','loadingIndicator','appendChild','Erreur\x20lors\x20de\x20l\x27importation.\x20Veuillez\x20vérifier\x20le\x20format\x20du\x20fichier.','motDePasse','remove','TicketsTotal/','replace','push','style','\x27)\x22>Supprimer\x20les\x20tickets\x20sélectionnés\x20de\x20','Erreur\x20lors\x20de\x20l\x27importation:','getElementById','innerHTML','244770UhKiED','database','addTicketModal','download',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x20Supprimer\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tickets_export.json','editPassword','length','editPrice','Ticket\x20modifié\x20avec\x20succès!','DOMContentLoaded','Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20ce\x20ticket\x20?','/ip\x20hotspot\x20user','\x27,\x20','Aucun\x20ticket\x20valide\x20n\x27a\x20été\x20trouvé\x20dans\x20le\x20fichier','Erreur\x20lors\x20de\x20la\x20modification\x20du\x20ticket','map','1078970oNCNFY','Le\x20nom\x20de\x20la\x20catégorie\x20ne\x20peut\x20pas\x20être\x20vide','24ssNcIv','editUser','64424flcPyi','name','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','categoryName','none','clear','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus\x22></i>\x20Ajouter\x20un\x20ticket\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22importFile_','result','\x27)\x22>Supprimer\x20tous\x20les\x20tickets\x20de\x20','Ticket\x20ajouté\x20avec\x20succès!','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Sélectionner</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Mot\x20de\x20passe</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Prix</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Utilisateur</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Actions</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody\x20id=\x22ticketsBody_','click','block','initializeApp','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','Erreur\x20lors\x20du\x20chargement\x20des\x20tickets:','newUser','217094qkQUpl','ignacello.firebaseapp.com','prix','<span\x20class=\x22highlight\x22>','Erreur\x20lors\x20de\x20la\x20suppression\x20du\x20ticket','trim','newPassword','Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20tous\x20les\x20tickets\x20correspondant\x20à\x20votre\x20recherche\x20?','json','https://ignacello-default-rtdb.firebaseio.com','files','ref','editCategoryModal','Erreur\x20lors\x20de\x20l\x27ajout\x20du\x20ticket'];_0x1f14=function(){return _0x3d8878;};return _0x1f14();}
    </script>
</body>
</html>
