<!DOCTYPE html>
<html>
<head>
<title>Recraft Image Generator</title>
<style>
body {
  font-family: sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
}
#imageContainer {
  width: 512px; /* Adjust as needed */
  height: 512px; /* Adjust as needed */
  border: 1px solid #ccc;
  margin-top: 20px;
}
img {
  max-width: 100%;
  max-height: 100%;
}

</style>
</head>
<body>
  <h1>Recraft Image Generator</h1>

  <input type="text" id="prompt" placeholder="Enter prompt">
  <select id="style">
    <option value="realistic_image">Realistic Image</option>
    <option value="digital_illustration">Digital Illustration</option>
    <option value="vector_illustration">Vector Illustration</option>
    <option value="icon">Icon</option>
  </select>
  <select id="size">
    <option value="1024x1024">1024x1024</option>
    <option value="1365x1024">1365x1024</option>
    <option value="1024x1365">1024x1365</option>
    <!-- Add other sizes -->
  </select>
  <button onclick="generateImage()">Generate</button>

  <div id="imageContainer"></div>

<script>
const apiKey = 'aJE0agNtftcETLBX5EBJhoy2CKvMVfA7SSr6bqsAydjrWl7imvzLHG7E90jp7Rjs'; // Replace with your actual API key
const apiUrl = 'https://external.api.recraft.ai/v1/images/generations';

async function generateImage() {
  const prompt = document.getElementById('prompt').value;
  const style = document.getElementById('style').value;
  const size = document.getElementById('size').value;


  const headers = {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${apiKey}`,
  };

  const body = {
    prompt: prompt,
    style: style,
    size: size, // Include size in the request
  };

  try {
    const response = await fetch(apiUrl, {
      method: 'POST',
      headers: headers,
      body: JSON.stringify(body),
    });

    if (!response.ok) {
      const errorData = await response.json(); // Get error details
      throw new Error(`API Error: ${response.status} - ${errorData.error.message}`); // Throw error with details
    }


    const data = await response.json();
    const imageUrl = data.data[0].url;

    const imageContainer = document.getElementById('imageContainer');
    imageContainer.innerHTML = `<img src="${imageUrl}" alt="${prompt}">`;

  } catch (error) {
    console.error(error); // Log the detailed error
    const imageContainer = document.getElementById('imageContainer');
    imageContainer.innerHTML = `<p style="color: red;">${error.message}</p>`; // Display error to user
  }
}

</script>
</body>
</html>
