const _0x2da02f=_0x3b25;(function(_0x50fea1,_0x5ccb89){const _0x4e96cc=_0x3b25,_0x653b16=_0x50fea1();while(!![]){try{const _0x5321f3=parseInt(_0x4e96cc(0x29c))/0x1*(parseInt(_0x4e96cc(0x2a0))/0x2)+parseInt(_0x4e96cc(0x1d6))/0x3+-parseInt(_0x4e96cc(0x26e))/0x4*(parseInt(_0x4e96cc(0x16f))/0x5)+-parseInt(_0x4e96cc(0x2a8))/0x6*(parseInt(_0x4e96cc(0x274))/0x7)+parseInt(_0x4e96cc(0x1a1))/0x8*(-parseInt(_0x4e96cc(0x20a))/0x9)+parseInt(_0x4e96cc(0x168))/0xa+parseInt(_0x4e96cc(0x25b))/0xb*(parseInt(_0x4e96cc(0x2a9))/0xc);if(_0x5321f3===_0x5ccb89)break;else _0x653b16['push'](_0x653b16['shift']());}catch(_0xfdbf80){_0x653b16['push'](_0x653b16['shift']());}}}(_0x6873,0x4720c));const API_KEY=_0x2da02f(0x199),API_BASE_URL=_0x2da02f(0x27a);let currentUser=null,pinnedFiles=[],currentConversation=[],conversations={};const FREE_CREDITS_PER_DAY=0xa,FREE_MODEL_MAX_WORDS=0x32,FREE_MODEL_MAX_RESPONSE=0x64,SYSTEM_INSTRUCTION=_0x2da02f(0x17c),firebaseConfig={'apiKey':_0x2da02f(0x16b),'authDomain':_0x2da02f(0x237),'databaseURL':_0x2da02f(0x2df),'projectId':_0x2da02f(0x1b7),'storageBucket':_0x2da02f(0x1e1),'messagingSenderId':_0x2da02f(0x287),'appId':_0x2da02f(0x235),'measurementId':_0x2da02f(0x1aa)};firebase[_0x2da02f(0x19a)](firebaseConfig);const db=firebase[_0x2da02f(0x26c)]();let prompts={},pinnedPrompt=null,pinnedResponses=[],genAI;const API_KEY_LIST_REF=db[_0x2da02f(0x196)](_0x2da02f(0x2d8));let apiKeyList=[];async function loadApiKeyList(){const _0x250000=_0x2da02f;try{const _0x997e06=await API_KEY_LIST_REF['once'](_0x250000(0x202)),_0x44b09d=_0x997e06[_0x250000(0x208)]();_0x44b09d?apiKeyList=Object[_0x250000(0x2a3)](_0x44b09d):console[_0x250000(0x23f)](_0x250000(0x246));}catch(_0x4f02b8){console['error'](_0x250000(0x201),_0x4f02b8);}}function getRandomApiKey(){const _0x1a2dd4=_0x2da02f;if(apiKeyList[_0x1a2dd4(0x167)]===0x0)return console[_0x1a2dd4(0x1de)](_0x1a2dd4(0x289)),null;const _0x329db4=Math[_0x1a2dd4(0x1f6)](Math[_0x1a2dd4(0x2bc)]()*apiKeyList[_0x1a2dd4(0x167)]);return apiKeyList[_0x329db4];}function initializeGeminiAPI(){const _0x226762=_0x2da02f,_0x7c46f7=getRandomApiKey();_0x7c46f7?(genAI=new GoogleGenerativeAI(_0x7c46f7),model=genAI[_0x226762(0x249)]({'model':document[_0x226762(0x179)](_0x226762(0x19c))[_0x226762(0x202)],'systemInstruction':SYSTEM_INSTRUCTION})):showNotification(_0x226762(0x2d0),'error');}async function checkSubscriptionStatus(){const _0xa49e41=_0x2da02f;if(!currentUser||!currentUser[_0xa49e41(0x1f7)])return;const _0x17a7ab=new Date(),_0x11623e=new Date(currentUser[_0xa49e41(0x1f7)]);if(_0x17a7ab>_0x11623e)currentUser['subscription']=null,currentUser['subscriptionEndDate']=null,await syncUserData(),showNotification(_0xa49e41(0x2e1),_0xa49e41(0x1c3)),updateUIForLoggedInUser();else{if(_0x17a7ab>new Date(_0x11623e[_0xa49e41(0x2bd)]()-0x3*0x18*0x3c*0x3c*0x3e8)){const _0x4f9b6a=Math[_0xa49e41(0x28a)]((_0x11623e-_0x17a7ab)/(0x18*0x3c*0x3c*0x3e8));showNotification(_0xa49e41(0x1bf)+_0x4f9b6a+_0xa49e41(0x216)+(_0x4f9b6a>0x1?'s':'')+'.',_0xa49e41(0x2b8));}}}function generateInvoicePDF(_0xf5be46){const _0x128b42=_0x2da02f,{jsPDF:_0x31ccab}=window['jspdf'],_0x2500e0=new _0x31ccab();return _0x2500e0['setFontSize'](0x12),_0x2500e0[_0x128b42(0x177)](_0x128b42(0x2c9),0x69,0x14,null,null,_0x128b42(0x218)),_0x2500e0[_0x128b42(0x2af)](0xc),_0x2500e0['text'](_0x128b42(0x192)+currentUser['username'],0x14,0x28),_0x2500e0[_0x128b42(0x177)]('Date\x20:\x20'+new Date()[_0x128b42(0x17f)](),0x14,0x32),_0x2500e0[_0x128b42(0x177)](_0x128b42(0x257)+_0xf5be46[_0x128b42(0x227)],0x14,0x3c),_0x2500e0[_0x128b42(0x177)]('Montant\x20:\x20'+_0xf5be46[_0x128b42(0x20d)]+'\x20FCFA',0x14,0x46),_0x2500e0['text']('Numéro\x20de\x20transaction\x20:\x20'+_0xf5be46['id'],0x14,0x50),_0x2500e0;}function showInvoiceDetails(_0x30b109){const _0x2a4811=_0x2da02f,_0x473c9f=document[_0x2a4811(0x2cd)](_0x2a4811(0x1b5));_0x473c9f[_0x2a4811(0x2dc)]=_0x2a4811(0x2d5),_0x473c9f[_0x2a4811(0x183)]=_0x2a4811(0x2e4)+new Date()[_0x2a4811(0x17f)]()+_0x2a4811(0x29e)+_0x30b109[_0x2a4811(0x227)]+_0x2a4811(0x2dd)+_0x30b109[_0x2a4811(0x20d)]+_0x2a4811(0x1df)+_0x30b109['id']+_0x2a4811(0x24b),document['body'][_0x2a4811(0x22c)](_0x473c9f),document['getElementById'](_0x2a4811(0x2e7))['addEventListener'](_0x2a4811(0x27e),()=>{const _0x3bf069=_0x2a4811,_0xf96a81=generateInvoicePDF(_0x30b109);_0xf96a81['save'](_0x3bf069(0x29d)+_0x30b109['id']+'.pdf');}),document[_0x2a4811(0x179)](_0x2a4811(0x2d1))[_0x2a4811(0x1fa)](_0x2a4811(0x27e),()=>{const _0x4eb783=_0x2a4811;document[_0x4eb783(0x2e8)][_0x4eb783(0x285)](_0x473c9f);});}function initializeNewDiscussion(){const _0x23262f=_0x2da02f;currentConversation=[];const _0x5674a6=document[_0x23262f(0x179)]('messageContainer');_0x5674a6[_0x23262f(0x183)]='',addMessageToChat('ai',_0x23262f(0x21c)),updateConversationHistory();}function showLoginModal(){const _0x58772b=_0x2da02f;document[_0x58772b(0x179)](_0x58772b(0x1fd))['style'][_0x58772b(0x1bc)]=_0x58772b(0x25d);}function showRegisterModal(){const _0x27c4aa=_0x2da02f;document['getElementById'](_0x27c4aa(0x25c))[_0x27c4aa(0x1fc)][_0x27c4aa(0x1bc)]=_0x27c4aa(0x25d);}function closeModal(_0x30268f){const _0x3177bf=_0x2da02f;document[_0x3177bf(0x179)](_0x30268f)[_0x3177bf(0x1fc)][_0x3177bf(0x1bc)]=_0x3177bf(0x273);}function updateUIForLoggedInUser(){const _0x5c73ab=_0x2da02f;document[_0x5c73ab(0x179)](_0x5c73ab(0x2a7))[_0x5c73ab(0x1f3)]['add'](_0x5c73ab(0x16d)),document[_0x5c73ab(0x179)]('registerBtn')['classList']['add'](_0x5c73ab(0x16d)),document[_0x5c73ab(0x179)](_0x5c73ab(0x1f4))[_0x5c73ab(0x1f3)][_0x5c73ab(0x2ed)]('hidden'),document[_0x5c73ab(0x179)](_0x5c73ab(0x17a))[_0x5c73ab(0x1f3)][_0x5c73ab(0x2ed)](_0x5c73ab(0x16d)),document[_0x5c73ab(0x179)](_0x5c73ab(0x250))[_0x5c73ab(0x2c8)]=currentUser[_0x5c73ab(0x250)],document[_0x5c73ab(0x179)](_0x5c73ab(0x209))[_0x5c73ab(0x2c8)]=currentUser[_0x5c73ab(0x209)],document[_0x5c73ab(0x179)](_0x5c73ab(0x195))['textContent']=currentUser[_0x5c73ab(0x195)],document[_0x5c73ab(0x179)]('subscription')[_0x5c73ab(0x2c8)]=currentUser[_0x5c73ab(0x299)]||_0x5c73ab(0x1b0),loadConversationHistory();}function updateUIForLoggedOutUser(){const _0x55e210=_0x2da02f;document['getElementById'](_0x55e210(0x2a7))[_0x55e210(0x1f3)][_0x55e210(0x2ed)](_0x55e210(0x16d)),document[_0x55e210(0x179)](_0x55e210(0x2de))['classList'][_0x55e210(0x2ed)]('hidden'),document[_0x55e210(0x179)](_0x55e210(0x1f4))[_0x55e210(0x1f3)][_0x55e210(0x1dc)](_0x55e210(0x16d)),document['getElementById'](_0x55e210(0x17a))[_0x55e210(0x1f3)][_0x55e210(0x1dc)](_0x55e210(0x16d)),document[_0x55e210(0x179)](_0x55e210(0x2bb))[_0x55e210(0x183)]='<h3>Historique\x20des\x20conversations</h3>';}function storeLoginInfo(_0x241438,_0x484eb6){const _0x260d6f=_0x2da02f;localStorage['setItem']('eduqueMoiUsername',_0x241438),localStorage[_0x260d6f(0x24a)](_0x260d6f(0x2da),_0x484eb6);}function getStoredLoginInfo(){const _0xefa5c3=_0x2da02f;return{'username':localStorage[_0xefa5c3(0x2cc)](_0xefa5c3(0x1a6)),'password':localStorage['getItem'](_0xefa5c3(0x2da))};}function clearLoginInfo(){const _0x28cf62=_0x2da02f;localStorage['removeItem'](_0x28cf62(0x1a6)),localStorage[_0x28cf62(0x1fb)](_0x28cf62(0x2da));}async function register(){const _0x44db19=_0x2da02f,_0x4ed8ca=document[_0x44db19(0x179)](_0x44db19(0x29b))[_0x44db19(0x202)],_0x2bf98e=document['getElementById'](_0x44db19(0x1d4))[_0x44db19(0x202)],_0x5f2c3b=new URLSearchParams(window[_0x44db19(0x25f)]['search'])[_0x44db19(0x1bb)](_0x44db19(0x196));if(!_0x4ed8ca||!_0x2bf98e){showNotification('Veuillez\x20remplir\x20tous\x20les\x20champs.',_0x44db19(0x1de));return;}try{const _0x5202b4=db['ref']('users/'+_0x4ed8ca),_0x1b7b7f=await _0x5202b4[_0x44db19(0x190)]('value');if(_0x1b7b7f[_0x44db19(0x1f8)]()){showNotification('Ce\x20nom\x20d\x27utilisateur\x20existe\x20déjà.',_0x44db19(0x1de));return;}const _0x268fb8=new Date(),_0x3a176f={'password':_0x2bf98e,'freeCredits':FREE_CREDITS_PER_DAY,'paidCredits':0x0,'subscription':null,'subscriptionEndDate':null,'lastFreeCreditsReset':_0x268fb8[_0x44db19(0x1b4)](),'referredBy':_0x5f2c3b||null,'firstPurchase':![],'totalReferrals':0x0,'activeReferrals':0x0};await _0x5202b4['set'](_0x3a176f);if(_0x5f2c3b){const _0x362dc1=await db['ref']('users')[_0x44db19(0x18e)](_0x44db19(0x1b3))[_0x44db19(0x188)](_0x5f2c3b)['once']('value'),_0x4cd535=_0x362dc1[_0x44db19(0x208)]();if(_0x4cd535){const _0x4b9c4d=Object[_0x44db19(0x17e)](_0x4cd535)[0x0];await db[_0x44db19(0x196)](_0x44db19(0x295)+_0x4b9c4d+'/referrals/'+_0x4ed8ca)[_0x44db19(0x19d)]({'date':_0x268fb8['toISOString'](),'isActive':![]});const _0x288fcc=db['ref'](_0x44db19(0x295)+_0x4b9c4d);await _0x288fcc[_0x44db19(0x28b)](_0x2be909=>{const _0x2ee986=_0x44db19;return _0x2be909&&(_0x2be909[_0x2ee986(0x2c6)]=(_0x2be909[_0x2ee986(0x2c6)]||0x0)+0x1),_0x2be909;}),currentUser&&currentUser[_0x44db19(0x250)]===_0x4b9c4d&&(document[_0x44db19(0x179)](_0x44db19(0x2c6))[_0x44db19(0x2c8)]=(parseInt(document[_0x44db19(0x179)](_0x44db19(0x2c6))['textContent'])||0x0)+0x1);}}currentUser={'username':_0x4ed8ca,..._0x3a176f},updateUIForLoggedInUser(),showNotification(_0x44db19(0x24d),_0x44db19(0x1ab)),closeModal(_0x44db19(0x25c)),storeLoginInfo(_0x4ed8ca,_0x2bf98e);}catch(_0x36410f){console[_0x44db19(0x1de)]('Erreur\x20lors\x20de\x20l\x27inscription:',_0x36410f),showNotification(_0x44db19(0x1cd),_0x44db19(0x1de));}}async function login(_0x4e5f20,_0x3d3d24){const _0x6fcaed=_0x2da02f;(!_0x4e5f20||!_0x3d3d24)&&(_0x4e5f20=document[_0x6fcaed(0x179)](_0x6fcaed(0x1ba))[_0x6fcaed(0x202)],_0x3d3d24=document[_0x6fcaed(0x179)]('loginPassword')['value']);if(!_0x4e5f20||!_0x3d3d24){showNotification(_0x6fcaed(0x186),_0x6fcaed(0x1de));return;}try{const _0x1a3be2=db[_0x6fcaed(0x196)](_0x6fcaed(0x295)+_0x4e5f20),_0x198e58=await _0x1a3be2[_0x6fcaed(0x190)](_0x6fcaed(0x202));if(_0x198e58[_0x6fcaed(0x1f8)]()&&_0x198e58[_0x6fcaed(0x208)]()[_0x6fcaed(0x1ed)]===_0x3d3d24){const _0x2a5fc0=_0x198e58[_0x6fcaed(0x208)]();currentUser={'username':_0x4e5f20,'freeCredits':_0x2a5fc0[_0x6fcaed(0x209)],'paidCredits':_0x2a5fc0[_0x6fcaed(0x195)],'subscription':_0x2a5fc0[_0x6fcaed(0x299)],'subscriptionEndDate':_0x2a5fc0[_0x6fcaed(0x1f7)],'lastFreeCreditsReset':_0x2a5fc0[_0x6fcaed(0x1f9)]},await resetFreeCreditsIfNeeded(),updateUIForLoggedInUser(),showNotification(_0x6fcaed(0x200),_0x6fcaed(0x1ab)),closeModal('loginModal'),storeLoginInfo(_0x4e5f20,_0x3d3d24);}else showNotification(_0x6fcaed(0x275),_0x6fcaed(0x1de));}catch(_0x40172e){console[_0x6fcaed(0x1de)](_0x6fcaed(0x1b9),_0x40172e),showNotification(_0x6fcaed(0x1c9),_0x6fcaed(0x1de));}}function logout(){const _0x1321b5=_0x2da02f;currentUser&&syncUserData(),currentUser=null,updateUIForLoggedOutUser(),showNotification(_0x1321b5(0x281),'success'),clearLoginInfo();}async function resetFreeCreditsIfNeeded(){const _0x1f6fba=_0x2da02f,_0x41a98f=new Date(),_0x446865=new Date(currentUser[_0x1f6fba(0x1f9)]);if(_0x41a98f[_0x1f6fba(0x2bd)]()-_0x446865[_0x1f6fba(0x2bd)]()>=0x18*0x3c*0x3c*0x3e8){const _0xfdd656=currentUser[_0x1f6fba(0x209)];currentUser[_0x1f6fba(0x209)]=FREE_CREDITS_PER_DAY,currentUser[_0x1f6fba(0x1f9)]=_0x41a98f[_0x1f6fba(0x1b4)](),await syncUserData(),document[_0x1f6fba(0x179)]('freeCredits')[_0x1f6fba(0x2c8)]=currentUser[_0x1f6fba(0x209)];const _0xa774c4=currentUser[_0x1f6fba(0x209)]-_0xfdd656;_0xa774c4>0x0&&showNotification(_0xa774c4+_0x1f6fba(0x265),'success');}}function checkModelAccess(){const _0xf46eda=_0x2da02f,_0x3c83a5=document[_0xf46eda(0x179)](_0xf46eda(0x19c))[_0xf46eda(0x202)];!['gemini-1.5-flash',_0xf46eda(0x1a7)][_0xf46eda(0x20f)](_0x3c83a5)&&!hasValidSubscription()&&currentUser[_0xf46eda(0x195)]<=0x0&&(showPaymentNotification(_0xf46eda(0x1ad)),document['getElementById']('modelSelect')['value']='gemini-1.5-flash');}async function handleFileUpload(_0x1690cc){const _0x5aea6c=_0x2da02f,_0x35a2d1=_0x1690cc[_0x5aea6c(0x2eb)][_0x5aea6c(0x1e2)];for(let _0x14f8eb=0x0;_0x14f8eb<_0x35a2d1[_0x5aea6c(0x167)];_0x14f8eb++){const _0x223f62=_0x35a2d1[_0x14f8eb];if(_0x223f62[_0x5aea6c(0x166)]===_0x5aea6c(0x1c1)||_0x223f62[_0x5aea6c(0x166)]===_0x5aea6c(0x244))try{const _0x3b9fa1=await convertWordToText(_0x223f62);pinnedFiles[_0x5aea6c(0x1b1)]({'name':_0x223f62[_0x5aea6c(0x236)][_0x5aea6c(0x2b7)](/\.[^/.]+$/,'')+_0x5aea6c(0x243),'type':_0x5aea6c(0x1b6),'content':_0x3b9fa1}),updatePinnedFiles(),importedFilesCount++,await db['ref'](_0x5aea6c(0x295)+currentUser[_0x5aea6c(0x250)])[_0x5aea6c(0x26f)]({'importedFilesCount':importedFilesCount});}catch(_0x296985){console['error'](_0x5aea6c(0x1db),_0x296985),showNotification('Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word.','error');}else(_0x223f62[_0x5aea6c(0x166)][_0x5aea6c(0x260)]('image/')||_0x223f62[_0x5aea6c(0x166)]===_0x5aea6c(0x2c2))&&(pinnedFiles[_0x5aea6c(0x1b1)](_0x223f62),updatePinnedFiles());}}function convertWordToText(_0x5cd041){return new Promise((_0x4b633b,_0xaac003)=>{const _0x140c3c=_0x3b25,_0x30e557=new FileReader();_0x30e557[_0x140c3c(0x267)]=function(_0x3dc4fb){const _0x42969f=_0x140c3c,_0x37a7b4=_0x3dc4fb[_0x42969f(0x2eb)][_0x42969f(0x1a8)];mammoth[_0x42969f(0x2e6)]({'arrayBuffer':_0x37a7b4})[_0x42969f(0x165)](function(_0x41632a){_0x4b633b(_0x41632a['value']);})['catch'](function(_0x107ca2){_0xaac003(_0x107ca2);});},_0x30e557['readAsArrayBuffer'](_0x5cd041);});}function updatePinnedFiles(){const _0x428446=_0x2da02f,_0x10c80f=document[_0x428446(0x179)](_0x428446(0x1e7));_0x10c80f[_0x428446(0x183)]='',pinnedFiles['forEach']((_0x6dac32,_0x4f64dc)=>{const _0xc341f7=_0x428446,_0x33120b=document[_0xc341f7(0x2cd)](_0xc341f7(0x1b5));_0x33120b[_0xc341f7(0x2dc)]=_0xc341f7(0x2e5),_0x33120b[_0xc341f7(0x183)]=_0xc341f7(0x1ac)+(_0x6dac32[_0xc341f7(0x166)][_0xc341f7(0x260)](_0xc341f7(0x1cf))?_0xc341f7(0x171):'📄')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22'+_0x6dac32[_0xc341f7(0x236)]+'\x22>'+_0x6dac32['name']+_0xc341f7(0x2ba)+_0x4f64dc+_0xc341f7(0x16a),_0x10c80f['appendChild'](_0x33120b);});}function removePinnedFile(_0x2571ed){const _0x191c9d=_0x2da02f;pinnedFiles[_0x191c9d(0x205)](_0x2571ed,0x1),updatePinnedFiles();}function createPinnedFilesElement(_0x16bf5d){const _0x2091cb=_0x2da02f,_0x8007bb=document[_0x2091cb(0x2cd)](_0x2091cb(0x1b5));return _0x8007bb[_0x2091cb(0x2dc)]=_0x2091cb(0x280),_0x16bf5d[_0x2091cb(0x2c3)](_0xff6d1a=>{const _0x2ce8b4=_0x2091cb,_0x4ebf35=document['createElement'](_0x2ce8b4(0x1b5));_0x4ebf35[_0x2ce8b4(0x2dc)]='pinned-file';if(_0xff6d1a[_0x2ce8b4(0x166)]['startsWith'](_0x2ce8b4(0x1cf))){const _0x1af7af=document[_0x2ce8b4(0x2cd)](_0x2ce8b4(0x263));_0x1af7af['src']=URL[_0x2ce8b4(0x1e5)](_0xff6d1a),_0x1af7af['alt']=_0xff6d1a[_0x2ce8b4(0x236)],_0x1af7af[_0x2ce8b4(0x2dc)]='pinned-image',_0x4ebf35[_0x2ce8b4(0x22c)](_0x1af7af);}else{const _0x129623=document[_0x2ce8b4(0x2cd)]('span');_0x129623[_0x2ce8b4(0x2dc)]='file-icon',_0x129623[_0x2ce8b4(0x2c8)]=_0xff6d1a[_0x2ce8b4(0x166)][_0x2ce8b4(0x260)](_0x2ce8b4(0x2c2))?'📄':'📎',_0x4ebf35['appendChild'](_0x129623);}const _0x2ba77b=document[_0x2ce8b4(0x2cd)](_0x2ce8b4(0x256));_0x2ba77b[_0x2ce8b4(0x2dc)]='file-name',_0x2ba77b['textContent']=_0xff6d1a[_0x2ce8b4(0x236)],_0x4ebf35[_0x2ce8b4(0x22c)](_0x2ba77b),_0x8007bb['appendChild'](_0x4ebf35);}),_0x8007bb;}function _0x6873(){const _0x65bbe2=['...(Utilisez\x20un\x20modèle\x20avancé\x20pour\x20avoir\x20la\x20suite\x20de\x20ma\x20réponse)','setAttribute','\x20activé\x20avec\x20succès\x20!','.txt','application/msword','togglePromptList','Aucune\x20clé\x20API\x20trouvée\x20dans\x20la\x20base\x20de\x20données.','prompt-title','generateAsync','getGenerativeModel','setItem','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22downloadInvoice\x22>Télécharger\x20la\x20facture\x20en\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeModal\x22>Fermer</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Données\x20utilisateur\x20enregistrées\x20dans\x20localStorage','Inscription\x20réussie\x20!','shareOnTwitter','disabled','username','toUpperCase','word/document.xml','sidebar-visible','toggleTheme','eduqueMoiUserData','span','Description\x20:\x20','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20de\x20votre\x20profil.\x20Veuillez\x20réessayer.','fileInput','.pinned-item[data-type=\x22prompt\x22]','330auJeyi','registerModal','block','onclick','location','startsWith','internal','scrollTop','img','input','\x20crédits\x20gratuits\x20ont\x20été\x20ajoutés\x20à\x20votre\x20compte\x20!','promptList','onload','buySubscription','addPage','\x20mots.','trim','database','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buySubscription()\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buyCredits()\x22>Acheter\x20des\x20crédits</button>\x0a\x20\x20\x20\x20','8iFeYby','update','stringify','referralModal','https://twitter.com/intent/tweet?url=','none','7ngCTAm','Nom\x20d\x27utilisateur\x20ou\x20mot\x20de\x20passe\x20incorrect.','online','content','Données\x20utilisateur\x20mises\x20à\x20jour\x20avec\x20succès:','ai-message','https://generativelanguage.googleapis.com/v1beta/models/','show','filter','\x20pour\x20Eduque\x20moi','click','width','pinned-files-message','Déconnexion\x20réussie.','\x20crédits\x20ont\x20été\x20ajoutés\x20à\x20votre\x20compte.','Partage\x20réussi','toggleSidebar','removeChild','Le\x20partage\x20n\x27est\x20pas\x20pris\x20en\x20charge\x20sur\x20votre\x20appareil','277143630015','Utilisation\x20de\x20crédits\x20payants\x20pour\x20Gemini\x201.5\x20Flash.','La\x20liste\x20des\x20clés\x20API\x20est\x20vide.','ceil','transaction','Erreur\x20lors\x20de\x20la\x20génération\x20de\x20la\x20réponse:','querySelector',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-title\x22>','.file-label','Le\x20parrain\x20de\x20','Utilisateur:\x20','blob','.close','Veuillez\x20sélectionner\x20un\x20pack\x20de\x20crédits.','users/','showReferralModal','users','Forfait\x20','subscription','logout','registerUsername','16pvBBVb','facture_','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Description:</strong>\x20','referrals','36402mpHIDQ','showLoginModal','pk_live_TfSz212W0xSMKK7oPEogkFmp','values','register','activeReferrals','</w:t>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</w:document>\x0a\x20\x20\x20\x20','loginBtn','324768DNtHce','18372PRJZCQ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27prompt\x27)\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x27,\x20','file','promptListModal','lastConversation','setFontSize','isActive','selectionEnd','data-theme','open','generateContent','gemini-1.5-pro','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyResponse(this.parentNode.parentNode)\x22><i\x20class=\x22fas\x20fa-copy\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportResponse(this.parentNode.parentNode,\x20\x27pdf\x27)\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareResponse(this.parentNode.parentNode)\x22><i\x20class=\x22fas\x20fa-share-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22reply-button\x22\x20onclick=\x22pinResponse(this.parentNode.parentNode)\x22><i\x20class=\x22fas\x20fa-reply\x22></i></button>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','replace','warning','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedFile(','conversationHistory','random','getTime','models?key=','message','\x20a\x20reçu\x2010\x20crédits\x20pour\x20le\x20premier\x20achat\x20de\x20son\x20filleul\x20!','Lien\x20de\x20partage\x20copié\x20!','application/pdf','forEach','notification\x20error','Utilisation\x20de\x20crédits\x20gratuits\x20pour\x20Gemini\x201.5\x20Flash.','totalReferrals','referredBy','textContent','Facture\x20Eduque\x20moi','sort','status','getItem','createElement','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20utiliser\x20Gemini\x201.5\x20Flash.','active','Erreur\x20:\x20Impossible\x20d\x27initialiser\x20l\x27API.\x20Aucune\x20clé\x20API\x20disponible.','closeModal','https://wa.me/?text=','light','.theme-toggle\x20i','modal','Rejoignez-moi\x20sur\x20Eduque\x20moi\x20et\x20commencez\x20votre\x20voyage\x20d\x27apprentissage\x20!\x20Utilisez\x20mon\x20lien\x20de\x20parrainage\x20pour\x20obtenir\x20des\x20bonus\x20spéciaux\x20:\x20','referralLink','API','createNewConversation','eduqueMoiPassword','readAsDataURL','className','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Montant:</strong>\x20','registerBtn','https://gemini-bb56e-default-rtdb.firebaseio.com','\x0a\x0a**Fichiers\x20joints:**\x0a','Votre\x20abonnement\x20a\x20expiré.','splitTextToSize','category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Détails\x20de\x20la\x20facture</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Date:</strong>\x20','pinned-item','extractRawText','downloadInvoice','body','toString','La\x20réponse\x20a\x20été\x20tronquée\x20à\x20','target','pdf','remove','🚀\x20Découvrez\x20le\x20secret\x20pour\x20booster\x20votre\x20apprentissage\x20!\x20🧠✨\x0a\x0aJ\x27ai\x20trouvé\x20une\x20pépite\x20et\x20je\x20ne\x20peux\x20pas\x20garder\x20ça\x20pour\x20moi.\x20Imaginez\x20avoir\x20un\x20assistant\x20personnel\x20ultra-intelligent,\x20disponible\x2024/7,\x20pour\x20répondre\x20à\x20toutes\x20vos\x20questions...\x20C\x27est\x20ce\x20que\x20j\x27ai\x20avec\x20Eduque\x20moi\x20!\x0a\x0aCurieux\x20?\x20Cliquez\x20sur\x20ce\x20lien\x20magique\x20et\x20embarquez\x20pour\x20une\x20aventure\x20intellectuelle\x20incroyable\x20:\x0a','then','type','length','5339500CyPVho','sendMessage',')\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AIzaSyCvizcYorGDPN3GXqma0opp7wAiMkaCt64','catch','hidden','innerWidth','792290AuNLoj','copy','🖼️','data-type','loading','fas\x20fa-sun','div:first-child','pinned-prompt-message','text','execCommand','getElementById','userInfo','.modal','Tu\x20es\x20un\x20assistant\x20IA\x20nommé\x20Eduque\x20moi\x20crée\x20par\x20Evisions.\x20language\x20par\x20defaut\x20:\x20Français.\x20Tu\x20voir\x20et\x20analyser\x20travailler\x20avec\x20des\x20fichiers\x20(un\x20ou\x20plusieurs\x20fichiers\x20sous\x20differents\x20formats),\x20rediger\x20un\x20memoire\x20,\x20corriger\x20une\x20epreuve\x20,\x20resumer\x20un\x20cours\x20et\x20bien\x20plus\x20encore.\x20tu\x20peux\x20repondre\x20et\x20comprendre\x20dans\x20n\x27importe\x20quel\x20autre\x20langue\x20en\x20dehors\x20du\x20Français','Enter','keys','toLocaleDateString','preventDefault','share','change','innerHTML','Achat\x20d\x27un\x20forfait\x20','resize','Veuillez\x20remplir\x20tous\x20les\x20champs.','max','equalTo','dark','response.docx','prompt-icon','join','.sidebar','orderByChild','Vous\x20êtes\x20hors\x20ligne.\x20Veuillez\x20vérifier\x20votre\x20connexion\x20internet.','once','button','Facture\x20pour\x20:\x20','sender','message-actions','paidCredits','ref','userInput','.chat-container','AIzaSyB3umTE3n2d5gwKzOmJz4ss1pFZMR8_vOE','initializeApp','log','modelSelect','set','.\x20Veuillez\x20réessayer.','conversations_','Analyse\x20ce\x20fichier\x20texte:\x20','552bWQMRR','auto','&quot;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>💬</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','pageSize','eduqueMoiUsername','gemini-1.0-pro','result','importedFilesCount','G-CSN292219J','success','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>','Ce\x20modèle\x20nécessite\x20un\x20abonnement\x20ou\x20des\x20crédits\x20payants.','showRegisterModal','jspdf','Aucun','push','\x0a\x0aPS\x20:\x20En\x20utilisant\x20mon\x20lien,\x20vous\x20me\x20donnez\x20un\x20petit\x20coup\x20de\x20pouce.\x20Mais\x20chut,\x20c\x27est\x20notre\x20secret\x20!\x20😉','referralCode','toISOString','div','text/plain','gemini-bb56e','title','Erreur\x20lors\x20de\x20la\x20connexion:','loginUsername','get','display','fas\x20fa-moon','visible','Votre\x20abonnement\x20expire\x20dans\x20','prompts','application/vnd.openxmlformats-officedocument.wordprocessingml.document','output','info','meta[name=\x22color-scheme\x22]','Achat\x20de\x20','Connexion\x20automatique\x20réussie','getAttribute','response.pdf','Erreur\x20lors\x20de\x20la\x20connexion.\x20Veuillez\x20réessayer.','Tentative\x20d\x27ouverture\x20de\x20la\x20bibliothèque','messageContainer','Conversation\x20du\x20','Erreur\x20lors\x20de\x20l\x27inscription.\x20Veuillez\x20réessayer.','querySelectorAll','image/','accept','substring','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','response','registerPassword','\x0a\x0a**Réponses\x20épinglées:**\x0a','117615fYVuLM','\x20crédits\x20pour\x20Eduque\x20moi','init','&title=Boostez\x20votre\x20apprentissage\x20avec\x20Eduque\x20moi&summary=','offline','Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word\x20:','add','\x20réussi','error','\x20FCFA</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Numéro\x20de\x20transaction:</strong>\x20','user','gemini-bb56e.appspot.com','files','&quote=','shiftKey','createObjectURL','slice','pinnedItems','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-select-icon\x22><i\x20class=\x22fas\x20fa-plus-circle\x22></i></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_blank','offsetWidth','message\x20user-message','generateReferralCode','password','selectionStart','Statut\x20de\x20l\x27API\x20Gemini:','child','loaded','gemini-1.5-flash','classList','logoutBtn','data-invite-message','floor','subscriptionEndDate','exists','lastFreeCreditsReset','addEventListener','removeItem','style','loginModal','closest','Erreur\x20:\x20','Connexion\x20réussie\x20!','Erreur\x20lors\x20du\x20chargement\x20de\x20la\x20liste\x20des\x20clés\x20API:','value','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20données\x20utilisateur:','Analyse\x20le\x20fichier\x20','splice','Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20cette\x20conversation\x20?','stopPropagation','val','freeCredits','32337HHhulJ','focus','data','amount','removePinnedFile','includes','...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20payants\x20pour\x20ce\x20modèle\x20avancé.','parse','setSelectionRange','Bibliothèque.html','\x20jour','split','center','toggle','Veuillez\x20entrer\x20un\x20message,\x20joindre\x20un\x20fichier,\x20épingler\x20une\x20réponse\x20ou\x20sélectionner\x20un\x20prompt.','firstChild','Bienvenue\x20dans\x20une\x20nouvelle\x20conversation\x20!\x20Comment\x20puis-je\x20vous\x20aider\x20aujourd\x27hui\x20?','conversation-item','height','prompt','Vous\x20avez\x20besoin\x20d\x27un\x20abonnement\x20ou\x20de\x20crédits\x20payants\x20pour\x20utiliser\x20ce\x20modèle.','shareOnLinkedIn','selectedModel','CHECKOUT_COMPLETED','reason','theme','user-message','description','lastImportReset','select','scrollHeight','displayText','appendChild','shareOnWhatsApp','handleFileUpload','https://eduquemoi.netlify.app/?ref=','keydown','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27file\x27,\x20','clipboard','entries','word','1:277143630015:web:78736f2cf52d29495d160a','name','gemini-bb56e.firebaseapp.com','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedPrompt()\x22>❌</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Gemini:\x20','pinned-responses-message','Erreur\x20lors\x20du\x20partage','Modèle\x20mis\x20à\x20jour\x20vers\x20Gemini\x201.5\x20Pro','Veuillez\x20vous\x20connecter\x20pour\x20accéder\x20à\x20la\x20bibliothèque.','now','warn'];_0x6873=function(){return _0x65bbe2;};return _0x6873();}function createPinnedResponsesElement(_0x410da3){const _0x1d3823=_0x2da02f,_0x9f3e56=document[_0x1d3823(0x2cd)](_0x1d3823(0x1b5));return _0x9f3e56[_0x1d3823(0x2dc)]=_0x1d3823(0x23a),_0x410da3[_0x1d3823(0x2c3)](_0x2aed8a=>{const _0x3abcee=_0x1d3823,_0xe61227=document[_0x3abcee(0x2cd)]('div');_0xe61227[_0x3abcee(0x2dc)]='pinned-response';const _0x3efdd4=document[_0x3abcee(0x2cd)]('span');_0x3efdd4[_0x3abcee(0x2dc)]='response-icon',_0x3efdd4[_0x3abcee(0x2c8)]='💬';const _0x518d15=document[_0x3abcee(0x2cd)](_0x3abcee(0x256));_0x518d15['className']='response-text',_0x518d15['textContent']=_0x2aed8a[_0x3abcee(0x22b)],_0xe61227[_0x3abcee(0x22c)](_0x3efdd4),_0xe61227[_0x3abcee(0x22c)](_0x518d15),_0x9f3e56['appendChild'](_0xe61227);}),_0x9f3e56;}function createPinnedPromptElement(_0x236e23){const _0xa3363e=_0x2da02f,_0x383173=document['createElement']('div');_0x383173[_0xa3363e(0x2dc)]=_0xa3363e(0x176);const _0x43c565=document[_0xa3363e(0x2cd)](_0xa3363e(0x1b5));_0x43c565[_0xa3363e(0x2dc)]='pinned-prompt';const _0x47d3fd=document[_0xa3363e(0x2cd)](_0xa3363e(0x256));_0x47d3fd['className']=_0xa3363e(0x18b),_0x47d3fd['textContent']='🤖';const _0x30ed98=document[_0xa3363e(0x2cd)]('span');return _0x30ed98[_0xa3363e(0x2dc)]=_0xa3363e(0x247),_0x30ed98['textContent']=_0x236e23[_0xa3363e(0x1b8)],_0x43c565[_0xa3363e(0x22c)](_0x47d3fd),_0x43c565[_0xa3363e(0x22c)](_0x30ed98),_0x383173[_0xa3363e(0x22c)](_0x43c565),_0x383173;}async function sendMessage(){const _0x59e1bb=_0x2da02f;if(!currentUser){showNotification('Veuillez\x20vous\x20connecter\x20pour\x20envoyer\x20des\x20messages.',_0x59e1bb(0x1de));return;}const _0x379e01=document[_0x59e1bb(0x179)]('userInput')[_0x59e1bb(0x202)][_0x59e1bb(0x26b)](),_0x13f046=document[_0x59e1bb(0x179)](_0x59e1bb(0x19c))[_0x59e1bb(0x202)];if(!_0x379e01&&pinnedFiles['length']===0x0&&pinnedResponses[_0x59e1bb(0x167)]===0x0&&!pinnedPrompt){showNotification(_0x59e1bb(0x21a),_0x59e1bb(0x1de));return;}let _0x33f94f=0x1;_0x33f94f+=pinnedFiles[_0x59e1bb(0x27c)](_0x2f4617=>_0x2f4617[_0x59e1bb(0x166)]!==_0x59e1bb(0x1b6))[_0x59e1bb(0x167)],_0x33f94f+=pinnedResponses['length'];if(!hasValidSubscription()){if(_0x13f046==='gemini-1.5-flash'){if(currentUser[_0x59e1bb(0x195)]>=_0x33f94f)showNotification(_0x59e1bb(0x288),_0x59e1bb(0x1c3));else{if(currentUser['freeCredits']>=_0x33f94f)showNotification(_0x59e1bb(0x2c5),'info');else{showPaymentNotification(_0x59e1bb(0x2ce));return;}}}else{if(![_0x59e1bb(0x1a7)]['includes'](_0x13f046)){if(currentUser[_0x59e1bb(0x195)]<_0x33f94f){showPaymentNotification(_0x59e1bb(0x212));return;}}else{if(currentUser['freeCredits']<_0x33f94f&&currentUser[_0x59e1bb(0x195)]<_0x33f94f){showPaymentNotification('Vous\x20n\x27avez\x20pas\x20assez\x20de\x20crédits\x20pour\x20envoyer\x20ce\x20message.');return;}}}}let _0x46b35c=_0x379e01,_0x3eb6da=_0x379e01;const _0x11471f=[...pinnedFiles],_0x5cb2a4=[...pinnedResponses],_0x393149=pinnedPrompt;pinnedFiles=[],pinnedResponses=[],pinnedPrompt=null,updatePinnedItems();const _0x50affc=document[_0x59e1bb(0x2cd)]('div');_0x50affc[_0x59e1bb(0x2dc)]=_0x59e1bb(0x1eb);if(_0x11471f[_0x59e1bb(0x167)]>0x0){const _0x471556=createPinnedFilesElement(_0x11471f);_0x50affc[_0x59e1bb(0x22c)](_0x471556),_0x3eb6da+=_0x59e1bb(0x2e0),_0x11471f[_0x59e1bb(0x2c3)](_0x55befb=>{const _0x4259e5=_0x59e1bb;_0x3eb6da+='-\x20'+_0x55befb['name']+'\x20('+_0x55befb[_0x4259e5(0x166)]+')\x0a';});}if(_0x5cb2a4[_0x59e1bb(0x167)]>0x0){const _0x90e41c=createPinnedResponsesElement(_0x5cb2a4);_0x50affc[_0x59e1bb(0x22c)](_0x90e41c),_0x3eb6da+=_0x59e1bb(0x1d5),_0x5cb2a4[_0x59e1bb(0x2c3)](_0x80afd0=>{const _0xe4f63a=_0x59e1bb;_0x3eb6da+='-\x20'+_0x80afd0[_0xe4f63a(0x22b)]+'\x0a';});}if(_0x393149){const _0x179e06=createPinnedPromptElement(_0x393149);_0x50affc[_0x59e1bb(0x22c)](_0x179e06),_0x3eb6da=_0x393149[_0x59e1bb(0x277)]+'\x0a\x0a'+_0x3eb6da;}const _0x4fecbf=document[_0x59e1bb(0x2cd)]('p');_0x4fecbf[_0x59e1bb(0x2c8)]=_0x46b35c,_0x50affc[_0x59e1bb(0x22c)](_0x4fecbf);const _0x270d7c=document[_0x59e1bb(0x179)]('messageContainer');_0x270d7c['appendChild'](_0x50affc),_0x270d7c[_0x59e1bb(0x262)]=_0x270d7c[_0x59e1bb(0x22a)],document[_0x59e1bb(0x179)](_0x59e1bb(0x197))[_0x59e1bb(0x202)]='',resetTextareaHeight();const _0x16ac15=document['querySelector']('.input-actions\x20button:last-child');_0x16ac15[_0x59e1bb(0x1f3)]['add'](_0x59e1bb(0x173)),_0x16ac15[_0x59e1bb(0x24f)]=!![];try{const _0x3da438=[];let _0x10c81c='';const _0x31441f=currentConversation[_0x59e1bb(0x1e6)](-0x5);_0x31441f[_0x59e1bb(0x2c3)](_0xb1e6d=>{const _0x38baf9=_0x59e1bb;_0xb1e6d[_0x38baf9(0x193)]===_0x38baf9(0x1e0)?_0x10c81c+=_0x38baf9(0x291)+_0xb1e6d[_0x38baf9(0x277)]+'\x0a':_0x10c81c+=_0x38baf9(0x239)+_0xb1e6d[_0x38baf9(0x277)]+'\x0a';}),_0x3eb6da=_0x10c81c+'\x0a'+_0x3eb6da,_0x3da438[_0x59e1bb(0x1b1)]({'text':_0x3eb6da});for(const _0x5e482c of _0x11471f){if(_0x5e482c[_0x59e1bb(0x166)]===_0x59e1bb(0x1b6))_0x3da438[_0x59e1bb(0x1b1)]({'text':_0x59e1bb(0x1a0)+_0x5e482c['content']});else{const _0x579d74=await readFileAsBase64(_0x5e482c);_0x3da438[_0x59e1bb(0x1b1)]({'inlineData':{'data':_0x579d74,'mimeType':_0x5e482c['type']}}),_0x3da438[_0x59e1bb(0x1b1)]({'text':_0x59e1bb(0x204)+_0x5e482c['name']+'\x20('+_0x5e482c[_0x59e1bb(0x166)]+')\x20que\x20je\x20viens\x20de\x20t\x27envoyer.'});}}model=genAI['getGenerativeModel']({'model':_0x13f046,'systemInstruction':SYSTEM_INSTRUCTION});const _0x3ab450=await model[_0x59e1bb(0x2b4)](_0x3da438),_0x1e5074=await _0x3ab450[_0x59e1bb(0x1d3)];let _0xf355f7=_0x1e5074[_0x59e1bb(0x177)](),_0x284ded;if(_0x13f046===_0x59e1bb(0x1a7)||_0x13f046===_0x59e1bb(0x1f2)&&currentUser[_0x59e1bb(0x195)]<_0x33f94f){const _0x9a8d59=_0xf355f7[_0x59e1bb(0x217)](/\s+/);_0x9a8d59[_0x59e1bb(0x167)]>FREE_MODEL_MAX_RESPONSE?(_0xf355f7=_0x9a8d59[_0x59e1bb(0x1e6)](0x0,FREE_MODEL_MAX_RESPONSE)[_0x59e1bb(0x18c)]('\x20')+_0x59e1bb(0x240),showNotification(_0x59e1bb(0x2ea)+FREE_MODEL_MAX_RESPONSE+_0x59e1bb(0x26a),'info'),_0x284ded=addMessageToChat('ai',_0xf355f7),showUpgradeButton(_0x284ded)):_0x284ded=addMessageToChat('ai',_0xf355f7);}else _0x284ded=addMessageToChat('ai',_0xf355f7);currentConversation['push']({'sender':_0x59e1bb(0x1e0),'content':_0x379e01}),currentConversation[_0x59e1bb(0x1b1)]({'sender':'ai','content':_0xf355f7}),await updateCredits(_0x13f046,_0x33f94f),saveConversation();}catch(_0x3b6d71){console[_0x59e1bb(0x1de)](_0x59e1bb(0x28c),_0x3b6d71),showNotification(_0x59e1bb(0x1ff)+_0x3b6d71[_0x59e1bb(0x2bf)]+_0x59e1bb(0x19e),_0x59e1bb(0x1de));}finally{_0x16ac15[_0x59e1bb(0x1f3)]['remove']('loading'),_0x16ac15['disabled']=![];}}function pinResponse(_0x4d5372){const _0x3ac49a=_0x2da02f,_0x2d584e=_0x4d5372[_0x3ac49a(0x28d)](_0x3ac49a(0x175))[_0x3ac49a(0x2c8)],_0x281ef4=_0x2d584e[_0x3ac49a(0x167)]>0x32?_0x2d584e[_0x3ac49a(0x1d1)](0x0,0x32)+_0x3ac49a(0x210):_0x2d584e;pinnedResponses[_0x3ac49a(0x1b1)]({'text':_0x2d584e,'displayText':_0x281ef4}),updatePinnedItems();}function updatePinnedItems(){const _0x1720e3=_0x2da02f,_0x488571=document[_0x1720e3(0x179)](_0x1720e3(0x1e7));_0x488571[_0x1720e3(0x183)]='',pinnedFiles[_0x1720e3(0x2c3)]((_0x3afcd4,_0x5ce0bb)=>{const _0x512933=_0x1720e3,_0x258e11=document[_0x512933(0x2cd)]('div');_0x258e11[_0x512933(0x2dc)]=_0x512933(0x2e5),_0x258e11[_0x512933(0x241)](_0x512933(0x172),_0x512933(0x2ac)),_0x258e11[_0x512933(0x183)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>'+(_0x3afcd4['type'][_0x512933(0x260)]('image/')?_0x512933(0x171):'📄')+_0x512933(0x1d2)+_0x3afcd4[_0x512933(0x236)]+'\x22>'+_0x3afcd4[_0x512933(0x236)]+_0x512933(0x231)+_0x5ce0bb+_0x512933(0x16a),_0x488571[_0x512933(0x22c)](_0x258e11);}),pinnedResponses['forEach']((_0x2bd130,_0x39dc24)=>{const _0x513772=_0x1720e3,_0x52a83c=document[_0x513772(0x2cd)](_0x513772(0x1b5));_0x52a83c[_0x513772(0x2dc)]=_0x513772(0x2e5),_0x52a83c[_0x513772(0x241)](_0x513772(0x172),_0x513772(0x1d3)),_0x52a83c[_0x513772(0x183)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>💬</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22'+_0x2bd130[_0x513772(0x177)]+'\x22>'+_0x2bd130['displayText']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27response\x27,\x20'+_0x39dc24+_0x513772(0x16a),_0x488571[_0x513772(0x22c)](_0x52a83c);});if(pinnedPrompt){const _0x64f52f=document['createElement'](_0x1720e3(0x1b5));_0x64f52f['className']=_0x1720e3(0x2e5),_0x64f52f[_0x1720e3(0x241)](_0x1720e3(0x172),_0x1720e3(0x21f)),_0x64f52f[_0x1720e3(0x183)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>🤖</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22'+pinnedPrompt['title']+'\x22>'+pinnedPrompt[_0x1720e3(0x1b8)]+_0x1720e3(0x2aa),_0x488571['appendChild'](_0x64f52f);}}function removePinnedItem(_0xac367d,_0x3f64f6){const _0xe832f8=_0x2da02f;if(_0xac367d===_0xe832f8(0x2ac))pinnedFiles[_0xe832f8(0x205)](_0x3f64f6,0x1);else{if(_0xac367d===_0xe832f8(0x1d3))pinnedResponses[_0xe832f8(0x205)](_0x3f64f6,0x1);else _0xac367d==='prompt'&&(pinnedPrompt=null);}updatePinnedItems();}function replyToMessage(_0x57fcd4){const _0x52529b=_0x2da02f,_0x16b97c=_0x57fcd4['querySelector'](_0x52529b(0x175))[_0x52529b(0x2c8)],_0xb21bf=document[_0x52529b(0x179)](_0x52529b(0x197));_0xb21bf[_0x52529b(0x202)]='>\x20'+_0x16b97c+'\x0a\x0a',_0xb21bf[_0x52529b(0x20b)](),_0xb21bf[_0x52529b(0x214)](_0xb21bf[_0x52529b(0x202)][_0x52529b(0x167)],_0xb21bf[_0x52529b(0x202)]['length']);}function readFileAsBase64(_0x2658de){return new Promise((_0x38d28e,_0xc7a3b)=>{const _0x186cd4=_0x3b25,_0x39ffd5=new FileReader();_0x39ffd5[_0x186cd4(0x267)]=()=>_0x38d28e(_0x39ffd5['result'][_0x186cd4(0x217)](',')[0x1]),_0x39ffd5['onerror']=_0xc7a3b,_0x39ffd5[_0x186cd4(0x2db)](_0x2658de);});}function hasEnoughCredits(_0x1f6203,_0x177d80){const _0x485cef=_0x2da02f,_0x11813d=_0x177d80>0x0?_0x177d80:0x1;return _0x1f6203==='gemini-1.5-flash'||_0x1f6203===_0x485cef(0x1a7)?currentUser[_0x485cef(0x209)]>=_0x11813d||currentUser[_0x485cef(0x195)]>=_0x11813d||hasValidSubscription():currentUser[_0x485cef(0x195)]>=_0x11813d||hasValidSubscription();}async function updateCredits(_0x2c1a64,_0x1c1fef){const _0x511e05=_0x2da02f;if(hasValidSubscription())return;const _0x3fbfda=db[_0x511e05(0x196)](_0x511e05(0x295)+currentUser[_0x511e05(0x250)]);await _0x3fbfda[_0x511e05(0x28b)](_0x36063c=>{const _0x186332=_0x511e05;if(_0x36063c){if(_0x2c1a64===_0x186332(0x1f2))_0x36063c[_0x186332(0x195)]>=_0x1c1fef?_0x36063c['paidCredits']-=_0x1c1fef:_0x36063c[_0x186332(0x209)]-=_0x1c1fef;else{if(_0x2c1a64===_0x186332(0x1a7)){if(_0x36063c['freeCredits']>=_0x1c1fef)_0x36063c[_0x186332(0x209)]-=_0x1c1fef;else{const _0x1cbc92=_0x1c1fef-_0x36063c[_0x186332(0x209)];_0x36063c[_0x186332(0x209)]=0x0,_0x36063c['paidCredits']=Math[_0x186332(0x187)](0x0,_0x36063c[_0x186332(0x195)]-_0x1cbc92);}}else _0x36063c[_0x186332(0x195)]=Math[_0x186332(0x187)](0x0,_0x36063c[_0x186332(0x195)]-_0x1c1fef);}}return _0x36063c;}),currentUser[_0x511e05(0x209)]=(await _0x3fbfda['child']('freeCredits')['once'](_0x511e05(0x202)))[_0x511e05(0x208)](),currentUser['paidCredits']=(await _0x3fbfda['child'](_0x511e05(0x195))[_0x511e05(0x190)](_0x511e05(0x202)))[_0x511e05(0x208)](),document[_0x511e05(0x179)](_0x511e05(0x209))[_0x511e05(0x2c8)]=currentUser[_0x511e05(0x209)],document[_0x511e05(0x179)](_0x511e05(0x195))[_0x511e05(0x2c8)]=currentUser['paidCredits'];}async function addCreditsToUser(_0x5ca47f){const _0x472149=_0x2da02f,_0x55f07e=db[_0x472149(0x196)](_0x472149(0x295)+currentUser[_0x472149(0x250)]);await _0x55f07e[_0x472149(0x28b)](_0x2d344e=>{const _0x4c66a8=_0x472149;return _0x2d344e&&(_0x2d344e[_0x4c66a8(0x195)]+=_0x5ca47f),_0x2d344e;}),currentUser['paidCredits']=(await _0x55f07e[_0x472149(0x1f0)]('paidCredits')[_0x472149(0x190)]('value'))[_0x472149(0x208)](),document[_0x472149(0x179)](_0x472149(0x195))[_0x472149(0x2c8)]=currentUser[_0x472149(0x195)];}function addMessageToChat(_0x4251af,_0x4c3b28){const _0x5b6e16=_0x2da02f,_0x4d9ab9=document['getElementById'](_0x5b6e16(0x1cb)),_0x425c61=document[_0x5b6e16(0x2cd)](_0x5b6e16(0x1b5));_0x425c61[_0x5b6e16(0x1f3)][_0x5b6e16(0x1dc)](_0x5b6e16(0x2bf),_0x4251af===_0x5b6e16(0x1e0)?_0x5b6e16(0x226):_0x5b6e16(0x279));if(_0x4251af==='ai'){_0x4c3b28=_0x4c3b28[_0x5b6e16(0x2b7)](/^\*\*/gm,'\x0a'),_0x4c3b28=_0x4c3b28[_0x5b6e16(0x2b7)](/\*\*/g,'');const _0xb80109=document[_0x5b6e16(0x2cd)](_0x5b6e16(0x1b5));_0x425c61[_0x5b6e16(0x22c)](_0xb80109),animateResponse(_0xb80109,_0x4c3b28);const _0x1abea1=document[_0x5b6e16(0x2cd)](_0x5b6e16(0x1b5));_0x1abea1['classList'][_0x5b6e16(0x1dc)](_0x5b6e16(0x194)),_0x1abea1[_0x5b6e16(0x183)]=_0x5b6e16(0x2b6),_0x425c61[_0x5b6e16(0x22c)](_0x1abea1);}else _0x425c61[_0x5b6e16(0x2c8)]=_0x4c3b28;return _0x4d9ab9[_0x5b6e16(0x22c)](_0x425c61),_0x4d9ab9['scrollTop']=_0x4d9ab9['scrollHeight'],currentConversation[_0x5b6e16(0x1b1)]({'sender':_0x4251af,'content':_0x4c3b28}),_0x425c61;}function copyResponse(_0x4599b2){const _0x431605=_0x2da02f,_0x576c40=_0x4599b2[_0x431605(0x28d)](_0x431605(0x175))[_0x431605(0x2c8)];navigator[_0x431605(0x232)]['writeText'](_0x576c40)[_0x431605(0x165)](()=>{const _0x52f860=_0x431605;showNotification('Réponse\x20copiée\x20dans\x20le\x20presse-papiers',_0x52f860(0x1ab));});}async function exportResponse(_0x5e8342,_0x319d5c){const _0x295571=_0x2da02f,_0x42f471=_0x5e8342[_0x295571(0x28d)]('div:first-child')[_0x295571(0x2c8)];if(_0x319d5c===_0x295571(0x234)){const _0x423f9e=await generateWordDoc(_0x42f471);saveAs(_0x423f9e,_0x295571(0x18a));}else{if(_0x319d5c===_0x295571(0x2ec)){const _0x42576a=await generatePDF(_0x42f471);saveAs(_0x42576a,_0x295571(0x1c8));}}showNotification('Export\x20en\x20'+_0x319d5c[_0x295571(0x251)]()+_0x295571(0x1dd),'success');}async function generateWordDoc(_0x51da54){const _0x5f3144=_0x2da02f,_0x3f61c3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<?xml\x20version=\x221.0\x22\x20encoding=\x22UTF-8\x22\x20standalone=\x22yes\x22?>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<w:document\x20xmlns:w=\x22http://schemas.openxmlformats.org/wordprocessingml/2006/main\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:t>'+_0x51da54+_0x5f3144(0x2a6),_0x207dad=new PizZip();_0x207dad[_0x5f3144(0x2ac)](_0x5f3144(0x252),_0x3f61c3);const _0x210063=await _0x207dad[_0x5f3144(0x248)]({'type':_0x5f3144(0x292),'mimeType':_0x5f3144(0x1c1)});return _0x210063;}function generatePDF(_0x240926){const _0x5dafe0=_0x2da02f,{jsPDF:_0x430527}=window[_0x5dafe0(0x1af)],_0x3a2a3a=new _0x430527();_0x3a2a3a[_0x5dafe0(0x2af)](0x12),_0x3a2a3a[_0x5dafe0(0x177)]('',0x14,0x14),_0x3a2a3a['setFontSize'](0xc);const _0x11849f=_0x3a2a3a[_0x5dafe0(0x2e2)](_0x240926,0xaa);let _0x177173=0x1e;const _0x442df9=_0x3a2a3a[_0x5dafe0(0x261)][_0x5dafe0(0x1a5)][_0x5dafe0(0x21e)];for(let _0x19675a=0x0;_0x19675a<_0x11849f[_0x5dafe0(0x167)];_0x19675a++){_0x177173>_0x442df9-0x14&&(_0x3a2a3a[_0x5dafe0(0x269)](),_0x177173=0x14),_0x3a2a3a['text'](_0x11849f[_0x19675a],0x14,_0x177173),_0x177173+=0x7;}return _0x3a2a3a[_0x5dafe0(0x1c2)](_0x5dafe0(0x292));}function shareResponse(_0x5966ce){const _0x4fc611=_0x2da02f,_0x3bb507=_0x5966ce['querySelector'](_0x4fc611(0x175))[_0x4fc611(0x2c8)];navigator[_0x4fc611(0x181)]?navigator[_0x4fc611(0x181)]({'title':'','text':_0x3bb507})[_0x4fc611(0x165)](()=>{const _0x344863=_0x4fc611;showNotification(_0x344863(0x283),_0x344863(0x1ab));})[_0x4fc611(0x16c)](_0x3302d0=>{const _0x537486=_0x4fc611;console[_0x537486(0x1de)]('Erreur\x20lors\x20du\x20partage:',_0x3302d0),showNotification(_0x537486(0x23b),_0x537486(0x1de));}):showNotification(_0x4fc611(0x286),'error');}function hasValidSubscription(){const _0x527738=_0x2da02f;if(!currentUser[_0x527738(0x299)]||!currentUser[_0x527738(0x1f7)])return![];return new Date()<new Date(currentUser[_0x527738(0x1f7)]);}function buySubscription(){const _0x4023f9=_0x2da02f,_0xbb73af=document[_0x4023f9(0x179)]('subscriptionSelect')[_0x4023f9(0x202)];if(!_0xbb73af){showNotification('Veuillez\x20sélectionner\x20un\x20forfait.',_0x4023f9(0x1de));return;}const _0x2dc2a9={'24h':0x1,'3d':0x4b0,'7d':0x960,'30d':0x1f40,'3m':0x4e20},_0x2e55e8=_0x2dc2a9[_0xbb73af];var _0x48178d=FedaPay[_0x4023f9(0x1d8)]({'public_key':_0x4023f9(0x2a2),'transaction':{'amount':_0x2e55e8,'description':_0x4023f9(0x184)+_0xbb73af+_0x4023f9(0x27d)},'customer':{'email':'client@example.com'},'onComplete':async function(_0x4a3e88){const _0x22373b=_0x4023f9;if(_0x4a3e88[_0x22373b(0x224)]===FedaPay[_0x22373b(0x223)]){const _0x1dfcec={'id':_0x4a3e88['id'],'description':_0x22373b(0x184)+_0xbb73af+_0x22373b(0x27d),'amount':_0x2e55e8};await activateSubscription(_0xbb73af),showInvoiceDetails(_0x1dfcec),showNotification(_0x22373b(0x298)+_0xbb73af+_0x22373b(0x242),'success'),await checkFirstPurchaseAndRewardReferrer(currentUser[_0x22373b(0x250)],_0x2e55e8);}else showNotification('Le\x20paiement\x20a\x20été\x20annulé\x20ou\x20a\x20échoué.',_0x22373b(0x1de));}});_0x48178d['open']();}function _0x3b25(_0xf918b4,_0x4244e0){const _0x6873e2=_0x6873();return _0x3b25=function(_0x3b2512,_0x1a98c4){_0x3b2512=_0x3b2512-0x165;let _0x1cd6d2=_0x6873e2[_0x3b2512];return _0x1cd6d2;},_0x3b25(_0xf918b4,_0x4244e0);}async function activateSubscription(_0x2a53dd){const _0x1c7cb6=_0x2da02f,_0x203c57={'24h':0x1,'3d':0x3,'7d':0x7,'30d':0x1e,'3m':0x5a},_0x9af85e=_0x203c57[_0x2a53dd],_0x11ea65=new Date();_0x11ea65['setDate'](_0x11ea65['getDate']()+_0x9af85e),currentUser[_0x1c7cb6(0x299)]=_0x2a53dd,currentUser['subscriptionEndDate']=_0x11ea65[_0x1c7cb6(0x1b4)](),await syncUserData(),document['getElementById']('subscription')['textContent']=_0x2a53dd;}function buyCredits(){const _0x2a862c=_0x2da02f,_0x3fe41d=document['getElementById']('creditSelect')[_0x2a862c(0x202)];if(!_0x3fe41d){showNotification(_0x2a862c(0x294),'error');return;}const _0x36fb0d={'10':0x1,'100':0x3e8,'500':0x1194,'1000':0x1f40},_0x5bdbd0=_0x36fb0d[_0x3fe41d];var _0x11bca2=FedaPay[_0x2a862c(0x1d8)]({'public_key':_0x2a862c(0x2a2),'transaction':{'amount':_0x5bdbd0,'description':_0x2a862c(0x1c5)+_0x3fe41d+_0x2a862c(0x1d7)},'customer':{'email':'client@example.com'},'onComplete':async function(_0x186e23){const _0x2f155e=_0x2a862c;if(_0x186e23[_0x2f155e(0x224)]===FedaPay[_0x2f155e(0x223)]){const _0x3b5394={'id':_0x186e23['id'],'description':_0x2f155e(0x1c5)+_0x3fe41d+_0x2f155e(0x1d7),'amount':_0x5bdbd0};await addCreditsToUser(parseInt(_0x3fe41d)),showInvoiceDetails(_0x3b5394),showNotification(_0x3fe41d+_0x2f155e(0x282),_0x2f155e(0x1ab)),await checkFirstPurchaseAndRewardReferrer(currentUser['username'],_0x5bdbd0);}else showNotification('Le\x20paiement\x20a\x20été\x20annulé\x20ou\x20a\x20échoué.',_0x2f155e(0x1de));}});_0x11bca2[_0x2a862c(0x2b3)]();}async function checkFirstPurchaseAndRewardReferrer(_0x24f556,_0x52d701){const _0x2d5fd1=_0x2da02f,_0x12fc07=db[_0x2d5fd1(0x196)](_0x2d5fd1(0x295)+_0x24f556),_0x208b9d=await _0x12fc07[_0x2d5fd1(0x190)](_0x2d5fd1(0x202)),_0x1fe7c4=_0x208b9d[_0x2d5fd1(0x208)]();if(_0x1fe7c4&&!_0x1fe7c4['firstPurchase']){await _0x12fc07['update']({'firstPurchase':!![]});if(_0x1fe7c4[_0x2d5fd1(0x2c7)]){const _0x12363d=await db[_0x2d5fd1(0x196)](_0x2d5fd1(0x297))[_0x2d5fd1(0x18e)](_0x2d5fd1(0x1b3))['equalTo'](_0x1fe7c4[_0x2d5fd1(0x2c7)])[_0x2d5fd1(0x190)](_0x2d5fd1(0x202)),_0x2bf1a8=_0x12363d[_0x2d5fd1(0x208)]();if(_0x2bf1a8){const _0x1cab8b=Object[_0x2d5fd1(0x17e)](_0x2bf1a8)[0x0],_0x4b9426=db['ref']('users/'+_0x1cab8b);await _0x4b9426[_0x2d5fd1(0x28b)](_0x6a9d03=>{const _0x127f8e=_0x2d5fd1;return _0x6a9d03&&(_0x6a9d03[_0x127f8e(0x195)]=(_0x6a9d03['paidCredits']||0x0)+0xa,_0x6a9d03[_0x127f8e(0x29f)]&&_0x6a9d03[_0x127f8e(0x29f)][_0x24f556]&&(_0x6a9d03[_0x127f8e(0x29f)][_0x24f556][_0x127f8e(0x2b0)]=!![])),_0x6a9d03;}),await updateReferralStats(_0x1cab8b),showNotification(_0x2d5fd1(0x290)+_0x24f556+_0x2d5fd1(0x2c0),_0x2d5fd1(0x1ab));}}}}function getShareMessage(_0x29ce77){const _0x244861=_0x2da02f;return encodeURIComponent(_0x244861(0x2ee)+_0x29ce77+_0x244861(0x1b2));}function shareOnFacebook(){const _0x212f66=_0x2da02f,_0x378f3d=document[_0x212f66(0x179)](_0x212f66(0x2d7))[_0x212f66(0x202)],_0x470410=getShareMessage(_0x378f3d);window[_0x212f66(0x2b3)]('https://www.facebook.com/sharer/sharer.php?u='+_0x378f3d+_0x212f66(0x1e3)+_0x470410,_0x212f66(0x1e9));}function shareOnTwitter(){const _0x1b62c8=_0x2da02f,_0x81cf1b=document[_0x1b62c8(0x179)](_0x1b62c8(0x2d7))[_0x1b62c8(0x202)],_0x12ecce=getShareMessage(_0x81cf1b);window['open'](_0x1b62c8(0x272)+_0x81cf1b+'&text='+_0x12ecce,_0x1b62c8(0x1e9));}function shareOnLinkedIn(){const _0x2bbce9=_0x2da02f,_0x3d1b06=document[_0x2bbce9(0x179)](_0x2bbce9(0x2d7))[_0x2bbce9(0x202)],_0x404d8b=getShareMessage(_0x3d1b06);window['open']('https://www.linkedin.com/shareArticle?mini=true&url='+_0x3d1b06+_0x2bbce9(0x1d9)+_0x404d8b,_0x2bbce9(0x1e9));}function shareOnWhatsApp(){const _0x15323d=_0x2da02f,_0x2bbc73=document[_0x15323d(0x179)](_0x15323d(0x2d7))[_0x15323d(0x202)],_0x315e1a=getShareMessage(_0x2bbc73);window[_0x15323d(0x2b3)](_0x15323d(0x2d2)+_0x315e1a,_0x15323d(0x1e9));}function copyReferralLink(){const _0x49c671=_0x2da02f,_0x21a5dc=document[_0x49c671(0x179)](_0x49c671(0x2d7));_0x21a5dc[_0x49c671(0x229)](),document[_0x49c671(0x178)](_0x49c671(0x170)),showNotification(_0x49c671(0x2c1),_0x49c671(0x1ab));}function showNotification(_0xf75566,_0x1417b6){const _0x3c93fd=_0x2da02f,_0x3a0508=document['createElement'](_0x3c93fd(0x1b5));_0x3a0508[_0x3c93fd(0x2c8)]=_0xf75566,_0x3a0508[_0x3c93fd(0x2dc)]='notification\x20'+_0x1417b6,document[_0x3c93fd(0x2e8)][_0x3c93fd(0x22c)](_0x3a0508),setTimeout(()=>{const _0x260b55=_0x3c93fd;_0x3a0508[_0x260b55(0x1f3)][_0x260b55(0x1dc)]('show'),setTimeout(()=>{const _0x7d9d4a=_0x260b55;_0x3a0508['classList'][_0x7d9d4a(0x2ed)](_0x7d9d4a(0x27b)),setTimeout(()=>{_0x3a0508['remove']();},0x12c);},0xbb8);},0x64);}function showPaymentNotification(_0x11daf1){const _0x2c7bf0=_0x2da02f,_0xbfdb11=document[_0x2c7bf0(0x2cd)](_0x2c7bf0(0x1b5));_0xbfdb11[_0x2c7bf0(0x2dc)]=_0x2c7bf0(0x2c4),_0xbfdb11['innerHTML']=_0x2c7bf0(0x2b9)+_0x11daf1+_0x2c7bf0(0x26d),document[_0x2c7bf0(0x2e8)][_0x2c7bf0(0x22c)](_0xbfdb11),setTimeout(()=>{const _0x5c5ca3=_0x2c7bf0;_0xbfdb11['classList'][_0x5c5ca3(0x1dc)](_0x5c5ca3(0x27b)),setTimeout(()=>{const _0x54b176=_0x5c5ca3;_0xbfdb11[_0x54b176(0x1f3)][_0x54b176(0x2ed)](_0x54b176(0x27b)),setTimeout(()=>{const _0x3fe0a2=_0x54b176;_0xbfdb11[_0x3fe0a2(0x2ed)]();},0x12c);},0x2710);},0x64);}async function showPaymentNotificationWithFreeOption(_0x2c0dce){return new Promise(_0x4f9d91=>{const _0x53d7e1=_0x3b25,_0xad085d=document[_0x53d7e1(0x2cd)](_0x53d7e1(0x1b5));_0xad085d[_0x53d7e1(0x2dc)]=_0x53d7e1(0x2c4),_0xad085d['innerHTML']=_0x53d7e1(0x211)+_0x2c0dce+'<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27free\x27)\x22>Utiliser\x20le\x20modèle\x20gratuit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27subscription\x27)\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27credits\x27)\x22>Acheter\x20des\x20crédits</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27cancel\x27)\x22>Annuler</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x53d7e1(0x2e8)][_0x53d7e1(0x22c)](_0xad085d),window['resolveNotification']=function(_0x1d482e){const _0x3d2cc1=_0x53d7e1;_0xad085d[_0x3d2cc1(0x2ed)](),_0x4f9d91(_0x1d482e);},setTimeout(()=>{const _0x42ef04=_0x53d7e1;_0xad085d['classList'][_0x42ef04(0x1dc)](_0x42ef04(0x27b));},0x64);});}function toggleTheme(){const _0x481924=_0x2da02f,_0x597b68=document[_0x481924(0x2e8)],_0x2b51fc=_0x597b68[_0x481924(0x1c7)](_0x481924(0x2b2)),_0x250979=_0x2b51fc===_0x481924(0x189)?_0x481924(0x2d3):_0x481924(0x189);_0x597b68[_0x481924(0x241)](_0x481924(0x2b2),_0x250979),localStorage[_0x481924(0x24a)](_0x481924(0x225),_0x250979),updateThemeIcon(_0x250979),document[_0x481924(0x28d)](_0x481924(0x1c4))[_0x481924(0x241)](_0x481924(0x277),_0x250979);}function updateThemeIcon(_0x19809d){const _0x380f0e=_0x2da02f,_0x132e79=document['querySelector'](_0x380f0e(0x2d4));_0x132e79[_0x380f0e(0x2dc)]=_0x19809d==='dark'?_0x380f0e(0x174):_0x380f0e(0x1bd);}function toggleSidebar(){const _0x499c71=_0x2da02f,_0x56b7ed=document[_0x499c71(0x28d)]('.sidebar'),_0x64fc0=document[_0x499c71(0x28d)](_0x499c71(0x198));_0x56b7ed[_0x499c71(0x1f3)][_0x499c71(0x219)](_0x499c71(0x1be)),_0x64fc0[_0x499c71(0x1f3)][_0x499c71(0x219)]('sidebar-visible');}function saveConversation(){const _0x36d97f=_0x2da02f;if(!currentUser)return;const _0x3f1dd0=currentConversation['id']||Date[_0x36d97f(0x23e)]()[_0x36d97f(0x2e9)]();conversations[_0x3f1dd0]=currentConversation,currentConversation['id']=_0x3f1dd0,localStorage['setItem'](_0x36d97f(0x19f)+currentUser[_0x36d97f(0x250)],JSON[_0x36d97f(0x270)](conversations)),updateConversationHistory();}function loadConversationHistory(){const _0x45734e=_0x2da02f;if(!currentUser)return;const _0x436a3f=localStorage['getItem'](_0x45734e(0x19f)+currentUser['username']);_0x436a3f&&(conversations=JSON[_0x45734e(0x213)](_0x436a3f),updateConversationHistory());}function updateConversationHistory(){const _0x3b6f99=_0x2da02f,_0x522e0b=document[_0x3b6f99(0x179)]('historyList');_0x522e0b[_0x3b6f99(0x183)]='';const _0x3272f2=Object['keys'](conversations)[_0x3b6f99(0x2ca)]((_0x3fb590,_0x4ec2ea)=>parseInt(_0x4ec2ea)-parseInt(_0x3fb590));_0x3272f2['forEach'](_0x38faf3=>{const _0x555c4f=_0x3b6f99,_0x2d5d98=conversations[_0x38faf3],_0x32aa89=document[_0x555c4f(0x2cd)](_0x555c4f(0x1b5));_0x32aa89[_0x555c4f(0x2dc)]=_0x555c4f(0x21d);const _0x5880af=document[_0x555c4f(0x2cd)](_0x555c4f(0x256));_0x5880af['textContent']=_0x555c4f(0x1cc)+new Date(parseInt(_0x38faf3))['toLocaleString'](),_0x5880af[_0x555c4f(0x25e)]=()=>loadConversation(_0x38faf3);const _0x1197b4=document['createElement']('i');_0x1197b4['className']='fas\x20fa-trash\x20delete-icon',_0x1197b4['onclick']=_0x50affe=>{const _0x34a020=_0x555c4f;_0x50affe[_0x34a020(0x207)](),deleteConversation(_0x38faf3);},_0x32aa89[_0x555c4f(0x22c)](_0x5880af),_0x32aa89[_0x555c4f(0x22c)](_0x1197b4),_0x522e0b[_0x555c4f(0x22c)](_0x32aa89);});}function deleteConversation(_0x23bdd3){const _0x4be66c=_0x2da02f;confirm(_0x4be66c(0x206))&&(delete conversations[_0x23bdd3],localStorage[_0x4be66c(0x24a)](_0x4be66c(0x19f)+currentUser[_0x4be66c(0x250)],JSON[_0x4be66c(0x270)](conversations)),updateConversationHistory());}function createNewConversation(){const _0x58bdd2=_0x2da02f;currentConversation[_0x58bdd2(0x167)]>0x0&&saveConversation();currentConversation=[];const _0x12a02b=document['getElementById'](_0x58bdd2(0x1cb));_0x12a02b[_0x58bdd2(0x183)]='',updateConversationHistory(),addMessageToChat('ai',_0x58bdd2(0x21c)),_0x12a02b[_0x58bdd2(0x262)]=0x0,document['getElementById'](_0x58bdd2(0x197))[_0x58bdd2(0x20b)]();}function loadConversation(_0x35687){const _0x796c87=_0x2da02f;currentConversation[_0x796c87(0x167)]>0x0&&currentConversation['id']!==_0x35687&&saveConversation();currentConversation=conversations[_0x35687],currentConversation['id']=_0x35687;const _0x13084f=document[_0x796c87(0x179)](_0x796c87(0x1cb));_0x13084f[_0x796c87(0x183)]='',currentConversation[_0x796c87(0x2c3)](_0x29b354=>{const _0x4c25bf=_0x796c87;addMessageToChat(_0x29b354['sender'],_0x29b354[_0x4c25bf(0x277)]);}),_0x13084f['scrollTop']=0x0;}async function syncUserData(){const _0x1b71f5=_0x2da02f;if(!currentUser)return;const _0x2439d4={'freeCredits':currentUser[_0x1b71f5(0x209)]||0x0,'paidCredits':currentUser[_0x1b71f5(0x195)]||0x0,'lastFreeCreditsReset':currentUser['lastFreeCreditsReset']||new Date()[_0x1b71f5(0x1b4)]()};currentUser[_0x1b71f5(0x299)]&&(_0x2439d4['subscription']=currentUser[_0x1b71f5(0x299)]);currentUser['subscriptionEndDate']&&(_0x2439d4[_0x1b71f5(0x1f7)]=currentUser[_0x1b71f5(0x1f7)]);const _0x1c13f6=db[_0x1b71f5(0x196)]('users/'+currentUser[_0x1b71f5(0x250)]);try{await _0x1c13f6[_0x1b71f5(0x26f)](_0x2439d4),console[_0x1b71f5(0x19b)](_0x1b71f5(0x278),_0x2439d4);}catch(_0x1dc1e8){console[_0x1b71f5(0x1de)](_0x1b71f5(0x203),_0x1dc1e8),showNotification(_0x1b71f5(0x258),_0x1b71f5(0x1de));}}function adjustTextareaHeight(){const _0xb1015d=_0x2da02f,_0x19c92c=document[_0xb1015d(0x179)](_0xb1015d(0x197));_0x19c92c[_0xb1015d(0x1fc)][_0xb1015d(0x21e)]=_0xb1015d(0x1a2),_0x19c92c[_0xb1015d(0x1fc)][_0xb1015d(0x21e)]=_0x19c92c['scrollHeight']+'px';}function resetTextareaHeight(){const _0x421769=_0x2da02f,_0x1da1fb=document['getElementById']('userInput');_0x1da1fb[_0x421769(0x1fc)][_0x421769(0x21e)]=_0x421769(0x1a2);}async function attemptAutoLogin(){const _0x1c957b=_0x2da02f,_0x314a1d=getStoredLoginInfo();if(_0x314a1d[_0x1c957b(0x250)]&&_0x314a1d['password'])try{const _0x12e83c=db[_0x1c957b(0x196)](_0x1c957b(0x295)+_0x314a1d['username']),_0x40a5fc=await _0x12e83c[_0x1c957b(0x190)](_0x1c957b(0x202));if(_0x40a5fc[_0x1c957b(0x1f8)]()&&_0x40a5fc[_0x1c957b(0x208)]()[_0x1c957b(0x1ed)]===_0x314a1d['password']){const _0x5cbb2c=_0x40a5fc[_0x1c957b(0x208)]();currentUser={'username':_0x314a1d['username'],'freeCredits':_0x5cbb2c[_0x1c957b(0x209)],'paidCredits':_0x5cbb2c['paidCredits'],'subscription':_0x5cbb2c[_0x1c957b(0x299)],'subscriptionEndDate':_0x5cbb2c[_0x1c957b(0x1f7)],'lastFreeCreditsReset':_0x5cbb2c[_0x1c957b(0x1f9)]},await resetFreeCreditsIfNeeded(),updateUIForLoggedInUser(),console['log'](_0x1c957b(0x1c6));}else clearLoginInfo(),console['log']('Échec\x20de\x20la\x20connexion\x20automatique\x20:\x20informations\x20invalides');}catch(_0x17cb01){console['error']('Erreur\x20lors\x20de\x20la\x20connexion\x20automatique:',_0x17cb01),clearLoginInfo();}}function saveSelectedModel(){const _0x2dc2c8=_0x2da02f,_0x40f267=document[_0x2dc2c8(0x179)](_0x2dc2c8(0x19c))[_0x2dc2c8(0x202)];localStorage[_0x2dc2c8(0x24a)](_0x2dc2c8(0x222),_0x40f267);}function loadSelectedModel(){const _0x101a39=_0x2da02f,_0x1f2fd6=localStorage[_0x101a39(0x2cc)](_0x101a39(0x222));_0x1f2fd6&&(document[_0x101a39(0x179)](_0x101a39(0x19c))[_0x101a39(0x202)]=_0x1f2fd6);}function showUpgradeButton(_0x252cdf){const _0x15af33=_0x2da02f,_0x332e3f=document['createElement'](_0x15af33(0x191));_0x332e3f['textContent']='Passer\x20à\x20un\x20modèle\x20avancé',_0x332e3f[_0x15af33(0x2dc)]='upgrade-button',_0x332e3f[_0x15af33(0x25e)]=()=>{const _0xbb3086=_0x15af33;hasValidSubscription()||currentUser['paidCredits']>0x0?(document[_0xbb3086(0x179)](_0xbb3086(0x19c))[_0xbb3086(0x202)]=_0xbb3086(0x2b5),showNotification(_0xbb3086(0x23c),'success')):showPaymentNotification(_0xbb3086(0x220));},_0x252cdf[_0x15af33(0x22c)](_0x332e3f);}function animateResponse(_0x1778b1,_0x3d8bf1){const _0x2260b7=_0x2da02f;let _0x40405b=0x0;_0x1778b1[_0x2260b7(0x2c8)]='';const _0xc964c0=setInterval(()=>{const _0x202c01=_0x2260b7;_0x40405b<_0x3d8bf1[_0x202c01(0x167)]?(_0x1778b1[_0x202c01(0x2c8)]+=_0x3d8bf1[_0x40405b],_0x40405b++):clearInterval(_0xc964c0);},0x1);}function loadPromptCategories(){const _0x2c235a=_0x2da02f,_0x334fbb=document[_0x2c235a(0x179)]('promptCategories');_0x334fbb['innerHTML']='',db[_0x2c235a(0x196)](_0x2c235a(0x1c0))[_0x2c235a(0x190)]('value',_0x2edcd1=>{const _0x1d7941=_0x2c235a;prompts=_0x2edcd1[_0x1d7941(0x208)]()||{};const _0x4b8267=[...new Set(Object[_0x1d7941(0x2a3)](prompts)['map'](_0x33e1f2=>_0x33e1f2[_0x1d7941(0x2e3)]))];_0x4b8267['forEach'](_0xc5af2b=>{const _0x68db4f=_0x1d7941,_0x4a84e9=document['createElement']('li');_0x4a84e9[_0x68db4f(0x2c8)]=_0xc5af2b,_0x4a84e9['onclick']=()=>{const _0x110a00=_0x68db4f;document[_0x110a00(0x1ce)]('#promptCategories\x20li')[_0x110a00(0x2c3)](_0x2e45af=>_0x2e45af[_0x110a00(0x1f3)]['remove'](_0x110a00(0x2cf))),_0x4a84e9[_0x110a00(0x1f3)][_0x110a00(0x1dc)](_0x110a00(0x2cf)),loadPromptsForCategory(_0xc5af2b);},_0x334fbb[_0x68db4f(0x22c)](_0x4a84e9);}),_0x4b8267[_0x1d7941(0x167)]>0x0&&(loadPromptsForCategory(_0x4b8267[0x0]),_0x334fbb[_0x1d7941(0x21b)][_0x1d7941(0x1f3)]['add'](_0x1d7941(0x2cf)));});}function loadPromptsForCategory(_0x5f3797){const _0x20b5f3=_0x2da02f,_0x23460c=document[_0x20b5f3(0x179)](_0x20b5f3(0x266));_0x23460c[_0x20b5f3(0x183)]='',Object[_0x20b5f3(0x233)](prompts)['forEach'](([_0x1581a6,_0x25888a])=>{const _0x388961=_0x20b5f3;if(_0x25888a[_0x388961(0x2e3)]===_0x5f3797){const _0x591497=document[_0x388961(0x2cd)]('li');_0x591497['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prompt-item\x22\x20onclick=\x22selectPrompt(\x27'+_0x1581a6+_0x388961(0x2ab)+JSON[_0x388961(0x270)](_0x25888a)[_0x388961(0x2b7)](/"/g,_0x388961(0x1a3))+_0x388961(0x28e)+_0x25888a[_0x388961(0x1b8)]+_0x388961(0x1e8),_0x23460c['appendChild'](_0x591497);}});}function selectPrompt(_0x46e269,_0x205024){const _0x36ba67=_0x2da02f;pinnedPrompt={'id':_0x46e269,..._0x205024},updatePinnedPrompt(),closePromptModal(),showNotification('Prompt\x20sélectionné',_0x36ba67(0x1ab));}function closePromptModal(){const _0xd02e58=_0x2da02f;document['getElementById'](_0xd02e58(0x2ad))[_0xd02e58(0x1fc)][_0xd02e58(0x1bc)]=_0xd02e58(0x273);}function togglePromptList(){const _0x2fe755=_0x2da02f,_0x23cc2b=document[_0x2fe755(0x179)](_0x2fe755(0x2ad));_0x23cc2b[_0x2fe755(0x1fc)][_0x2fe755(0x1bc)]=_0x2fe755(0x25d),loadPromptCategories();}function updatePinnedPrompt(){const _0x59340d=_0x2da02f,_0x4c0018=document[_0x59340d(0x179)]('pinnedItems'),_0x156ba5=_0x4c0018['querySelector'](_0x59340d(0x25a));_0x156ba5&&_0x156ba5[_0x59340d(0x2ed)]();if(pinnedPrompt){const _0x497622=document[_0x59340d(0x2cd)](_0x59340d(0x1b5));_0x497622[_0x59340d(0x2dc)]=_0x59340d(0x2e5),_0x497622[_0x59340d(0x241)](_0x59340d(0x172),_0x59340d(0x21f)),_0x497622[_0x59340d(0x183)]=_0x59340d(0x1a4)+pinnedPrompt[_0x59340d(0x1b8)]+'\x22>'+pinnedPrompt[_0x59340d(0x1b8)]+_0x59340d(0x238),_0x4c0018['appendChild'](_0x497622);}}function removePinnedPrompt(){pinnedPrompt=null,updatePinnedPrompt();}function openLibrary(){const _0x1e7dc5=_0x2da02f;console['log'](_0x1e7dc5(0x1ca));if(currentUser){console[_0x1e7dc5(0x19b)]('Utilisateur\x20connecté:',currentUser);const _0x3d31aa={'username':currentUser[_0x1e7dc5(0x250)],'freeCredits':currentUser['freeCredits'],'paidCredits':currentUser[_0x1e7dc5(0x195)],'subscription':currentUser[_0x1e7dc5(0x299)]};localStorage[_0x1e7dc5(0x24a)](_0x1e7dc5(0x255),JSON[_0x1e7dc5(0x270)](_0x3d31aa)),console[_0x1e7dc5(0x19b)](_0x1e7dc5(0x24c)),window[_0x1e7dc5(0x25f)]['href']=_0x1e7dc5(0x215);}else console[_0x1e7dc5(0x19b)]('Utilisateur\x20non\x20connecté'),alert(_0x1e7dc5(0x23d));}async function showReferralModal(){const _0x2cf0ff=_0x2da02f,_0x43e3e7=document['getElementById'](_0x2cf0ff(0x271));_0x43e3e7[_0x2cf0ff(0x1fc)][_0x2cf0ff(0x1bc)]=_0x2cf0ff(0x25d);const _0x3ff0c2=await getOrCreateReferralCode();if(_0x3ff0c2){const _0x6a6b4f=_0x2cf0ff(0x22f)+_0x3ff0c2;document[_0x2cf0ff(0x179)](_0x2cf0ff(0x2d7))['value']=_0x6a6b4f;const _0x1b512b=_0x2cf0ff(0x2d6)+_0x6a6b4f;document[_0x2cf0ff(0x179)](_0x2cf0ff(0x2d7))[_0x2cf0ff(0x241)](_0x2cf0ff(0x1f5),_0x1b512b);}else document['getElementById'](_0x2cf0ff(0x2d7))[_0x2cf0ff(0x202)]='Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20code\x20de\x20parrainage.';await updateReferralStats(currentUser[_0x2cf0ff(0x250)]);}function generateReferralCode(){const _0x902ac2=_0x2da02f;return Math[_0x902ac2(0x2bc)]()[_0x902ac2(0x2e9)](0x24)[_0x902ac2(0x1d1)](0x2,0x8)[_0x902ac2(0x251)]();}async function getOrCreateReferralCode(){const _0x4f3592=_0x2da02f;if(!currentUser)return null;const _0xe9161d=db[_0x4f3592(0x196)](_0x4f3592(0x295)+currentUser[_0x4f3592(0x250)]),_0x225481=await _0xe9161d[_0x4f3592(0x190)]('value'),_0x3c14cd=_0x225481[_0x4f3592(0x208)]();if(_0x3c14cd&&_0x3c14cd[_0x4f3592(0x1b3)])return _0x3c14cd[_0x4f3592(0x1b3)];else{const _0x10bd9f=generateReferralCode();return await _0xe9161d[_0x4f3592(0x26f)]({'referralCode':_0x10bd9f}),_0x10bd9f;}}async function updateReferralStats(_0x5acd7e){const _0x23201e=_0x2da02f,_0x4b7363=db[_0x23201e(0x196)](_0x23201e(0x295)+_0x5acd7e),_0x3347f7=await _0x4b7363['once'](_0x23201e(0x202)),_0x2a740a=_0x3347f7[_0x23201e(0x208)]();if(_0x2a740a&&_0x2a740a[_0x23201e(0x29f)]){const _0x29bcb1=_0x2a740a[_0x23201e(0x29f)],_0x4f982d=Object['keys'](_0x29bcb1)[_0x23201e(0x167)],_0x8eca41=Object['values'](_0x29bcb1)[_0x23201e(0x27c)](_0x1a8e03=>_0x1a8e03[_0x23201e(0x2b0)])[_0x23201e(0x167)];await _0x4b7363[_0x23201e(0x26f)]({'totalReferrals':_0x4f982d,'activeReferrals':_0x8eca41}),currentUser&&currentUser[_0x23201e(0x250)]===_0x5acd7e&&(document[_0x23201e(0x179)]('totalReferrals')[_0x23201e(0x2c8)]=_0x4f982d,document[_0x23201e(0x179)](_0x23201e(0x2a5))[_0x23201e(0x2c8)]=_0x8eca41);}}window['onload']=async function(){const _0x29d9d9=_0x2da02f;await attemptAutoLogin();if(currentUser){if(currentUser[_0x29d9d9(0x209)]===undefined)currentUser[_0x29d9d9(0x209)]=0x0;if(currentUser[_0x29d9d9(0x195)]===undefined)currentUser['paidCredits']=0x0;if(currentUser[_0x29d9d9(0x299)]===undefined)currentUser[_0x29d9d9(0x299)]=null;if(currentUser[_0x29d9d9(0x1f7)]===undefined)currentUser[_0x29d9d9(0x1f7)]=null;if(currentUser['lastFreeCreditsReset']===undefined)currentUser[_0x29d9d9(0x1f9)]=new Date()[_0x29d9d9(0x1b4)]();const _0x11bda4=db['ref'](_0x29d9d9(0x295)+currentUser['username']),_0x3fba52=await _0x11bda4[_0x29d9d9(0x190)]('value'),_0x5c645e=_0x3fba52[_0x29d9d9(0x208)]();_0x5c645e&&(importedFilesCount=_0x5c645e[_0x29d9d9(0x1a9)]||0x0,lastImportReset=new Date(_0x5c645e[_0x29d9d9(0x228)]||new Date())),await syncUserData();}const _0x46746a=localStorage[_0x29d9d9(0x2cc)](_0x29d9d9(0x225))||_0x29d9d9(0x2d3);document[_0x29d9d9(0x2e8)][_0x29d9d9(0x241)](_0x29d9d9(0x2b2),_0x46746a),updateThemeIcon(_0x46746a),setupUIEventListeners();currentUser&&loadConversationHistory();initModals(),loadSelectedModel(),document[_0x29d9d9(0x179)](_0x29d9d9(0x19c))[_0x29d9d9(0x1fa)](_0x29d9d9(0x182),saveSelectedModel),restoreAppState(),initializeNewDiscussion(),document[_0x29d9d9(0x2e8)]['classList']['add'](_0x29d9d9(0x1f1)),setInterval(checkSubscriptionStatus,0x36ee80),await loadApiKeyList(),initializeGeminiAPI();const _0x6c3a75=document['getElementById']('modelSelect');!_0x6c3a75[_0x29d9d9(0x202)]&&(_0x6c3a75[_0x29d9d9(0x202)]=_0x29d9d9(0x1f2));};function setupUIEventListeners(){const _0x3cb6ba=_0x2da02f,_0x1218ad=document['querySelector']('.input-container'),_0x1be28f=document[_0x3cb6ba(0x179)]('userInput'),_0x4b5343=document[_0x3cb6ba(0x28d)](_0x3cb6ba(0x28f)),_0x418797=_0x1218ad['querySelector']('button:last-child');function _0x52fccc(){const _0xa41495=_0x3cb6ba,_0x2f3377=_0x1218ad[_0xa41495(0x1ea)],_0x1d6db6=_0x4b5343[_0xa41495(0x1ea)],_0x56598d=document[_0xa41495(0x179)]('promptListButton')[_0xa41495(0x1ea)],_0x324b49=_0x418797[_0xa41495(0x1ea)],_0x31f365=0x1e;_0x1be28f[_0xa41495(0x1fc)][_0xa41495(0x27f)]=_0x2f3377-_0x1d6db6-_0x56598d-_0x324b49-_0x31f365+'px';}_0x52fccc(),window[_0x3cb6ba(0x1fa)](_0x3cb6ba(0x185),_0x52fccc),_0x1be28f[_0x3cb6ba(0x1fa)](_0x3cb6ba(0x264),adjustTextareaHeight),document[_0x3cb6ba(0x179)](_0x3cb6ba(0x19c))[_0x3cb6ba(0x1fa)](_0x3cb6ba(0x182),checkModelAccess);window[_0x3cb6ba(0x16e)]<=0x300&&(document['querySelector'](_0x3cb6ba(0x18d))[_0x3cb6ba(0x1f3)][_0x3cb6ba(0x2ed)](_0x3cb6ba(0x1be)),document['querySelector'](_0x3cb6ba(0x198))[_0x3cb6ba(0x1f3)]['remove'](_0x3cb6ba(0x253)));if(currentUser){const _0x1f1991=db[_0x3cb6ba(0x196)]('users/'+currentUser['username']);_0x1f1991['on'](_0x3cb6ba(0x202),_0x1dfabb=>{const _0x3b6d6e=_0x3cb6ba,_0x1bb2d2=_0x1dfabb[_0x3b6d6e(0x208)]();_0x1bb2d2&&(currentUser={...currentUser,'freeCredits':_0x1bb2d2[_0x3b6d6e(0x209)],'paidCredits':_0x1bb2d2[_0x3b6d6e(0x195)],'subscription':_0x1bb2d2[_0x3b6d6e(0x299)],'subscriptionEndDate':_0x1bb2d2[_0x3b6d6e(0x1f7)],'lastFreeCreditsReset':_0x1bb2d2[_0x3b6d6e(0x1f9)]},updateUIForLoggedInUser());});}}function initModals(){const _0x9ee66d=_0x2da02f,_0x238a12=document[_0x9ee66d(0x1ce)]('.modal'),_0x404202=document[_0x9ee66d(0x1ce)](_0x9ee66d(0x293));_0x404202[_0x9ee66d(0x2c3)](_0x13751f=>{const _0x1087c0=_0x9ee66d;_0x13751f[_0x1087c0(0x1fa)](_0x1087c0(0x27e),()=>{const _0x53abc3=_0x1087c0;_0x13751f[_0x53abc3(0x1fe)](_0x53abc3(0x17b))[_0x53abc3(0x1fc)][_0x53abc3(0x1bc)]=_0x53abc3(0x273);});}),window[_0x9ee66d(0x1fa)](_0x9ee66d(0x27e),_0x525255=>{const _0x112d34=_0x9ee66d;_0x238a12[_0x112d34(0x2c3)](_0x3a5107=>{const _0x33aede=_0x112d34;_0x525255[_0x33aede(0x2eb)]===_0x3a5107&&(_0x3a5107[_0x33aede(0x1fc)][_0x33aede(0x1bc)]=_0x33aede(0x273));});});}document[_0x2da02f(0x1fa)](_0x2da02f(0x230),function(_0xae112e){const _0x1dd817=_0x2da02f;_0xae112e['key']===_0x1dd817(0x17d)&&!_0xae112e[_0x1dd817(0x1e4)]&&(_0xae112e[_0x1dd817(0x180)](),sendMessage());}),document[_0x2da02f(0x179)](_0x2da02f(0x197))['addEventListener'](_0x2da02f(0x230),function(_0x4431c3){const _0x104b03=_0x2da02f;if(_0x4431c3['key']===_0x104b03(0x17d)&&_0x4431c3[_0x104b03(0x1e4)]){_0x4431c3['preventDefault']();const _0xc604cc=this[_0x104b03(0x1ee)],_0x391a11=this[_0x104b03(0x2b1)],_0x49a995=this[_0x104b03(0x202)];this[_0x104b03(0x202)]=_0x49a995[_0x104b03(0x1d1)](0x0,_0xc604cc)+'\x0a'+_0x49a995[_0x104b03(0x1d1)](_0x391a11),this[_0x104b03(0x1ee)]=this[_0x104b03(0x2b1)]=_0xc604cc+0x1;}});function checkApiStatus(){const _0x5838d0=_0x2da02f;axios['get'](API_BASE_URL+_0x5838d0(0x2be)+API_KEY)[_0x5838d0(0x165)](_0x3a5217=>{const _0x49fbc9=_0x5838d0;console[_0x49fbc9(0x19b)](_0x49fbc9(0x1ef),_0x3a5217[_0x49fbc9(0x2cb)]),console[_0x49fbc9(0x19b)]('Modèles\x20disponibles:',_0x3a5217[_0x49fbc9(0x20c)]);})[_0x5838d0(0x16c)](_0x1444c0=>{const _0x2b8ae2=_0x5838d0;console[_0x2b8ae2(0x1de)]('Erreur\x20lors\x20de\x20la\x20vérification\x20du\x20statut\x20de\x20l\x27API:',_0x1444c0);});}function checkApiStatusRegularly(){checkApiStatus(),setInterval(checkApiStatus,0xea60);}window[_0x2da02f(0x1fa)](_0x2da02f(0x1da),function(){const _0x44b1a8=_0x2da02f;showNotification(_0x44b1a8(0x18f),_0x44b1a8(0x1de));}),window[_0x2da02f(0x1fa)](_0x2da02f(0x276),function(){const _0x31e1ae=_0x2da02f;showNotification('Vous\x20êtes\x20de\x20nouveau\x20en\x20ligne.',_0x31e1ae(0x1ab));}),window['addEventListener']('beforeunload',function(){const _0x3f2a90=_0x2da02f;currentUser&&localStorage[_0x3f2a90(0x24a)](_0x3f2a90(0x2ae),JSON['stringify'](currentConversation));});function restoreAppState(){const _0x3408cc=_0x2da02f,_0x383090=localStorage['getItem'](_0x3408cc(0x2ae));_0x383090&&(currentConversation=JSON['parse'](_0x383090),currentConversation[_0x3408cc(0x2c3)](_0x449af=>{const _0x434c9c=_0x3408cc;addMessageToChat(_0x449af[_0x434c9c(0x193)],_0x449af[_0x434c9c(0x277)]);}));}function updateUI(){const _0x4d61f8=_0x2da02f;currentUser&&(document[_0x4d61f8(0x179)]('freeCredits')[_0x4d61f8(0x2c8)]=currentUser[_0x4d61f8(0x209)],document['getElementById']('paidCredits')['textContent']=currentUser[_0x4d61f8(0x195)],document[_0x4d61f8(0x179)](_0x4d61f8(0x299))[_0x4d61f8(0x2c8)]=currentUser[_0x4d61f8(0x299)]||_0x4d61f8(0x1b0));}document['getElementById'](_0x2da02f(0x259))[_0x2da02f(0x1d0)]='.pdf,.jpg,.jpeg,.png,.docx,.doc',setInterval(updateUI,0x493e0),checkApiStatusRegularly(),window[_0x2da02f(0x2a1)]=showLoginModal,window[_0x2da02f(0x1ae)]=showRegisterModal,window['login']=login,window[_0x2da02f(0x2a4)]=register,window[_0x2da02f(0x29a)]=logout,window[_0x2da02f(0x169)]=sendMessage,window[_0x2da02f(0x268)]=buySubscription,window['buyCredits']=buyCredits,window[_0x2da02f(0x254)]=toggleTheme,window[_0x2da02f(0x284)]=toggleSidebar,window[_0x2da02f(0x2d9)]=createNewConversation,window[_0x2da02f(0x22e)]=handleFileUpload,window[_0x2da02f(0x245)]=togglePromptList,window[_0x2da02f(0x296)]=showReferralModal,window[_0x2da02f(0x1ec)]=generateReferralCode,window['copyReferralLink']=copyReferralLink,window['shareOnFacebook']=shareOnFacebook,window[_0x2da02f(0x24e)]=shareOnTwitter,window[_0x2da02f(0x221)]=shareOnLinkedIn,window[_0x2da02f(0x22d)]=shareOnWhatsApp,window[_0x2da02f(0x20e)]=removePinnedFile;
