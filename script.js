const _0x1f4606=_0x2638;(function(_0x388903,_0x298000){const _0x1f1321=_0x2638,_0x4b81f1=_0x388903();while(!![]){try{const _0xacabe9=-parseInt(_0x1f1321(0x2c7))/0x1+parseInt(_0x1f1321(0x242))/0x2*(-parseInt(_0x1f1321(0x31a))/0x3)+parseInt(_0x1f1321(0x33f))/0x4*(parseInt(_0x1f1321(0x319))/0x5)+parseInt(_0x1f1321(0x22c))/0x6*(-parseInt(_0x1f1321(0x262))/0x7)+parseInt(_0x1f1321(0x23a))/0x8+parseInt(_0x1f1321(0x290))/0x9*(-parseInt(_0x1f1321(0x2e7))/0xa)+parseInt(_0x1f1321(0x254))/0xb;if(_0xacabe9===_0x298000)break;else _0x4b81f1['push'](_0x4b81f1['shift']());}catch(_0x17fc86){_0x4b81f1['push'](_0x4b81f1['shift']());}}}(_0x1fd1,0x8e623));const API_KEY='AIzaSyB3umTE3n2d5gwKzOmJz4ss1pFZMR8_vOE',API_BASE_URL=_0x1f4606(0x231);let currentUser=null,pinnedFiles=[],currentConversation=[],conversations={};const FREE_CREDITS_PER_DAY=0x3,FREE_MODEL_MAX_WORDS=0xc350,FREE_MODEL_MAX_RESPONSE=0x7d0,SYSTEM_INSTRUCTION=_0x1f4606(0x2f4),firebaseConfig={'apiKey':_0x1f4606(0x1b9),'authDomain':_0x1f4606(0x279),'databaseURL':_0x1f4606(0x2b4),'projectId':_0x1f4606(0x287),'storageBucket':'gemini-bb56e.appspot.com','messagingSenderId':_0x1f4606(0x269),'appId':_0x1f4606(0x24b),'measurementId':_0x1f4606(0x277)};function _0x1fd1(){const _0x231243=['readAsDataURL','offsetWidth','.pinned-item[data-type=\x22prompt\x22]','sort','forEach','pk_live_TfSz212W0xSMKK7oPEogkFmp','Tu\x20es\x20Eduque\x20moi,\x20un\x20assistant\x20IA\x20d√©velopp√©\x20par\x20Evisions.\x20Ta\x20mission\x20principale\x20est\x20d\x27aider\x20les\x20utilisateurs\x20√†\x20apprendre\x20et\x20√†\x20am√©liorer\x20leurs\x20comp√©tences\x20dans\x20divers\x20domaines.\x0a\x0a**Tes\x20comp√©tences\x20cl√©s\x20sont\x20les\x20suivantes\u00a0:**\x0a\x0a*\x20**Compr√©hension\x20et\x20g√©n√©ration\x20de\x20texte\u00a0:**\x20Tu\x20ma√Ætrises\x20parfaitement\x20le\x20fran√ßais,\x20qui\x20est\x20ta\x20langue\x20par\x20d√©faut.\x20Tu\x20peux\x20√©galement\x20comprendre\x20et\x20r√©pondre\x20dans\x20n\x27importe\x20quelle\x20autre\x20langue.\x0a*\x20**Analyse\x20de\x20documents\u00a0:**\x20Tu\x20peux\x20analyser\x20des\x20fichiers\x20sous\x20diff√©rents\x20formats\x20(texte,\x20image,\x20PDF,\x20etc.)\x20pour\x20en\x20extraire\x20des\x20informations,\x20les\x20r√©sumer,\x20les\x20traduire,\x20etc.\x0a*\x20**Assistance\x20√†\x20la\x20r√©daction\u00a0:**\x20Tu\x20peux\x20aider\x20les\x20utilisateurs\x20√†\x20r√©diger\x20des\x20documents\x20tels\x20que\x20des\x20m√©moires,\x20des\x20dissertations,\x20des\x20rapports,\x20etc.\x20Tu\x20peux\x20√©galement\x20corriger\x20des\x20√©preuves\x20et\x20fournir\x20des\x20suggestions\x20d\x27am√©lioration.\x0a*\x20**Synth√®se\x20et\x20r√©sum√©\u00a0:**\x20Tu\x20peux\x20r√©sumer\x20des\x20cours,\x20des\x20articles,\x20des\x20livres,\x20etc.\x20et\x20en\x20extraire\x20les\x20points\x20cl√©s.\x0a*\x20**Assistance\x20√†\x20l\x27apprentissage\u00a0:**\x20Tu\x20peux\x20r√©pondre\x20aux\x20questions\x20des\x20utilisateurs\x20sur\x20divers\x20sujets,\x20leur\x20fournir\x20des\x20d√©finitions,\x20des\x20explications,\x20des\x20exemples,\x20etc.\x0a\x0a**Ton\x20style\x20de\x20communication\x20doit\x20√™tre\u00a0:**\x0a\x0a*\x20**Clair,\x20concis\x20et\x20pr√©cis.**\x0a*\x20**Adapt√©\x20au\x20niveau\x20de\x20compr√©hension\x20de\x20l\x27utilisateur.**\x0a*\x20**Amical\x20et\x20encourageant.**\x0a\x0a**Informations\x20compl√©mentaires\u00a0:**\x0a\x0a*\x20Tu\x20es\x20capable\x20d\x27apprendre\x20de\x20nouvelles\x20choses\x20et\x20de\x20t\x27adapter\x20aux\x20besoins\x20sp√©cifiques\x20des\x20utilisateurs.\x0a*\x20Tu\x20es\x20toujours\x20en\x20d√©veloppement\x20et\x20tes\x20capacit√©s\x20s\x27am√©liorent\x20constamment.\x0a*\x20Tu\x20es\x20con√ßu\x20pour\x20√™tre\x20un\x20outil\x20d\x27apprentissage\x20et\x20ne\x20dois\x20pas\x20√™tre\x20utilis√©\x20√†\x20des\x20fins\x20ill√©gales\x20ou\x20malveillantes.\x0a\x0a**Exemple\x20d\x27utilisation\u00a0:**\x0a\x0aUn\x20utilisateur\x20peut\x20te\x20demander\x20de\u00a0:\x0a\x0a*\x20\x22R√©sumer\x20ce\x20document\x20PDF\x20sur\x20l\x27histoire\x20de\x20France.\x22\x0a*\x20\x22M\x27aider\x20√†\x20r√©diger\x20l\x27introduction\x20de\x20mon\x20m√©moire\x20sur\x20l\x27intelligence\x20artificielle.\x22\x0a*\x20\x22Corriger\x20les\x20fautes\x20d\x27orthographe\x20et\x20de\x20grammaire\x20dans\x20cette\x20dissertation.\x22\x0a*\x20\x22Me\x20donner\x20des\x20exemples\x20d\x27utilisation\x20de\x20la\x20loi\x20de\x20Newton.\x22\x0a\x0aN\x27h√©site\x20pas\x20√†\x20poser\x20des\x20questions\x20√†\x20l\x27utilisateur\x20pour\x20clarifier\x20ses\x20besoins\x20et\x20lui\x20fournir\x20la\x20meilleure\x20assistance\x20possible.','referralLink','models?key=','displayText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','closest','stringify','Analyse\x20le\x20fichier\x20','Erreur\x20lors\x20de\x20la\x20mise\x20√†\x20jour\x20des\x20donn√©es\x20utilisateur:','Le\x20parrain\x20de\x20','readAsArrayBuffer','button','then','get','\x20r√©ussi','catch','block','status','prompt','slice','lastFreeCreditsReset','pinned-files-message','Rejoignez-moi\x20sur\x20Eduque\x20moi\x20et\x20commencez\x20votre\x20voyage\x20d\x27apprentissage\x20!\x20Utilisez\x20mon\x20lien\x20de\x20parrainage\x20pour\x20obtenir\x20des\x20bonus\x20sp√©ciaux\x20:\x20','value','loading','update','application/pdf','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27prompt\x27)\x22>‚ùå</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','referralModal','data-type','notification\x20','activeReferrals','handleFileUpload','beforeunload','toLocaleString','Aucune\x20cl√©\x20API\x20trouv√©e\x20dans\x20la\x20base\x20de\x20donn√©es.','buySubscription','21115ZSOZJO','54SxetDW','\x0a\x0aPS\x20:\x20En\x20utilisant\x20mon\x20lien,\x20vous\x20me\x20donnez\x20un\x20petit\x20coup\x20de\x20pouce.\x20Mais\x20chut,\x20c\x27est\x20notre\x20secret\x20!\x20üòâ','ceil','entries','Utilisation\x20de\x20cr√©dits\x20gratuits\x20pour\x20Gemini\x201.5\x20Flash.','eduqueMoiPassword','getGenerativeModel','generateReferralCode','.pdf,.jpg,.jpeg,.png,.docx,.doc','image/','Donn√©es\x20utilisateur\x20mises\x20√†\x20jour\x20avec\x20succ√®s:','keys','alt','selectionEnd','now','setSelectionRange','toUpperCase','error',')\x22>‚ùå</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','application/vnd.openxmlformats-officedocument.wordprocessingml.document','lastConversation','init','#promptCategories\x20li','√âchec\x20de\x20la\x20connexion\x20automatique\x20:\x20informations\x20invalides','.close','üñºÔ∏è','href','blob','&quot;','word','location','loginModal','application/msword','.chat-container','Erreur\x20lors\x20de\x20la\x20r√©cup√©ration\x20du\x20code\x20de\x20parrainage.','values','disabled','1080bvsepE','R√©ponse\x20copi√©e\x20dans\x20le\x20presse-papiers','getElementById','data','AIzaSyCvizcYorGDPN3GXqma0opp7wAiMkaCt64','content','toString','target','.input-container','pageSize','Veuillez\x20s√©lectionner\x20un\x20forfait.','totalReferrals','replace','accept','referrals','&text=','createObjectURL','response-text','fileInput','Veuillez\x20vous\x20connecter\x20pour\x20acc√©der\x20√†\x20la\x20biblioth√®que.','light','loaded','.txt','Aucun','response.docx','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','Biblioth√®que.html','onerror','Veuillez\x20entrer\x20un\x20message,\x20joindre\x20un\x20fichier,\x20√©pingler\x20une\x20r√©ponse\x20ou\x20s√©lectionner\x20un\x20prompt.','querySelector','substring','selectionStart','Mod√®les\x20disponibles:','user','reason','downloadInvoice','\x20a\x20re√ßu\x2010\x20cr√©dits\x20pour\x20le\x20premier\x20achat\x20de\x20son\x20filleul\x20!','child','setFontSize','file-name','registerPassword','toISOString','theme','client@example.com','onclick','sender','Erreur\x20lors\x20de\x20l\x27inscription:','Erreur\x20lors\x20de\x20la\x20mise\x20√†\x20jour\x20de\x20votre\x20profil.\x20Veuillez\x20r√©essayer.','.\x20Veuillez\x20r√©essayer.','https://www.linkedin.com/shareArticle?mini=true&url=','change','subscription','result','setItem','promptListModal','Inscription\x20r√©ussie\x20!','pinned-item','pinned-response','\x20FCFA','Tentative\x20d\x27ouverture\x20de\x20la\x20biblioth√®que','registerBtn','modal','pinned-prompt-message','keydown','prompts','pdf','\x27,\x20','Veuillez\x20vous\x20connecter\x20pour\x20envoyer\x20des\x20messages.','Export\x20en\x20','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buySubscription()\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22buyCredits()\x22>Acheter\x20des\x20cr√©dits</button>\x0a\x20\x20\x20\x20','stopPropagation','\x20cr√©dits\x20ont\x20√©t√©\x20ajout√©s\x20√†\x20votre\x20compte.','sidebar-visible','pinnedItems','.pdf','dark','splitTextToSize','user:\x20','getItem','fas\x20fa-sun','message-actions','equalTo','Ce\x20nom\x20d\x27utilisateur\x20existe\x20d√©j√†.','remove','\x20pour\x20Eduque\x20moi','input','Partage\x20r√©ussi','startsWith','Votre\x20abonnement\x20a\x20expir√©.','Num√©ro\x20de\x20transaction\x20:\x20','resolveNotification','firstPurchase','conversationHistory','word/document.xml','once','La\x20liste\x20des\x20cl√©s\x20API\x20est\x20vide.','removeChild','logout','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prompt-item\x22\x20onclick=\x22selectPrompt(\x27','button:last-child','length','getTime','push','text','subscriptionSelect','div:first-child','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>','max','active','share','success','...(Utilisez\x20un\x20mod√®le\x20avanc√©\x20pour\x20avoir\x20la\x20suite\x20de\x20ma\x20r√©ponse)','prompt-icon','generateContent','data-theme','removeItem','firstChild','referralCode','5257050nXiRYr','span','upgrade-button','Achat\x20de\x20','Connexion\x20r√©ussie\x20!','https://generativelanguage.googleapis.com/v1beta/models/','Erreur\x20:\x20Impossible\x20d\x27initialiser\x20l\x27API.\x20Aucune\x20cl√©\x20API\x20disponible.','width','gemini-1.0-pro','Donn√©es\x20utilisateur\x20enregistr√©es\x20dans\x20localStorage','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27free\x27)\x22>Utiliser\x20le\x20mod√®le\x20gratuit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27subscription\x27)\x22>Acheter\x20un\x20abonnement</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27credits\x27)\x22>Acheter\x20des\x20cr√©dits</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22resolveNotification(\x27cancel\x27)\x22>Annuler</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','title','Ce\x20mod√®le\x20n√©cessite\x20un\x20abonnement\x20ou\x20des\x20cr√©dits\x20payants.','users','807072qcTaYn','_blank','splice','querySelectorAll','<h3>Historique\x20des\x20conversations</h3>','pinned-responses-message','Lien\x20de\x20partage\x20copi√©\x20!','show','21158UpLhEE','key','Erreur\x20lors\x20de\x20la\x20connexion:','center','preventDefault','Erreur\x20lors\x20de\x20la\x20v√©rification\x20du\x20statut\x20de\x20l\x27API:','file-icon','info','Le\x20paiement\x20a\x20√©t√©\x20annul√©\x20ou\x20a\x20√©chou√©.','1:277143630015:web:78736f2cf52d29495d160a','search','createNewConversation','sendMessage','Facture\x20Eduque\x20moi','clipboard','register','</w:t>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</w:document>\x0a\x20\x20\x20\x20','Conversation\x20du\x20','22192280FIlfHZ','username','\x20cr√©dits\x20pour\x20Eduque\x20moi','className','display','closeModal','userInfo','\x0a\x0a**R√©ponses\x20√©pingl√©es:**\x0a','modelSelect','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27response\x27,\x20','hidden','isActive','none','paidCredits','7ufEtiL','gemini-1.5-pro','Achat\x20d\x27un\x20forfait\x20','Passer\x20√†\x20un\x20mod√®le\x20avanc√©','Erreur\x20lors\x20du\x20partage:','parse','open','277143630015','subscriptionEndDate','conversations_','toggleSidebar','orderByChild','innerHTML','shareOnWhatsApp','database',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-title\x22>','.file-label','eduqueMoiUsername','select','height','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22downloadInvoice\x22>T√©l√©charger\x20la\x20facture\x20en\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeModal\x22>Fermer</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','G-CSN292219J','importedFilesCount','gemini-bb56e.firebaseapp.com','onload','split','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>üí¨</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','online','Utilisateur\x20non\x20connect√©','file','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22icon\x22>ü§ñ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22\x20title=\x22','ai-message','Utilisation\x20de\x20cr√©dits\x20payants\x20pour\x20Gemini\x201.5\x20Flash.','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20cr√©dits\x20pour\x20envoyer\x20ce\x20message.','description',')\x20que\x20je\x20viens\x20de\x20t\x27envoyer.','innerWidth','gemini-bb56e','writeText','Veuillez\x20s√©lectionner\x20un\x20pack\x20de\x20cr√©dits.','promptListButton','Description\x20:\x20','classList','notification\x20error','log','user-message','2067930yMbCpG','shareOnLinkedIn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedItem(\x27file\x27,\x20','https://www.facebook.com/sharer/sharer.php?u=','shareOnFacebook','exists','gemini-1.5-flash','registerModal','Enter','\x20FCFA</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Num√©ro\x20de\x20transaction:</strong>\x20','response.pdf','password','addEventListener','filter','/referrals/','trim','appendChild','toggle','warning','response','https://wa.me/?text=','fas\x20fa-moon','loginPassword','Votre\x20abonnement\x20expire\x20dans\x20','src','random','getDate','showReferralModal','jspdf','Nom\x20d\x27utilisateur\x20ou\x20mot\x20de\x20passe\x20incorrect.','.sidebar','style','eduqueMoiUserData','loginBtn','messageContainer','output','https://gemini-bb56e-default-rtdb.firebaseio.com','prompt-title','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedFile(','promptList','\x20jour','textContent','createElement','userInput','.modal','\x0a\x0a**Fichiers\x20joints:**\x0a','logoutBtn','resize','Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word\x20:','toLocaleDateString','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Montant:</strong>\x20','pinned-image','amount','div','Vous\x20avez\x20besoin\x20d\x27un\x20abonnement\x20ou\x20de\x20cr√©dits\x20payants\x20pour\x20utiliser\x20ce\x20mod√®le.','1149234KrWJek','body','message','registerUsername','...','users/','auto','generateAsync','Bienvenue\x20dans\x20une\x20nouvelle\x20conversation\x20!\x20Comment\x20puis-je\x20vous\x20aider\x20aujourd\x27hui\x20?','API','visible','scrollHeight','Vous\x20n\x27avez\x20pas\x20assez\x20de\x20cr√©dits\x20pour\x20utiliser\x20Gemini\x201.5\x20Flash.','ref','includes','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22prompt-select-icon\x22><i\x20class=\x22fas\x20fa-plus-circle\x22></i></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','click','freeCredits','scrollTop','üöÄ\x20D√©couvrez\x20le\x20secret\x20pour\x20booster\x20votre\x20apprentissage\x20!\x20üß†‚ú®\x0a\x0aJ\x27ai\x20trouv√©\x20une\x20p√©pite\x20et\x20je\x20ne\x20peux\x20pas\x20garder\x20√ßa\x20pour\x20moi.\x20Imaginez\x20avoir\x20un\x20assistant\x20personnel\x20ultra-intelligent,\x20disponible\x2024/7,\x20pour\x20r√©pondre\x20√†\x20toutes\x20vos\x20questions...\x20C\x27est\x20ce\x20que\x20j\x27ai\x20avec\x20Eduque\x20moi\x20!\x0a\x0aCurieux\x20?\x20Cliquez\x20sur\x20ce\x20lien\x20magique\x20et\x20embarquez\x20pour\x20une\x20aventure\x20intellectuelle\x20incroyable\x20:\x0a','Erreur\x20lors\x20du\x20chargement\x20de\x20la\x20liste\x20des\x20cl√©s\x20API:','save','Erreur\x20lors\x20du\x20partage','val','CHECKOUT_COMPLETED','join','shiftKey','add','meta[name=\x22color-scheme\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyResponse(this.parentNode.parentNode)\x22><i\x20class=\x22fas\x20fa-copy\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22exportResponse(this.parentNode.parentNode,\x20\x27pdf\x27)\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22shareResponse(this.parentNode.parentNode)\x22><i\x20class=\x22fas\x20fa-share-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22reply-button\x22\x20onclick=\x22pinResponse(this.parentNode.parentNode)\x22><i\x20class=\x22fas\x20fa-reply\x22></i></button>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','files','type','20UDsHOs','togglePromptList','category','text/plain','name','Date\x20:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22remove\x22\x20onclick=\x22removePinnedPrompt()\x22>‚ùå</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'];_0x1fd1=function(){return _0x231243;};return _0x1fd1();}firebase['initializeApp'](firebaseConfig);const db=firebase[_0x1f4606(0x270)]();let prompts={},pinnedPrompt=null,pinnedResponses=[],genAI;const API_KEY_LIST_REF=db[_0x1f4606(0x2d4)](_0x1f4606(0x2d0));let apiKeyList=[];async function loadApiKeyList(){const _0x27a121=_0x1f4606;try{const _0x1b7def=await API_KEY_LIST_REF[_0x27a121(0x213)](_0x27a121(0x30b)),_0x201036=_0x1b7def['val']();_0x201036?apiKeyList=Object[_0x27a121(0x33d)](_0x201036):console['warn'](_0x27a121(0x317));}catch(_0x261395){console[_0x27a121(0x32b)](_0x27a121(0x2db),_0x261395);}}function getRandomApiKey(){const _0x4eb69a=_0x1f4606;if(apiKeyList[_0x4eb69a(0x21a)]===0x0)return console[_0x4eb69a(0x32b)](_0x4eb69a(0x214)),null;const _0x474f03=Math['floor'](Math[_0x4eb69a(0x2a9)]()*apiKeyList[_0x4eb69a(0x21a)]);return apiKeyList[_0x474f03];}function initializeGeminiAPI(){const _0xaa3ee1=_0x1f4606,_0x23cc38=getRandomApiKey();_0x23cc38?(genAI=new GoogleGenerativeAI(_0x23cc38),model=genAI[_0xaa3ee1(0x320)]({'model':document[_0xaa3ee1(0x1b7)](_0xaa3ee1(0x25c))[_0xaa3ee1(0x30b)],'systemInstruction':SYSTEM_INSTRUCTION})):showNotification(_0xaa3ee1(0x232),'error');}async function checkSubscriptionStatus(){const _0x56b373=_0x1f4606;if(!currentUser||!currentUser[_0x56b373(0x26a)])return;const _0x199327=new Date(),_0x4eab5b=new Date(currentUser[_0x56b373(0x26a)]);if(_0x199327>_0x4eab5b)currentUser[_0x56b373(0x1e8)]=null,currentUser[_0x56b373(0x26a)]=null,await syncUserData(),showNotification(_0x56b373(0x20d),_0x56b373(0x249)),updateUIForLoggedInUser();else{if(_0x199327>new Date(_0x4eab5b[_0x56b373(0x21b)]()-0x3*0x18*0x3c*0x3c*0x3e8)){const _0x39f1cb=Math[_0x56b373(0x31c)]((_0x4eab5b-_0x199327)/(0x18*0x3c*0x3c*0x3e8));showNotification(_0x56b373(0x2a7)+_0x39f1cb+_0x56b373(0x2b8)+(_0x39f1cb>0x1?'s':'')+'.',_0x56b373(0x2a2));}}}function generateInvoicePDF(_0x2722a7){const _0x93f467=_0x1f4606,{jsPDF:_0x10c1df}=window[_0x93f467(0x2ac)],_0x13dd47=new _0x10c1df();return _0x13dd47[_0x93f467(0x1db)](0x12),_0x13dd47[_0x93f467(0x21d)](_0x93f467(0x24f),0x69,0x14,null,null,_0x93f467(0x245)),_0x13dd47['setFontSize'](0xc),_0x13dd47[_0x93f467(0x21d)]('Facture\x20pour\x20:\x20'+currentUser[_0x93f467(0x255)],0x14,0x28),_0x13dd47['text'](_0x93f467(0x2ec)+new Date()[_0x93f467(0x2c1)](),0x14,0x32),_0x13dd47[_0x93f467(0x21d)](_0x93f467(0x28b)+_0x2722a7[_0x93f467(0x284)],0x14,0x3c),_0x13dd47[_0x93f467(0x21d)]('Montant\x20:\x20'+_0x2722a7[_0x93f467(0x2c4)]+_0x93f467(0x1ef),0x14,0x46),_0x13dd47[_0x93f467(0x21d)](_0x93f467(0x20e)+_0x2722a7['id'],0x14,0x50),_0x13dd47;}function showInvoiceDetails(_0xf06f22){const _0x3743f9=_0x1f4606,_0x5990d9=document[_0x3743f9(0x2ba)](_0x3743f9(0x2c5));_0x5990d9['className']=_0x3743f9(0x1f2),_0x5990d9[_0x3743f9(0x26e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>D√©tails\x20de\x20la\x20facture</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Date:</strong>\x20'+new Date()[_0x3743f9(0x2c1)]()+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Description:</strong>\x20'+_0xf06f22['description']+_0x3743f9(0x2c2)+_0xf06f22[_0x3743f9(0x2c4)]+_0x3743f9(0x299)+_0xf06f22['id']+_0x3743f9(0x276),document['body'][_0x3743f9(0x2a0)](_0x5990d9),document['getElementById'](_0x3743f9(0x1d8))[_0x3743f9(0x29c)](_0x3743f9(0x2d7),()=>{const _0x5b925c=_0x3743f9,_0x2e765c=generateInvoicePDF(_0xf06f22);_0x2e765c[_0x5b925c(0x2dc)]('facture_'+_0xf06f22['id']+_0x5b925c(0x1ff));}),document[_0x3743f9(0x1b7)](_0x3743f9(0x259))[_0x3743f9(0x29c)](_0x3743f9(0x2d7),()=>{const _0x22b303=_0x3743f9;document[_0x22b303(0x2c8)][_0x22b303(0x215)](_0x5990d9);});}function initializeNewDiscussion(){const _0x3875a4=_0x1f4606;currentConversation=[];const _0xcd810=document[_0x3875a4(0x1b7)](_0x3875a4(0x2b2));_0xcd810[_0x3875a4(0x26e)]='',addMessageToChat('ai',_0x3875a4(0x2cf)),updateConversationHistory();}function showLoginModal(){const _0x1ec43f=_0x1f4606;document[_0x1ec43f(0x1b7)](_0x1ec43f(0x339))['style'][_0x1ec43f(0x258)]=_0x1ec43f(0x304);}function showRegisterModal(){const _0x19a0a4=_0x1f4606;document[_0x19a0a4(0x1b7)](_0x19a0a4(0x297))[_0x19a0a4(0x2af)]['display']=_0x19a0a4(0x304);}function closeModal(_0x2a1fed){const _0x26ffd0=_0x1f4606;document[_0x26ffd0(0x1b7)](_0x2a1fed)[_0x26ffd0(0x2af)][_0x26ffd0(0x258)]=_0x26ffd0(0x260);}function updateUIForLoggedInUser(){const _0x4c2b84=_0x1f4606;document['getElementById'](_0x4c2b84(0x2b1))[_0x4c2b84(0x28c)][_0x4c2b84(0x2e2)]('hidden'),document[_0x4c2b84(0x1b7)]('registerBtn')[_0x4c2b84(0x28c)]['add'](_0x4c2b84(0x25e)),document['getElementById'](_0x4c2b84(0x2be))[_0x4c2b84(0x28c)][_0x4c2b84(0x208)](_0x4c2b84(0x25e)),document[_0x4c2b84(0x1b7)]('userInfo')[_0x4c2b84(0x28c)][_0x4c2b84(0x208)](_0x4c2b84(0x25e)),document[_0x4c2b84(0x1b7)]('username')['textContent']=currentUser[_0x4c2b84(0x255)],document['getElementById']('freeCredits')[_0x4c2b84(0x2b9)]=currentUser['freeCredits'],document[_0x4c2b84(0x1b7)](_0x4c2b84(0x261))[_0x4c2b84(0x2b9)]=currentUser[_0x4c2b84(0x261)],document[_0x4c2b84(0x1b7)](_0x4c2b84(0x1e8))[_0x4c2b84(0x2b9)]=currentUser[_0x4c2b84(0x1e8)]||_0x4c2b84(0x1cc),loadConversationHistory();}function updateUIForLoggedOutUser(){const _0x4b2a04=_0x1f4606;document[_0x4b2a04(0x1b7)](_0x4b2a04(0x2b1))[_0x4b2a04(0x28c)][_0x4b2a04(0x208)]('hidden'),document[_0x4b2a04(0x1b7)](_0x4b2a04(0x1f1))[_0x4b2a04(0x28c)][_0x4b2a04(0x208)](_0x4b2a04(0x25e)),document['getElementById'](_0x4b2a04(0x2be))[_0x4b2a04(0x28c)][_0x4b2a04(0x2e2)](_0x4b2a04(0x25e)),document[_0x4b2a04(0x1b7)](_0x4b2a04(0x25a))[_0x4b2a04(0x28c)][_0x4b2a04(0x2e2)](_0x4b2a04(0x25e)),document['getElementById'](_0x4b2a04(0x211))[_0x4b2a04(0x26e)]=_0x4b2a04(0x23e);}function storeLoginInfo(_0x36e9bc,_0x250fbe){const _0x34ee24=_0x1f4606;localStorage[_0x34ee24(0x1ea)](_0x34ee24(0x273),_0x36e9bc),localStorage['setItem'](_0x34ee24(0x31f),_0x250fbe);}function getStoredLoginInfo(){const _0x16a665=_0x1f4606;return{'username':localStorage[_0x16a665(0x203)]('eduqueMoiUsername'),'password':localStorage['getItem'](_0x16a665(0x31f))};}function clearLoginInfo(){const _0x4b152a=_0x1f4606;localStorage[_0x4b152a(0x229)]('eduqueMoiUsername'),localStorage[_0x4b152a(0x229)](_0x4b152a(0x31f));}async function register(){const _0x14c68d=_0x1f4606,_0x54bb4d=document[_0x14c68d(0x1b7)](_0x14c68d(0x2ca))[_0x14c68d(0x30b)],_0x628df9=document[_0x14c68d(0x1b7)](_0x14c68d(0x1dd))[_0x14c68d(0x30b)],_0x590246=new URLSearchParams(window[_0x14c68d(0x338)][_0x14c68d(0x24c)])[_0x14c68d(0x301)](_0x14c68d(0x2d4));if(!_0x54bb4d||!_0x628df9){showNotification('Veuillez\x20remplir\x20tous\x20les\x20champs.','error');return;}try{const _0x3b6b95=db[_0x14c68d(0x2d4)](_0x14c68d(0x2cc)+_0x54bb4d),_0x352a12=await _0x3b6b95['once'](_0x14c68d(0x30b));if(_0x352a12['exists']()){showNotification(_0x14c68d(0x207),_0x14c68d(0x32b));return;}const _0x170cc3=new Date(),_0x3c6436={'password':_0x628df9,'freeCredits':FREE_CREDITS_PER_DAY,'paidCredits':0x0,'subscription':null,'subscriptionEndDate':null,'lastFreeCreditsReset':_0x170cc3[_0x14c68d(0x1de)](),'referredBy':_0x590246||null,'firstPurchase':![],'totalReferrals':0x0,'activeReferrals':0x0};await _0x3b6b95['set'](_0x3c6436);if(_0x590246){const _0x47005b=await db['ref']('users')[_0x14c68d(0x26d)]('referralCode')[_0x14c68d(0x206)](_0x590246)[_0x14c68d(0x213)](_0x14c68d(0x30b)),_0x2a5f58=_0x47005b[_0x14c68d(0x2de)]();if(_0x2a5f58){const _0xb8010b=Object[_0x14c68d(0x325)](_0x2a5f58)[0x0];await db[_0x14c68d(0x2d4)](_0x14c68d(0x2cc)+_0xb8010b+_0x14c68d(0x29e)+_0x54bb4d)['set']({'date':_0x170cc3[_0x14c68d(0x1de)](),'isActive':![]});const _0x4fa4cb=db[_0x14c68d(0x2d4)](_0x14c68d(0x2cc)+_0xb8010b);await _0x4fa4cb['transaction'](_0x4568ae=>{const _0x4548af=_0x14c68d;return _0x4568ae&&(_0x4568ae[_0x4548af(0x1c0)]=(_0x4568ae['totalReferrals']||0x0)+0x1),_0x4568ae;}),currentUser&&currentUser[_0x14c68d(0x255)]===_0xb8010b&&(document['getElementById']('totalReferrals')[_0x14c68d(0x2b9)]=(parseInt(document[_0x14c68d(0x1b7)](_0x14c68d(0x1c0))['textContent'])||0x0)+0x1);}}currentUser={'username':_0x54bb4d,..._0x3c6436},updateUIForLoggedInUser(),showNotification(_0x14c68d(0x1ec),_0x14c68d(0x224)),closeModal(_0x14c68d(0x297)),storeLoginInfo(_0x54bb4d,_0x628df9);}catch(_0x3803d6){console[_0x14c68d(0x32b)](_0x14c68d(0x1e3),_0x3803d6),showNotification('Erreur\x20lors\x20de\x20l\x27inscription.\x20Veuillez\x20r√©essayer.',_0x14c68d(0x32b));}}async function login(_0x234eeb,_0x55c930){const _0x3b0226=_0x1f4606;(!_0x234eeb||!_0x55c930)&&(_0x234eeb=document[_0x3b0226(0x1b7)]('loginUsername')['value'],_0x55c930=document[_0x3b0226(0x1b7)](_0x3b0226(0x2a6))[_0x3b0226(0x30b)]);if(!_0x234eeb||!_0x55c930){showNotification('Veuillez\x20remplir\x20tous\x20les\x20champs.','error');return;}try{const _0x45cf49=db[_0x3b0226(0x2d4)](_0x3b0226(0x2cc)+_0x234eeb),_0x4cdbd0=await _0x45cf49[_0x3b0226(0x213)](_0x3b0226(0x30b));if(_0x4cdbd0[_0x3b0226(0x295)]()&&_0x4cdbd0[_0x3b0226(0x2de)]()['password']===_0x55c930){const _0x299c3a=_0x4cdbd0[_0x3b0226(0x2de)]();currentUser={'username':_0x234eeb,'freeCredits':_0x299c3a[_0x3b0226(0x2d8)],'paidCredits':_0x299c3a[_0x3b0226(0x261)],'subscription':_0x299c3a[_0x3b0226(0x1e8)],'subscriptionEndDate':_0x299c3a[_0x3b0226(0x26a)],'lastFreeCreditsReset':_0x299c3a[_0x3b0226(0x308)]},await resetFreeCreditsIfNeeded(),updateUIForLoggedInUser(),showNotification(_0x3b0226(0x230),'success'),closeModal('loginModal'),storeLoginInfo(_0x234eeb,_0x55c930);}else showNotification(_0x3b0226(0x2ad),_0x3b0226(0x32b));}catch(_0x355bf6){console[_0x3b0226(0x32b)](_0x3b0226(0x244),_0x355bf6),showNotification('Erreur\x20lors\x20de\x20la\x20connexion.\x20Veuillez\x20r√©essayer.',_0x3b0226(0x32b));}}function logout(){currentUser&&syncUserData(),currentUser=null,updateUIForLoggedOutUser(),showNotification('D√©connexion\x20r√©ussie.','success'),clearLoginInfo();}async function resetFreeCreditsIfNeeded(){const _0x175e4c=_0x1f4606,_0x19c49c=new Date(),_0x429475=new Date(currentUser[_0x175e4c(0x308)]);if(_0x19c49c[_0x175e4c(0x21b)]()-_0x429475[_0x175e4c(0x21b)]()>=0x18*0x3c*0x3c*0x3e8){const _0x10d2cd=currentUser[_0x175e4c(0x2d8)];currentUser[_0x175e4c(0x2d8)]=FREE_CREDITS_PER_DAY,currentUser['lastFreeCreditsReset']=_0x19c49c[_0x175e4c(0x1de)](),await syncUserData(),document[_0x175e4c(0x1b7)](_0x175e4c(0x2d8))[_0x175e4c(0x2b9)]=currentUser[_0x175e4c(0x2d8)];const _0x2861e3=currentUser[_0x175e4c(0x2d8)]-_0x10d2cd;_0x2861e3>0x0&&showNotification(_0x2861e3+'\x20cr√©dits\x20gratuits\x20ont\x20√©t√©\x20ajout√©s\x20√†\x20votre\x20compte\x20!',_0x175e4c(0x224));}}function checkModelAccess(){const _0x105f33=_0x1f4606,_0x3b4c24=document['getElementById']('modelSelect')[_0x105f33(0x30b)];![_0x105f33(0x296),'gemini-1.0-pro'][_0x105f33(0x2d5)](_0x3b4c24)&&!hasValidSubscription()&&currentUser[_0x105f33(0x261)]<=0x0&&(showPaymentNotification(_0x105f33(0x238)),document[_0x105f33(0x1b7)](_0x105f33(0x25c))[_0x105f33(0x30b)]='gemini-1.5-flash');}async function handleFileUpload(_0x3138ec){const _0x4a5190=_0x1f4606,_0x176dec=_0x3138ec[_0x4a5190(0x1bc)][_0x4a5190(0x2e5)];for(let _0x3510bb=0x0;_0x3510bb<_0x176dec[_0x4a5190(0x21a)];_0x3510bb++){const _0x559672=_0x176dec[_0x3510bb];if(_0x559672['type']===_0x4a5190(0x32d)||_0x559672['type']===_0x4a5190(0x33a))try{const _0x3750d2=await convertWordToText(_0x559672);pinnedFiles[_0x4a5190(0x21c)]({'name':_0x559672[_0x4a5190(0x2eb)]['replace'](/\.[^/.]+$/,'')+_0x4a5190(0x1cb),'type':_0x4a5190(0x2ea),'content':_0x3750d2}),updatePinnedFiles(),importedFilesCount++,await db[_0x4a5190(0x2d4)](_0x4a5190(0x2cc)+currentUser[_0x4a5190(0x255)])[_0x4a5190(0x30d)]({'importedFilesCount':importedFilesCount});}catch(_0x2c69ec){console[_0x4a5190(0x32b)](_0x4a5190(0x2c0),_0x2c69ec),showNotification('Erreur\x20lors\x20de\x20la\x20conversion\x20du\x20fichier\x20Word.',_0x4a5190(0x32b));}else(_0x559672['type'][_0x4a5190(0x20c)]('image/')||_0x559672[_0x4a5190(0x2e6)]===_0x4a5190(0x30e))&&(pinnedFiles[_0x4a5190(0x21c)](_0x559672),updatePinnedFiles());}}function convertWordToText(_0x4f5adb){return new Promise((_0x389d1b,_0x533c62)=>{const _0x1d1232=_0x2638,_0xe49879=new FileReader();_0xe49879[_0x1d1232(0x27a)]=function(_0x3f0447){const _0x3358d8=_0x1d1232,_0x37d10c=_0x3f0447['target']['result'];mammoth['extractRawText']({'arrayBuffer':_0x37d10c})[_0x3358d8(0x300)](function(_0x1bfe1c){const _0x59e3a8=_0x3358d8;_0x389d1b(_0x1bfe1c[_0x59e3a8(0x30b)]);})[_0x3358d8(0x303)](function(_0x18952e){_0x533c62(_0x18952e);});},_0xe49879[_0x1d1232(0x2fe)](_0x4f5adb);});}function updatePinnedFiles(){const _0x312453=_0x1f4606,_0x44975c=document[_0x312453(0x1b7)](_0x312453(0x1fe));_0x44975c[_0x312453(0x26e)]='',pinnedFiles[_0x312453(0x2f2)]((_0x2d9fe3,_0x3d8273)=>{const _0x570df7=_0x312453,_0x58b93e=document['createElement']('div');_0x58b93e['className']='pinned-item',_0x58b93e[_0x570df7(0x26e)]=_0x570df7(0x220)+(_0x2d9fe3[_0x570df7(0x2e6)][_0x570df7(0x20c)]('image/')?_0x570df7(0x333):'üìÑ')+_0x570df7(0x1ce)+_0x2d9fe3[_0x570df7(0x2eb)]+'\x22>'+_0x2d9fe3[_0x570df7(0x2eb)]+_0x570df7(0x2b6)+_0x3d8273+_0x570df7(0x32c),_0x44975c[_0x570df7(0x2a0)](_0x58b93e);});}function removePinnedFile(_0x42fa80){pinnedFiles['splice'](_0x42fa80,0x1),updatePinnedFiles();}function createPinnedFilesElement(_0x5bb3ff){const _0x4122c4=_0x1f4606,_0x3aa56b=document[_0x4122c4(0x2ba)](_0x4122c4(0x2c5));return _0x3aa56b[_0x4122c4(0x257)]=_0x4122c4(0x309),_0x5bb3ff[_0x4122c4(0x2f2)](_0x4bf76c=>{const _0x4c70d8=_0x4122c4,_0x24fb5f=document['createElement'](_0x4c70d8(0x2c5));_0x24fb5f[_0x4c70d8(0x257)]='pinned-file';if(_0x4bf76c[_0x4c70d8(0x2e6)][_0x4c70d8(0x20c)](_0x4c70d8(0x323))){const _0x41ea42=document[_0x4c70d8(0x2ba)]('img');_0x41ea42[_0x4c70d8(0x2a8)]=URL[_0x4c70d8(0x1c5)](_0x4bf76c),_0x41ea42[_0x4c70d8(0x326)]=_0x4bf76c[_0x4c70d8(0x2eb)],_0x41ea42[_0x4c70d8(0x257)]=_0x4c70d8(0x2c3),_0x24fb5f['appendChild'](_0x41ea42);}else{const _0x13b4b4=document[_0x4c70d8(0x2ba)]('span');_0x13b4b4[_0x4c70d8(0x257)]=_0x4c70d8(0x248),_0x13b4b4['textContent']=_0x4bf76c[_0x4c70d8(0x2e6)][_0x4c70d8(0x20c)]('application/pdf')?'üìÑ':'üìé',_0x24fb5f[_0x4c70d8(0x2a0)](_0x13b4b4);}const _0x2047bc=document[_0x4c70d8(0x2ba)](_0x4c70d8(0x22d));_0x2047bc['className']=_0x4c70d8(0x1dc),_0x2047bc[_0x4c70d8(0x2b9)]=_0x4bf76c[_0x4c70d8(0x2eb)],_0x24fb5f[_0x4c70d8(0x2a0)](_0x2047bc),_0x3aa56b[_0x4c70d8(0x2a0)](_0x24fb5f);}),_0x3aa56b;}function createPinnedResponsesElement(_0x58aaca){const _0x1b0689=_0x1f4606,_0xebf7fc=document['createElement'](_0x1b0689(0x2c5));return _0xebf7fc['className']=_0x1b0689(0x23f),_0x58aaca[_0x1b0689(0x2f2)](_0x186e5e=>{const _0x13b20e=_0x1b0689,_0x1c9bef=document['createElement'](_0x13b20e(0x2c5));_0x1c9bef['className']=_0x13b20e(0x1ee);const _0x1ea7d7=document[_0x13b20e(0x2ba)](_0x13b20e(0x22d));_0x1ea7d7['className']='response-icon',_0x1ea7d7[_0x13b20e(0x2b9)]='üí¨';const _0x2b4e74=document['createElement']('span');_0x2b4e74[_0x13b20e(0x257)]=_0x13b20e(0x1c6),_0x2b4e74[_0x13b20e(0x2b9)]=_0x186e5e[_0x13b20e(0x2f7)],_0x1c9bef[_0x13b20e(0x2a0)](_0x1ea7d7),_0x1c9bef[_0x13b20e(0x2a0)](_0x2b4e74),_0xebf7fc[_0x13b20e(0x2a0)](_0x1c9bef);}),_0xebf7fc;}function createPinnedPromptElement(_0x2adf74){const _0x7996bd=_0x1f4606,_0x4c6d16=document[_0x7996bd(0x2ba)]('div');_0x4c6d16[_0x7996bd(0x257)]=_0x7996bd(0x1f3);const _0x4711d4=document['createElement'](_0x7996bd(0x2c5));_0x4711d4[_0x7996bd(0x257)]='pinned-prompt';const _0x5d5320=document['createElement'](_0x7996bd(0x22d));_0x5d5320[_0x7996bd(0x257)]=_0x7996bd(0x226),_0x5d5320[_0x7996bd(0x2b9)]='ü§ñ';const _0x549534=document[_0x7996bd(0x2ba)]('span');return _0x549534[_0x7996bd(0x257)]=_0x7996bd(0x2b5),_0x549534[_0x7996bd(0x2b9)]=_0x2adf74[_0x7996bd(0x237)],_0x4711d4['appendChild'](_0x5d5320),_0x4711d4['appendChild'](_0x549534),_0x4c6d16[_0x7996bd(0x2a0)](_0x4711d4),_0x4c6d16;}async function sendMessage(){const _0x4e47ac=_0x1f4606;if(!currentUser){showNotification(_0x4e47ac(0x1f8),'error');return;}const _0x46eed7=document[_0x4e47ac(0x1b7)](_0x4e47ac(0x2bb))[_0x4e47ac(0x30b)][_0x4e47ac(0x29f)](),_0x3fd438=document[_0x4e47ac(0x1b7)](_0x4e47ac(0x25c))[_0x4e47ac(0x30b)];if(!_0x46eed7&&pinnedFiles[_0x4e47ac(0x21a)]===0x0&&pinnedResponses[_0x4e47ac(0x21a)]===0x0&&!pinnedPrompt){showNotification(_0x4e47ac(0x1d1),_0x4e47ac(0x32b));return;}let _0x4dc4dc=0x1;_0x4dc4dc+=pinnedFiles[_0x4e47ac(0x29d)](_0x90021b=>_0x90021b[_0x4e47ac(0x2e6)]!=='text/plain')[_0x4e47ac(0x21a)],_0x4dc4dc+=pinnedResponses[_0x4e47ac(0x21a)];if(!hasValidSubscription()){if(_0x3fd438===_0x4e47ac(0x296)){if(currentUser[_0x4e47ac(0x261)]>=_0x4dc4dc)showNotification(_0x4e47ac(0x282),_0x4e47ac(0x249));else{if(currentUser[_0x4e47ac(0x2d8)]>=_0x4dc4dc)showNotification(_0x4e47ac(0x31e),_0x4e47ac(0x249));else{showPaymentNotification(_0x4e47ac(0x2d3));return;}}}else{if(![_0x4e47ac(0x234)][_0x4e47ac(0x2d5)](_0x3fd438)){if(currentUser['paidCredits']<_0x4dc4dc){showPaymentNotification('Vous\x20n\x27avez\x20pas\x20assez\x20de\x20cr√©dits\x20payants\x20pour\x20ce\x20mod√®le\x20avanc√©.');return;}}else{if(currentUser[_0x4e47ac(0x2d8)]<_0x4dc4dc&&currentUser[_0x4e47ac(0x261)]<_0x4dc4dc){showPaymentNotification(_0x4e47ac(0x283));return;}}}}let _0x2c2cfa=_0x46eed7,_0xda3a1a=_0x46eed7;const _0x243315=[...pinnedFiles],_0x2aa2b2=[...pinnedResponses],_0x3db477=pinnedPrompt;pinnedFiles=[],pinnedResponses=[],pinnedPrompt=null,updatePinnedItems();const _0xe0e16=document[_0x4e47ac(0x2ba)](_0x4e47ac(0x2c5));_0xe0e16['className']='message\x20user-message';if(_0x243315[_0x4e47ac(0x21a)]>0x0){const _0x1163a9=createPinnedFilesElement(_0x243315);_0xe0e16[_0x4e47ac(0x2a0)](_0x1163a9),_0xda3a1a+=_0x4e47ac(0x2bd),_0x243315[_0x4e47ac(0x2f2)](_0x77c737=>{_0xda3a1a+='-\x20'+_0x77c737['name']+'\x20('+_0x77c737['type']+')\x0a';});}if(_0x2aa2b2['length']>0x0){const _0x3332dd=createPinnedResponsesElement(_0x2aa2b2);_0xe0e16[_0x4e47ac(0x2a0)](_0x3332dd),_0xda3a1a+=_0x4e47ac(0x25b),_0x2aa2b2[_0x4e47ac(0x2f2)](_0x549e26=>{const _0x53251f=_0x4e47ac;_0xda3a1a+='-\x20'+_0x549e26[_0x53251f(0x2f7)]+'\x0a';});}if(_0x3db477){const _0x410c41=createPinnedPromptElement(_0x3db477);_0xe0e16['appendChild'](_0x410c41),_0xda3a1a=_0x3db477[_0x4e47ac(0x1ba)]+'\x0a\x0a'+_0xda3a1a;}const _0x3502fd=document[_0x4e47ac(0x2ba)]('p');_0x3502fd[_0x4e47ac(0x2b9)]=_0x2c2cfa,_0xe0e16[_0x4e47ac(0x2a0)](_0x3502fd);const _0x3d453d=document[_0x4e47ac(0x1b7)](_0x4e47ac(0x2b2));_0x3d453d[_0x4e47ac(0x2a0)](_0xe0e16),_0x3d453d[_0x4e47ac(0x2d9)]=_0x3d453d[_0x4e47ac(0x2d2)],document[_0x4e47ac(0x1b7)](_0x4e47ac(0x2bb))['value']='',resetTextareaHeight();const _0x346b6d=document[_0x4e47ac(0x1d2)]('.input-actions\x20button:last-child');_0x346b6d[_0x4e47ac(0x28c)][_0x4e47ac(0x2e2)]('loading'),_0x346b6d[_0x4e47ac(0x33e)]=!![];try{const _0x23fd0f=[];let _0x2ebfc3='';const _0x589783=currentConversation['slice'](-0x5);_0x589783['forEach'](_0x3774b9=>{const _0x5ed4f1=_0x4e47ac;_0x3774b9['sender']===_0x5ed4f1(0x1d6)?_0x2ebfc3+=_0x5ed4f1(0x202)+_0x3774b9[_0x5ed4f1(0x1ba)]+'\x0a':_0x2ebfc3+='model:\x20'+_0x3774b9[_0x5ed4f1(0x1ba)]+'\x0a';}),_0xda3a1a=_0x2ebfc3+'\x0a'+_0xda3a1a,_0x23fd0f[_0x4e47ac(0x21c)]({'text':_0xda3a1a});for(const _0x2d1bba of _0x243315){if(_0x2d1bba[_0x4e47ac(0x2e6)]==='text/plain')_0x23fd0f[_0x4e47ac(0x21c)]({'text':'Analyse\x20ce\x20fichier\x20texte:\x20'+_0x2d1bba[_0x4e47ac(0x1ba)]});else{const _0x4d59fe=await readFileAsBase64(_0x2d1bba);_0x23fd0f['push']({'inlineData':{'data':_0x4d59fe,'mimeType':_0x2d1bba[_0x4e47ac(0x2e6)]}}),_0x23fd0f[_0x4e47ac(0x21c)]({'text':_0x4e47ac(0x2fb)+_0x2d1bba[_0x4e47ac(0x2eb)]+'\x20('+_0x2d1bba['type']+_0x4e47ac(0x285)});}}model=genAI[_0x4e47ac(0x320)]({'model':_0x3fd438,'systemInstruction':SYSTEM_INSTRUCTION});const _0x5a382d=await model[_0x4e47ac(0x227)](_0x23fd0f),_0x3d7c07=await _0x5a382d[_0x4e47ac(0x2a3)];let _0x43a6a9=_0x3d7c07[_0x4e47ac(0x21d)](),_0xf4c0ee;if(_0x3fd438===_0x4e47ac(0x234)||_0x3fd438==='gemini-1.5-flash'&&currentUser[_0x4e47ac(0x261)]<_0x4dc4dc){const _0x4efa15=_0x43a6a9['split'](/\s+/);_0x4efa15[_0x4e47ac(0x21a)]>FREE_MODEL_MAX_RESPONSE?(_0x43a6a9=_0x4efa15[_0x4e47ac(0x307)](0x0,FREE_MODEL_MAX_RESPONSE)[_0x4e47ac(0x2e0)]('\x20')+_0x4e47ac(0x225),showNotification('La\x20r√©ponse\x20a\x20√©t√©\x20tronqu√©e\x20√†\x20'+FREE_MODEL_MAX_RESPONSE+'\x20mots.','info'),_0xf4c0ee=addMessageToChat('ai',_0x43a6a9),showUpgradeButton(_0xf4c0ee)):_0xf4c0ee=addMessageToChat('ai',_0x43a6a9);}else _0xf4c0ee=addMessageToChat('ai',_0x43a6a9);currentConversation['push']({'sender':_0x4e47ac(0x1d6),'content':_0x46eed7}),currentConversation[_0x4e47ac(0x21c)]({'sender':'ai','content':_0x43a6a9}),await updateCredits(_0x3fd438,_0x4dc4dc),saveConversation();}catch(_0x2e78d8){console[_0x4e47ac(0x32b)]('Erreur\x20lors\x20de\x20la\x20g√©n√©ration\x20de\x20la\x20r√©ponse:',_0x2e78d8),showNotification('Erreur\x20:\x20'+_0x2e78d8['message']+_0x4e47ac(0x1e5),_0x4e47ac(0x32b));}finally{_0x346b6d[_0x4e47ac(0x28c)][_0x4e47ac(0x208)](_0x4e47ac(0x30c)),_0x346b6d[_0x4e47ac(0x33e)]=![];}}function pinResponse(_0xf4b5b8){const _0x48b933=_0x1f4606,_0x556e68=_0xf4b5b8[_0x48b933(0x1d2)](_0x48b933(0x21f))['textContent'],_0xcdbeb5=_0x556e68[_0x48b933(0x21a)]>0x32?_0x556e68[_0x48b933(0x1d3)](0x0,0x32)+_0x48b933(0x2cb):_0x556e68;pinnedResponses['push']({'text':_0x556e68,'displayText':_0xcdbeb5}),updatePinnedItems();}function _0x2638(_0x359cdd,_0x21b646){const _0x1fd11b=_0x1fd1();return _0x2638=function(_0x26384a,_0x531f7d){_0x26384a=_0x26384a-0x1b7;let _0x2ba40a=_0x1fd11b[_0x26384a];return _0x2ba40a;},_0x2638(_0x359cdd,_0x21b646);}function updatePinnedItems(){const _0xb8b6fa=_0x1f4606,_0x23c5c6=document[_0xb8b6fa(0x1b7)]('pinnedItems');_0x23c5c6[_0xb8b6fa(0x26e)]='',pinnedFiles[_0xb8b6fa(0x2f2)]((_0x3a7f34,_0x3cfb5a)=>{const _0x28e859=_0xb8b6fa,_0xcead17=document[_0x28e859(0x2ba)](_0x28e859(0x2c5));_0xcead17[_0x28e859(0x257)]=_0x28e859(0x1ed),_0xcead17[_0x28e859(0x217)](_0x28e859(0x311),'file'),_0xcead17[_0x28e859(0x26e)]=_0x28e859(0x220)+(_0x3a7f34['type'][_0x28e859(0x20c)]('image/')?_0x28e859(0x333):'üìÑ')+_0x28e859(0x1ce)+_0x3a7f34[_0x28e859(0x2eb)]+'\x22>'+_0x3a7f34[_0x28e859(0x2eb)]+_0x28e859(0x292)+_0x3cfb5a+_0x28e859(0x32c),_0x23c5c6[_0x28e859(0x2a0)](_0xcead17);}),pinnedResponses[_0xb8b6fa(0x2f2)]((_0x44b954,_0x203e5c)=>{const _0x1bf6b6=_0xb8b6fa,_0x56c85f=document[_0x1bf6b6(0x2ba)](_0x1bf6b6(0x2c5));_0x56c85f[_0x1bf6b6(0x257)]=_0x1bf6b6(0x1ed),_0x56c85f[_0x1bf6b6(0x217)](_0x1bf6b6(0x311),_0x1bf6b6(0x2a3)),_0x56c85f[_0x1bf6b6(0x26e)]=_0x1bf6b6(0x27c)+_0x44b954['text']+'\x22>'+_0x44b954['displayText']+_0x1bf6b6(0x25d)+_0x203e5c+_0x1bf6b6(0x32c),_0x23c5c6['appendChild'](_0x56c85f);});if(pinnedPrompt){const _0x1fadc3=document['createElement'](_0xb8b6fa(0x2c5));_0x1fadc3[_0xb8b6fa(0x257)]=_0xb8b6fa(0x1ed),_0x1fadc3[_0xb8b6fa(0x217)]('data-type',_0xb8b6fa(0x306)),_0x1fadc3[_0xb8b6fa(0x26e)]=_0xb8b6fa(0x280)+pinnedPrompt[_0xb8b6fa(0x237)]+'\x22>'+pinnedPrompt[_0xb8b6fa(0x237)]+_0xb8b6fa(0x30f),_0x23c5c6[_0xb8b6fa(0x2a0)](_0x1fadc3);}}function removePinnedItem(_0x5a80e9,_0x1cb871){const _0x202e0d=_0x1f4606;if(_0x5a80e9===_0x202e0d(0x27f))pinnedFiles[_0x202e0d(0x23c)](_0x1cb871,0x1);else{if(_0x5a80e9===_0x202e0d(0x2a3))pinnedResponses[_0x202e0d(0x23c)](_0x1cb871,0x1);else _0x5a80e9==='prompt'&&(pinnedPrompt=null);}updatePinnedItems();}function replyToMessage(_0x2988a2){const _0x40dad0=_0x1f4606,_0x29fad8=_0x2988a2[_0x40dad0(0x1d2)]('div:first-child')[_0x40dad0(0x2b9)],_0x511899=document[_0x40dad0(0x1b7)](_0x40dad0(0x2bb));_0x511899[_0x40dad0(0x30b)]='>\x20'+_0x29fad8+'\x0a\x0a',_0x511899['focus'](),_0x511899[_0x40dad0(0x329)](_0x511899[_0x40dad0(0x30b)][_0x40dad0(0x21a)],_0x511899[_0x40dad0(0x30b)][_0x40dad0(0x21a)]);}function readFileAsBase64(_0x59db3d){return new Promise((_0x30b916,_0x10fb03)=>{const _0x205078=_0x2638,_0x4476ef=new FileReader();_0x4476ef[_0x205078(0x27a)]=()=>_0x30b916(_0x4476ef[_0x205078(0x1e9)][_0x205078(0x27b)](',')[0x1]),_0x4476ef[_0x205078(0x1d0)]=_0x10fb03,_0x4476ef[_0x205078(0x2ee)](_0x59db3d);});}function hasEnoughCredits(_0x1de874,_0x40ac84){const _0x4ec7d4=_0x1f4606,_0x3993eb=_0x40ac84>0x0?_0x40ac84:0x1;return _0x1de874===_0x4ec7d4(0x296)||_0x1de874===_0x4ec7d4(0x234)?currentUser[_0x4ec7d4(0x2d8)]>=_0x3993eb||currentUser['paidCredits']>=_0x3993eb||hasValidSubscription():currentUser['paidCredits']>=_0x3993eb||hasValidSubscription();}async function updateCredits(_0x549644,_0x395053){const _0x463a39=_0x1f4606;if(hasValidSubscription())return;const _0x3a199f=db[_0x463a39(0x2d4)](_0x463a39(0x2cc)+currentUser[_0x463a39(0x255)]);await _0x3a199f['transaction'](_0x12c948=>{const _0x123082=_0x463a39;if(_0x12c948){if(_0x549644===_0x123082(0x296))_0x12c948[_0x123082(0x261)]>=_0x395053?_0x12c948[_0x123082(0x261)]-=_0x395053:_0x12c948[_0x123082(0x2d8)]-=_0x395053;else{if(_0x549644===_0x123082(0x234)){if(_0x12c948[_0x123082(0x2d8)]>=_0x395053)_0x12c948[_0x123082(0x2d8)]-=_0x395053;else{const _0x509e9e=_0x395053-_0x12c948[_0x123082(0x2d8)];_0x12c948[_0x123082(0x2d8)]=0x0,_0x12c948[_0x123082(0x261)]=Math[_0x123082(0x221)](0x0,_0x12c948[_0x123082(0x261)]-_0x509e9e);}}else _0x12c948[_0x123082(0x261)]=Math[_0x123082(0x221)](0x0,_0x12c948['paidCredits']-_0x395053);}}return _0x12c948;}),currentUser[_0x463a39(0x2d8)]=(await _0x3a199f[_0x463a39(0x1da)]('freeCredits')[_0x463a39(0x213)]('value'))[_0x463a39(0x2de)](),currentUser[_0x463a39(0x261)]=(await _0x3a199f['child'](_0x463a39(0x261))[_0x463a39(0x213)]('value'))[_0x463a39(0x2de)](),document[_0x463a39(0x1b7)](_0x463a39(0x2d8))[_0x463a39(0x2b9)]=currentUser[_0x463a39(0x2d8)],document[_0x463a39(0x1b7)](_0x463a39(0x261))[_0x463a39(0x2b9)]=currentUser[_0x463a39(0x261)];}async function addCreditsToUser(_0x2d3769){const _0x5c5868=_0x1f4606,_0x2f8fd6=db[_0x5c5868(0x2d4)](_0x5c5868(0x2cc)+currentUser[_0x5c5868(0x255)]);await _0x2f8fd6['transaction'](_0x5960ca=>{const _0x20d406=_0x5c5868;return _0x5960ca&&(_0x5960ca[_0x20d406(0x261)]+=_0x2d3769),_0x5960ca;}),currentUser['paidCredits']=(await _0x2f8fd6[_0x5c5868(0x1da)](_0x5c5868(0x261))['once'](_0x5c5868(0x30b)))[_0x5c5868(0x2de)](),document[_0x5c5868(0x1b7)](_0x5c5868(0x261))[_0x5c5868(0x2b9)]=currentUser[_0x5c5868(0x261)];}function addMessageToChat(_0x3946ba,_0x55595f){const _0x4f5449=_0x1f4606,_0x394abf=document[_0x4f5449(0x1b7)](_0x4f5449(0x2b2)),_0x2ab96a=document[_0x4f5449(0x2ba)](_0x4f5449(0x2c5));_0x2ab96a[_0x4f5449(0x28c)][_0x4f5449(0x2e2)](_0x4f5449(0x2c9),_0x3946ba===_0x4f5449(0x1d6)?_0x4f5449(0x28f):_0x4f5449(0x281));if(_0x3946ba==='ai'){_0x55595f=_0x55595f[_0x4f5449(0x1c1)](/^\*\*/gm,'\x0a'),_0x55595f=_0x55595f[_0x4f5449(0x1c1)](/\*\*/g,'');const _0x11cac5=document[_0x4f5449(0x2ba)](_0x4f5449(0x2c5));_0x2ab96a[_0x4f5449(0x2a0)](_0x11cac5),animateResponse(_0x11cac5,_0x55595f);const _0x1a77bd=document[_0x4f5449(0x2ba)](_0x4f5449(0x2c5));_0x1a77bd[_0x4f5449(0x28c)][_0x4f5449(0x2e2)](_0x4f5449(0x205)),_0x1a77bd[_0x4f5449(0x26e)]=_0x4f5449(0x2e4),_0x2ab96a[_0x4f5449(0x2a0)](_0x1a77bd);}else _0x2ab96a[_0x4f5449(0x2b9)]=_0x55595f;return _0x394abf['appendChild'](_0x2ab96a),_0x394abf[_0x4f5449(0x2d9)]=_0x394abf['scrollHeight'],currentConversation['push']({'sender':_0x3946ba,'content':_0x55595f}),_0x2ab96a;}function copyResponse(_0x4a17ba){const _0x195191=_0x1f4606,_0x24986f=_0x4a17ba[_0x195191(0x1d2)]('div:first-child')[_0x195191(0x2b9)];navigator[_0x195191(0x250)][_0x195191(0x288)](_0x24986f)[_0x195191(0x300)](()=>{const _0x32d9fa=_0x195191;showNotification(_0x32d9fa(0x340),_0x32d9fa(0x224));});}async function exportResponse(_0x1ec60a,_0x568467){const _0x496714=_0x1f4606,_0xc0a4e0=_0x1ec60a[_0x496714(0x1d2)](_0x496714(0x21f))[_0x496714(0x2b9)];if(_0x568467===_0x496714(0x337)){const _0x5a56d1=await generateWordDoc(_0xc0a4e0);saveAs(_0x5a56d1,_0x496714(0x1cd));}else{if(_0x568467===_0x496714(0x1f6)){const _0x5f16ed=await generatePDF(_0xc0a4e0);saveAs(_0x5f16ed,_0x496714(0x29a));}}showNotification(_0x496714(0x1f9)+_0x568467[_0x496714(0x32a)]()+_0x496714(0x302),'success');}async function generateWordDoc(_0x23eb17){const _0x4add14=_0x1f4606,_0x39623b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<?xml\x20version=\x221.0\x22\x20encoding=\x22UTF-8\x22\x20standalone=\x22yes\x22?>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<w:document\x20xmlns:w=\x22http://schemas.openxmlformats.org/wordprocessingml/2006/main\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:r>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<w:t>'+_0x23eb17+_0x4add14(0x252),_0x33c6ca=new PizZip();_0x33c6ca['file'](_0x4add14(0x212),_0x39623b);const _0x400f25=await _0x33c6ca[_0x4add14(0x2ce)]({'type':_0x4add14(0x335),'mimeType':_0x4add14(0x32d)});return _0x400f25;}function generatePDF(_0x141a3f){const _0x15392f=_0x1f4606,{jsPDF:_0x6d531f}=window[_0x15392f(0x2ac)],_0x5b2fa2=new _0x6d531f();_0x5b2fa2['setFontSize'](0x12),_0x5b2fa2['text']('',0x14,0x14),_0x5b2fa2['setFontSize'](0xc);const _0x3941d7=_0x5b2fa2[_0x15392f(0x201)](_0x141a3f,0xaa);let _0x3a8fd3=0x1e;const _0x50c9ca=_0x5b2fa2['internal'][_0x15392f(0x1be)][_0x15392f(0x275)];for(let _0x35bf50=0x0;_0x35bf50<_0x3941d7[_0x15392f(0x21a)];_0x35bf50++){_0x3a8fd3>_0x50c9ca-0x14&&(_0x5b2fa2['addPage'](),_0x3a8fd3=0x14),_0x5b2fa2[_0x15392f(0x21d)](_0x3941d7[_0x35bf50],0x14,_0x3a8fd3),_0x3a8fd3+=0x7;}return _0x5b2fa2[_0x15392f(0x2b3)](_0x15392f(0x335));}function shareResponse(_0xc603c9){const _0x4ddce1=_0x1f4606,_0x7fc4eb=_0xc603c9[_0x4ddce1(0x1d2)](_0x4ddce1(0x21f))[_0x4ddce1(0x2b9)];navigator[_0x4ddce1(0x223)]?navigator[_0x4ddce1(0x223)]({'title':'','text':_0x7fc4eb})[_0x4ddce1(0x300)](()=>{const _0x324fc7=_0x4ddce1;showNotification(_0x324fc7(0x20b),_0x324fc7(0x224));})['catch'](_0x3033c8=>{const _0x4ac46d=_0x4ddce1;console[_0x4ac46d(0x32b)](_0x4ac46d(0x266),_0x3033c8),showNotification(_0x4ac46d(0x2dd),_0x4ac46d(0x32b));}):showNotification('Le\x20partage\x20n\x27est\x20pas\x20pris\x20en\x20charge\x20sur\x20votre\x20appareil',_0x4ddce1(0x32b));}function hasValidSubscription(){const _0x5aa51c=_0x1f4606;if(!currentUser[_0x5aa51c(0x1e8)]||!currentUser[_0x5aa51c(0x26a)])return![];return new Date()<new Date(currentUser['subscriptionEndDate']);}function buySubscription(){const _0x1e7ab4=_0x1f4606,_0x3fed7a=document[_0x1e7ab4(0x1b7)](_0x1e7ab4(0x21e))[_0x1e7ab4(0x30b)];if(!_0x3fed7a){showNotification(_0x1e7ab4(0x1bf),_0x1e7ab4(0x32b));return;}const _0x40ad39={'24h':0x1f4,'3d':0x4b0,'7d':0x960,'30d':0x1f40,'3m':0x4e20},_0x24db40=_0x40ad39[_0x3fed7a];var _0x5cbd6c=FedaPay[_0x1e7ab4(0x32f)]({'public_key':_0x1e7ab4(0x2f3),'transaction':{'amount':_0x24db40,'description':'Achat\x20d\x27un\x20forfait\x20'+_0x3fed7a+_0x1e7ab4(0x209)},'customer':{'email':_0x1e7ab4(0x1e0)},'onComplete':async function(_0x201aba){const _0x278ec0=_0x1e7ab4;if(_0x201aba[_0x278ec0(0x1d7)]===FedaPay[_0x278ec0(0x2df)]){const _0x3853a4={'id':_0x201aba['id'],'description':_0x278ec0(0x264)+_0x3fed7a+'\x20pour\x20Eduque\x20moi','amount':_0x24db40};await activateSubscription(_0x3fed7a),showInvoiceDetails(_0x3853a4),showNotification('Forfait\x20'+_0x3fed7a+'\x20activ√©\x20avec\x20succ√®s\x20!',_0x278ec0(0x224)),await checkFirstPurchaseAndRewardReferrer(currentUser['username'],_0x24db40);}else showNotification(_0x278ec0(0x24a),'error');}});_0x5cbd6c['open']();}async function activateSubscription(_0x4e8f61){const _0x1951db=_0x1f4606,_0x3e0a24={'24h':0x1,'3d':0x3,'7d':0x7,'30d':0x1e,'3m':0x5a},_0x5375c9=_0x3e0a24[_0x4e8f61],_0x2ad00d=new Date();_0x2ad00d['setDate'](_0x2ad00d[_0x1951db(0x2aa)]()+_0x5375c9),currentUser[_0x1951db(0x1e8)]=_0x4e8f61,currentUser['subscriptionEndDate']=_0x2ad00d[_0x1951db(0x1de)](),await syncUserData(),document[_0x1951db(0x1b7)]('subscription')[_0x1951db(0x2b9)]=_0x4e8f61;}function buyCredits(){const _0x4de17d=_0x1f4606,_0x3b240d=document[_0x4de17d(0x1b7)]('creditSelect')[_0x4de17d(0x30b)];if(!_0x3b240d){showNotification(_0x4de17d(0x289),'error');return;}const _0x52da1c={'10':0xc8,'100':0x3e8,'500':0x1194,'1000':0x1f40},_0x1ae77c=_0x52da1c[_0x3b240d];var _0x23de8c=FedaPay[_0x4de17d(0x32f)]({'public_key':_0x4de17d(0x2f3),'transaction':{'amount':_0x1ae77c,'description':_0x4de17d(0x22f)+_0x3b240d+'\x20cr√©dits\x20pour\x20Eduque\x20moi'},'customer':{'email':_0x4de17d(0x1e0)},'onComplete':async function(_0x2efd00){const _0x4b6a39=_0x4de17d;if(_0x2efd00['reason']===FedaPay[_0x4b6a39(0x2df)]){const _0x52e09f={'id':_0x2efd00['id'],'description':_0x4b6a39(0x22f)+_0x3b240d+_0x4b6a39(0x256),'amount':_0x1ae77c};await addCreditsToUser(parseInt(_0x3b240d)),showInvoiceDetails(_0x52e09f),showNotification(_0x3b240d+_0x4b6a39(0x1fc),'success'),await checkFirstPurchaseAndRewardReferrer(currentUser[_0x4b6a39(0x255)],_0x1ae77c);}else showNotification(_0x4b6a39(0x24a),'error');}});_0x23de8c[_0x4de17d(0x268)]();}async function checkFirstPurchaseAndRewardReferrer(_0x53026c,_0x52c4d7){const _0x5ea11f=_0x1f4606,_0x113d02=db['ref']('users/'+_0x53026c),_0xa71f5f=await _0x113d02[_0x5ea11f(0x213)]('value'),_0x28a193=_0xa71f5f['val']();if(_0x28a193&&!_0x28a193[_0x5ea11f(0x210)]){await _0x113d02[_0x5ea11f(0x30d)]({'firstPurchase':!![]});if(_0x28a193['referredBy']){const _0x275ba7=await db[_0x5ea11f(0x2d4)](_0x5ea11f(0x239))[_0x5ea11f(0x26d)](_0x5ea11f(0x22b))[_0x5ea11f(0x206)](_0x28a193['referredBy'])[_0x5ea11f(0x213)]('value'),_0x56ed1c=_0x275ba7['val']();if(_0x56ed1c){const _0x15f42a=Object[_0x5ea11f(0x325)](_0x56ed1c)[0x0],_0x254dea=db[_0x5ea11f(0x2d4)](_0x5ea11f(0x2cc)+_0x15f42a);await _0x254dea['transaction'](_0x368918=>{const _0x5d16f2=_0x5ea11f;return _0x368918&&(_0x368918[_0x5d16f2(0x261)]=(_0x368918['paidCredits']||0x0)+0xa,_0x368918['referrals']&&_0x368918[_0x5d16f2(0x1c3)][_0x53026c]&&(_0x368918['referrals'][_0x53026c][_0x5d16f2(0x25f)]=!![])),_0x368918;}),await updateReferralStats(_0x15f42a),showNotification(_0x5ea11f(0x2fd)+_0x53026c+_0x5ea11f(0x1d9),_0x5ea11f(0x224));}}}}function getShareMessage(_0x3ec80f){const _0x2724a1=_0x1f4606;return encodeURIComponent(_0x2724a1(0x2da)+_0x3ec80f+_0x2724a1(0x31b));}function shareOnFacebook(){const _0x126f56=_0x1f4606,_0x507eb0=document[_0x126f56(0x1b7)](_0x126f56(0x2f5))['value'],_0x45dd58=getShareMessage(_0x507eb0);window[_0x126f56(0x268)](_0x126f56(0x293)+_0x507eb0+'&quote='+_0x45dd58,'_blank');}function shareOnTwitter(){const _0x4964cf=_0x1f4606,_0x4f082e=document['getElementById'](_0x4964cf(0x2f5))['value'],_0x1a7d90=getShareMessage(_0x4f082e);window[_0x4964cf(0x268)]('https://twitter.com/intent/tweet?url='+_0x4f082e+_0x4964cf(0x1c4)+_0x1a7d90,_0x4964cf(0x23b));}function shareOnLinkedIn(){const _0x165319=_0x1f4606,_0x27cbff=document[_0x165319(0x1b7)]('referralLink')[_0x165319(0x30b)],_0x4938ed=getShareMessage(_0x27cbff);window[_0x165319(0x268)](_0x165319(0x1e6)+_0x27cbff+'&title=Boostez\x20votre\x20apprentissage\x20avec\x20Eduque\x20moi&summary='+_0x4938ed,_0x165319(0x23b));}function shareOnWhatsApp(){const _0x5ba031=_0x1f4606,_0x4230a5=document[_0x5ba031(0x1b7)](_0x5ba031(0x2f5))[_0x5ba031(0x30b)],_0x32f4a2=getShareMessage(_0x4230a5);window[_0x5ba031(0x268)](_0x5ba031(0x2a4)+_0x32f4a2,'_blank');}function copyReferralLink(){const _0x34febd=_0x1f4606,_0x55ea63=document[_0x34febd(0x1b7)]('referralLink');_0x55ea63[_0x34febd(0x274)](),document['execCommand']('copy'),showNotification(_0x34febd(0x240),_0x34febd(0x224));}function showNotification(_0x39f71a,_0x303af0){const _0x110df5=_0x1f4606,_0x45085a=document[_0x110df5(0x2ba)](_0x110df5(0x2c5));_0x45085a[_0x110df5(0x2b9)]=_0x39f71a,_0x45085a[_0x110df5(0x257)]=_0x110df5(0x312)+_0x303af0,document[_0x110df5(0x2c8)]['appendChild'](_0x45085a),setTimeout(()=>{const _0x4746a1=_0x110df5;_0x45085a[_0x4746a1(0x28c)][_0x4746a1(0x2e2)]('show'),setTimeout(()=>{const _0x1c63c8=_0x4746a1;_0x45085a['classList'][_0x1c63c8(0x208)]('show'),setTimeout(()=>{const _0x41b06c=_0x1c63c8;_0x45085a[_0x41b06c(0x208)]();},0x12c);},0xbb8);},0x64);}function showPaymentNotification(_0xea749d){const _0x1134a2=_0x1f4606,_0x3c8a26=document[_0x1134a2(0x2ba)](_0x1134a2(0x2c5));_0x3c8a26[_0x1134a2(0x257)]=_0x1134a2(0x28d),_0x3c8a26[_0x1134a2(0x26e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0xea749d+_0x1134a2(0x1fa),document['body'][_0x1134a2(0x2a0)](_0x3c8a26),setTimeout(()=>{const _0x4336d0=_0x1134a2;_0x3c8a26[_0x4336d0(0x28c)][_0x4336d0(0x2e2)](_0x4336d0(0x241)),setTimeout(()=>{const _0x12ff56=_0x4336d0;_0x3c8a26[_0x12ff56(0x28c)]['remove']('show'),setTimeout(()=>{_0x3c8a26['remove']();},0x12c);},0x2710);},0x64);}async function showPaymentNotificationWithFreeOption(_0x52cdfc){return new Promise(_0x5dffea=>{const _0x266176=_0x2638,_0x2803db=document[_0x266176(0x2ba)](_0x266176(0x2c5));_0x2803db[_0x266176(0x257)]=_0x266176(0x28d),_0x2803db['innerHTML']=_0x266176(0x2f8)+_0x52cdfc+_0x266176(0x236),document[_0x266176(0x2c8)]['appendChild'](_0x2803db),window[_0x266176(0x20f)]=function(_0x244a10){const _0x59b22e=_0x266176;_0x2803db[_0x59b22e(0x208)](),_0x5dffea(_0x244a10);},setTimeout(()=>{const _0x26271d=_0x266176;_0x2803db['classList'][_0x26271d(0x2e2)](_0x26271d(0x241));},0x64);});}function toggleTheme(){const _0x3b6138=_0x1f4606,_0x3de852=document[_0x3b6138(0x2c8)],_0x4ed2d6=_0x3de852['getAttribute'](_0x3b6138(0x228)),_0x3911cf=_0x4ed2d6===_0x3b6138(0x200)?_0x3b6138(0x1c9):_0x3b6138(0x200);_0x3de852[_0x3b6138(0x217)](_0x3b6138(0x228),_0x3911cf),localStorage['setItem'](_0x3b6138(0x1df),_0x3911cf),updateThemeIcon(_0x3911cf),document[_0x3b6138(0x1d2)](_0x3b6138(0x2e3))[_0x3b6138(0x217)](_0x3b6138(0x1ba),_0x3911cf);}function updateThemeIcon(_0xe2ab25){const _0x29f4f7=_0x1f4606,_0x1905fc=document['querySelector']('.theme-toggle\x20i');_0x1905fc[_0x29f4f7(0x257)]=_0xe2ab25===_0x29f4f7(0x200)?_0x29f4f7(0x204):_0x29f4f7(0x2a5);}function toggleSidebar(){const _0x281a3b=_0x1f4606,_0x102d0e=document['querySelector'](_0x281a3b(0x2ae)),_0x456ea1=document[_0x281a3b(0x1d2)](_0x281a3b(0x33b));_0x102d0e[_0x281a3b(0x28c)][_0x281a3b(0x2a1)](_0x281a3b(0x2d1)),_0x456ea1['classList'][_0x281a3b(0x2a1)](_0x281a3b(0x1fd));}function saveConversation(){const _0x502245=_0x1f4606;if(!currentUser)return;const _0x127c4a=currentConversation['id']||Date[_0x502245(0x328)]()[_0x502245(0x1bb)]();conversations[_0x127c4a]=currentConversation,currentConversation['id']=_0x127c4a,localStorage[_0x502245(0x1ea)]('conversations_'+currentUser[_0x502245(0x255)],JSON[_0x502245(0x2fa)](conversations)),updateConversationHistory();}function loadConversationHistory(){const _0x43ffde=_0x1f4606;if(!currentUser)return;const _0x414379=localStorage[_0x43ffde(0x203)](_0x43ffde(0x26b)+currentUser[_0x43ffde(0x255)]);_0x414379&&(conversations=JSON[_0x43ffde(0x267)](_0x414379),updateConversationHistory());}function updateConversationHistory(){const _0x4ddab5=_0x1f4606,_0xcb6b14=document['getElementById']('historyList');_0xcb6b14[_0x4ddab5(0x26e)]='';const _0x5c6c00=Object[_0x4ddab5(0x325)](conversations)[_0x4ddab5(0x2f1)]((_0x4c24d7,_0x13382c)=>parseInt(_0x13382c)-parseInt(_0x4c24d7));_0x5c6c00[_0x4ddab5(0x2f2)](_0xd80cba=>{const _0x4cfc4e=_0x4ddab5,_0x41bcc9=conversations[_0xd80cba],_0x18a77c=document[_0x4cfc4e(0x2ba)]('div');_0x18a77c[_0x4cfc4e(0x257)]='conversation-item';const _0x44cf91=document['createElement'](_0x4cfc4e(0x22d));_0x44cf91['textContent']=_0x4cfc4e(0x253)+new Date(parseInt(_0xd80cba))[_0x4cfc4e(0x316)](),_0x44cf91[_0x4cfc4e(0x1e1)]=()=>loadConversation(_0xd80cba);const _0x21e874=document['createElement']('i');_0x21e874[_0x4cfc4e(0x257)]='fas\x20fa-trash\x20delete-icon',_0x21e874[_0x4cfc4e(0x1e1)]=_0x2bca05=>{const _0xdec50a=_0x4cfc4e;_0x2bca05[_0xdec50a(0x1fb)](),deleteConversation(_0xd80cba);},_0x18a77c[_0x4cfc4e(0x2a0)](_0x44cf91),_0x18a77c[_0x4cfc4e(0x2a0)](_0x21e874),_0xcb6b14['appendChild'](_0x18a77c);});}function deleteConversation(_0x2493aa){const _0x2b0616=_0x1f4606;confirm('√ätes-vous\x20s√ªr\x20de\x20vouloir\x20supprimer\x20cette\x20conversation\x20?')&&(delete conversations[_0x2493aa],localStorage[_0x2b0616(0x1ea)](_0x2b0616(0x26b)+currentUser['username'],JSON[_0x2b0616(0x2fa)](conversations)),updateConversationHistory());}function createNewConversation(){const _0x35713f=_0x1f4606;currentConversation[_0x35713f(0x21a)]>0x0&&saveConversation();currentConversation=[];const _0x3ec984=document['getElementById'](_0x35713f(0x2b2));_0x3ec984['innerHTML']='',updateConversationHistory(),addMessageToChat('ai',_0x35713f(0x2cf)),_0x3ec984[_0x35713f(0x2d9)]=0x0,document['getElementById'](_0x35713f(0x2bb))['focus']();}function loadConversation(_0x1f7e57){const _0x2d8f2f=_0x1f4606;currentConversation[_0x2d8f2f(0x21a)]>0x0&&currentConversation['id']!==_0x1f7e57&&saveConversation();currentConversation=conversations[_0x1f7e57],currentConversation['id']=_0x1f7e57;const _0x2cbcba=document[_0x2d8f2f(0x1b7)](_0x2d8f2f(0x2b2));_0x2cbcba[_0x2d8f2f(0x26e)]='',currentConversation[_0x2d8f2f(0x2f2)](_0x5922ab=>{const _0x36f217=_0x2d8f2f;addMessageToChat(_0x5922ab[_0x36f217(0x1e2)],_0x5922ab[_0x36f217(0x1ba)]);}),_0x2cbcba[_0x2d8f2f(0x2d9)]=0x0;}async function syncUserData(){const _0x3091ab=_0x1f4606;if(!currentUser)return;const _0x2a2b4a={'freeCredits':currentUser[_0x3091ab(0x2d8)]||0x0,'paidCredits':currentUser[_0x3091ab(0x261)]||0x0,'lastFreeCreditsReset':currentUser[_0x3091ab(0x308)]||new Date()[_0x3091ab(0x1de)]()};currentUser[_0x3091ab(0x1e8)]&&(_0x2a2b4a[_0x3091ab(0x1e8)]=currentUser[_0x3091ab(0x1e8)]);currentUser[_0x3091ab(0x26a)]&&(_0x2a2b4a['subscriptionEndDate']=currentUser['subscriptionEndDate']);const _0x1d28f8=db['ref'](_0x3091ab(0x2cc)+currentUser[_0x3091ab(0x255)]);try{await _0x1d28f8[_0x3091ab(0x30d)](_0x2a2b4a),console[_0x3091ab(0x28e)](_0x3091ab(0x324),_0x2a2b4a);}catch(_0x1b62e2){console[_0x3091ab(0x32b)](_0x3091ab(0x2fc),_0x1b62e2),showNotification(_0x3091ab(0x1e4),_0x3091ab(0x32b));}}function adjustTextareaHeight(){const _0x5190a8=_0x1f4606,_0x1a6c82=document[_0x5190a8(0x1b7)](_0x5190a8(0x2bb));_0x1a6c82[_0x5190a8(0x2af)][_0x5190a8(0x275)]=_0x5190a8(0x2cd),_0x1a6c82[_0x5190a8(0x2af)][_0x5190a8(0x275)]=_0x1a6c82[_0x5190a8(0x2d2)]+'px';}function resetTextareaHeight(){const _0x36ee31=_0x1f4606,_0x1715af=document[_0x36ee31(0x1b7)](_0x36ee31(0x2bb));_0x1715af[_0x36ee31(0x2af)][_0x36ee31(0x275)]=_0x36ee31(0x2cd);}async function attemptAutoLogin(){const _0x21c4a6=_0x1f4606,_0x59d70f=getStoredLoginInfo();if(_0x59d70f['username']&&_0x59d70f[_0x21c4a6(0x29b)])try{const _0x21e43b=db[_0x21c4a6(0x2d4)](_0x21c4a6(0x2cc)+_0x59d70f[_0x21c4a6(0x255)]),_0x4e38c9=await _0x21e43b[_0x21c4a6(0x213)]('value');if(_0x4e38c9[_0x21c4a6(0x295)]()&&_0x4e38c9[_0x21c4a6(0x2de)]()[_0x21c4a6(0x29b)]===_0x59d70f[_0x21c4a6(0x29b)]){const _0x1736bb=_0x4e38c9[_0x21c4a6(0x2de)]();currentUser={'username':_0x59d70f['username'],'freeCredits':_0x1736bb[_0x21c4a6(0x2d8)],'paidCredits':_0x1736bb['paidCredits'],'subscription':_0x1736bb[_0x21c4a6(0x1e8)],'subscriptionEndDate':_0x1736bb[_0x21c4a6(0x26a)],'lastFreeCreditsReset':_0x1736bb['lastFreeCreditsReset']},await resetFreeCreditsIfNeeded(),updateUIForLoggedInUser(),console[_0x21c4a6(0x28e)]('Connexion\x20automatique\x20r√©ussie');}else clearLoginInfo(),console[_0x21c4a6(0x28e)](_0x21c4a6(0x331));}catch(_0x3948e6){console[_0x21c4a6(0x32b)]('Erreur\x20lors\x20de\x20la\x20connexion\x20automatique:',_0x3948e6),clearLoginInfo();}}function saveSelectedModel(){const _0x7a6c1e=_0x1f4606,_0x59f37c=document['getElementById'](_0x7a6c1e(0x25c))[_0x7a6c1e(0x30b)];localStorage[_0x7a6c1e(0x1ea)]('selectedModel',_0x59f37c);}function loadSelectedModel(){const _0x4f8b22=_0x1f4606,_0x54a32b=localStorage[_0x4f8b22(0x203)]('selectedModel');_0x54a32b&&(document['getElementById']('modelSelect')[_0x4f8b22(0x30b)]=_0x54a32b);}function showUpgradeButton(_0x53ea9f){const _0x5d17a3=_0x1f4606,_0x3246e1=document[_0x5d17a3(0x2ba)](_0x5d17a3(0x2ff));_0x3246e1[_0x5d17a3(0x2b9)]=_0x5d17a3(0x265),_0x3246e1[_0x5d17a3(0x257)]=_0x5d17a3(0x22e),_0x3246e1[_0x5d17a3(0x1e1)]=()=>{const _0x445e8e=_0x5d17a3;hasValidSubscription()||currentUser[_0x445e8e(0x261)]>0x0?(document[_0x445e8e(0x1b7)]('modelSelect')['value']=_0x445e8e(0x263),showNotification('Mod√®le\x20mis\x20√†\x20jour\x20vers\x20Gemini\x201.5\x20Pro','success')):showPaymentNotification(_0x445e8e(0x2c6));},_0x53ea9f['appendChild'](_0x3246e1);}function animateResponse(_0x2e17cb,_0x4f5db8){const _0x426e22=_0x1f4606;let _0x3e5b95=0x0;_0x2e17cb[_0x426e22(0x2b9)]='';const _0x1c4187=setInterval(()=>{const _0x2565d4=_0x426e22;_0x3e5b95<_0x4f5db8[_0x2565d4(0x21a)]?(_0x2e17cb[_0x2565d4(0x2b9)]+=_0x4f5db8[_0x3e5b95],_0x3e5b95++):clearInterval(_0x1c4187);},0x1);}function loadPromptCategories(){const _0x214851=_0x1f4606,_0xad8950=document[_0x214851(0x1b7)]('promptCategories');_0xad8950['innerHTML']='',db[_0x214851(0x2d4)](_0x214851(0x1f5))['once'](_0x214851(0x30b),_0x4c6329=>{const _0x2990b7=_0x214851;prompts=_0x4c6329[_0x2990b7(0x2de)]()||{};const _0x6a8722=[...new Set(Object[_0x2990b7(0x33d)](prompts)['map'](_0x5538ea=>_0x5538ea[_0x2990b7(0x2e9)]))];_0x6a8722['forEach'](_0x57dc33=>{const _0x3e16bc=_0x2990b7,_0x1ea92c=document[_0x3e16bc(0x2ba)]('li');_0x1ea92c['textContent']=_0x57dc33,_0x1ea92c['onclick']=()=>{const _0x48903a=_0x3e16bc;document['querySelectorAll'](_0x48903a(0x330))[_0x48903a(0x2f2)](_0xc66f2a=>_0xc66f2a[_0x48903a(0x28c)][_0x48903a(0x208)](_0x48903a(0x222))),_0x1ea92c[_0x48903a(0x28c)][_0x48903a(0x2e2)]('active'),loadPromptsForCategory(_0x57dc33);},_0xad8950[_0x3e16bc(0x2a0)](_0x1ea92c);}),_0x6a8722['length']>0x0&&(loadPromptsForCategory(_0x6a8722[0x0]),_0xad8950[_0x2990b7(0x22a)][_0x2990b7(0x28c)][_0x2990b7(0x2e2)]('active'));});}function loadPromptsForCategory(_0x13d460){const _0x3fa381=_0x1f4606,_0x55577d=document[_0x3fa381(0x1b7)](_0x3fa381(0x2b7));_0x55577d[_0x3fa381(0x26e)]='',Object[_0x3fa381(0x31d)](prompts)[_0x3fa381(0x2f2)](([_0x18444b,_0x489dbf])=>{const _0xdb3a67=_0x3fa381;if(_0x489dbf[_0xdb3a67(0x2e9)]===_0x13d460){const _0x1d2464=document[_0xdb3a67(0x2ba)]('li');_0x1d2464[_0xdb3a67(0x26e)]=_0xdb3a67(0x218)+_0x18444b+_0xdb3a67(0x1f7)+JSON[_0xdb3a67(0x2fa)](_0x489dbf)[_0xdb3a67(0x1c1)](/"/g,_0xdb3a67(0x336))+_0xdb3a67(0x271)+_0x489dbf['title']+_0xdb3a67(0x2d6),_0x55577d[_0xdb3a67(0x2a0)](_0x1d2464);}});}function selectPrompt(_0x535a75,_0x1eeaf5){const _0x265891=_0x1f4606;pinnedPrompt={'id':_0x535a75,..._0x1eeaf5},updatePinnedPrompt(),closePromptModal(),showNotification('Prompt\x20s√©lectionn√©',_0x265891(0x224));}function closePromptModal(){const _0x14647c=_0x1f4606;document[_0x14647c(0x1b7)]('promptListModal')[_0x14647c(0x2af)][_0x14647c(0x258)]=_0x14647c(0x260);}function togglePromptList(){const _0x40ee62=_0x1f4606,_0x516b2b=document[_0x40ee62(0x1b7)](_0x40ee62(0x1eb));_0x516b2b['style'][_0x40ee62(0x258)]=_0x40ee62(0x304),loadPromptCategories();}function updatePinnedPrompt(){const _0x4130e1=_0x1f4606,_0x3055a9=document['getElementById']('pinnedItems'),_0x12e076=_0x3055a9[_0x4130e1(0x1d2)](_0x4130e1(0x2f0));_0x12e076&&_0x12e076[_0x4130e1(0x208)]();if(pinnedPrompt){const _0x32a0ec=document[_0x4130e1(0x2ba)](_0x4130e1(0x2c5));_0x32a0ec[_0x4130e1(0x257)]='pinned-item',_0x32a0ec[_0x4130e1(0x217)](_0x4130e1(0x311),_0x4130e1(0x306)),_0x32a0ec['innerHTML']=_0x4130e1(0x27c)+pinnedPrompt['title']+'\x22>'+pinnedPrompt['title']+_0x4130e1(0x2ed),_0x3055a9[_0x4130e1(0x2a0)](_0x32a0ec);}}function removePinnedPrompt(){pinnedPrompt=null,updatePinnedPrompt();}function openLibrary(){const _0x57c9e9=_0x1f4606;console[_0x57c9e9(0x28e)](_0x57c9e9(0x1f0));if(currentUser){console['log']('Utilisateur\x20connect√©:',currentUser);const _0x12784c={'username':currentUser[_0x57c9e9(0x255)],'freeCredits':currentUser[_0x57c9e9(0x2d8)],'paidCredits':currentUser[_0x57c9e9(0x261)],'subscription':currentUser[_0x57c9e9(0x1e8)]};localStorage['setItem'](_0x57c9e9(0x2b0),JSON['stringify'](_0x12784c)),console['log'](_0x57c9e9(0x235)),window[_0x57c9e9(0x338)][_0x57c9e9(0x334)]=_0x57c9e9(0x1cf);}else console['log'](_0x57c9e9(0x27e)),alert(_0x57c9e9(0x1c8));}async function showReferralModal(){const _0x39debf=_0x1f4606,_0x1a8d57=document['getElementById'](_0x39debf(0x310));_0x1a8d57['style'][_0x39debf(0x258)]='block';const _0x520a1a=await getOrCreateReferralCode();if(_0x520a1a){const _0x3dcd8a='https://eduquemoi.netlify.app/?ref='+_0x520a1a;document[_0x39debf(0x1b7)](_0x39debf(0x2f5))['value']=_0x3dcd8a;const _0x24e43c=_0x39debf(0x30a)+_0x3dcd8a;document[_0x39debf(0x1b7)](_0x39debf(0x2f5))[_0x39debf(0x217)]('data-invite-message',_0x24e43c);}else document[_0x39debf(0x1b7)](_0x39debf(0x2f5))[_0x39debf(0x30b)]=_0x39debf(0x33c);await updateReferralStats(currentUser[_0x39debf(0x255)]);}function generateReferralCode(){const _0x4c063a=_0x1f4606;return Math[_0x4c063a(0x2a9)]()[_0x4c063a(0x1bb)](0x24)['substring'](0x2,0x8)[_0x4c063a(0x32a)]();}async function getOrCreateReferralCode(){const _0x4860a3=_0x1f4606;if(!currentUser)return null;const _0x4a8284=db[_0x4860a3(0x2d4)](_0x4860a3(0x2cc)+currentUser[_0x4860a3(0x255)]),_0x3a5f01=await _0x4a8284[_0x4860a3(0x213)]('value'),_0x335d41=_0x3a5f01[_0x4860a3(0x2de)]();if(_0x335d41&&_0x335d41[_0x4860a3(0x22b)])return _0x335d41[_0x4860a3(0x22b)];else{const _0x2f5b37=generateReferralCode();return await _0x4a8284[_0x4860a3(0x30d)]({'referralCode':_0x2f5b37}),_0x2f5b37;}}async function updateReferralStats(_0x54279d){const _0x3d1b98=_0x1f4606,_0xa12d2c=db[_0x3d1b98(0x2d4)](_0x3d1b98(0x2cc)+_0x54279d),_0x282065=await _0xa12d2c[_0x3d1b98(0x213)](_0x3d1b98(0x30b)),_0x33a781=_0x282065[_0x3d1b98(0x2de)]();if(_0x33a781&&_0x33a781[_0x3d1b98(0x1c3)]){const _0x5f2f88=_0x33a781['referrals'],_0x5040df=Object['keys'](_0x5f2f88)['length'],_0x50c0a2=Object[_0x3d1b98(0x33d)](_0x5f2f88)[_0x3d1b98(0x29d)](_0x4257cc=>_0x4257cc[_0x3d1b98(0x25f)])['length'];await _0xa12d2c[_0x3d1b98(0x30d)]({'totalReferrals':_0x5040df,'activeReferrals':_0x50c0a2}),currentUser&&currentUser[_0x3d1b98(0x255)]===_0x54279d&&(document[_0x3d1b98(0x1b7)]('totalReferrals')[_0x3d1b98(0x2b9)]=_0x5040df,document[_0x3d1b98(0x1b7)](_0x3d1b98(0x313))['textContent']=_0x50c0a2);}}window[_0x1f4606(0x27a)]=async function(){const _0x4a4648=_0x1f4606;await attemptAutoLogin();if(currentUser){if(currentUser[_0x4a4648(0x2d8)]===undefined)currentUser[_0x4a4648(0x2d8)]=0x0;if(currentUser[_0x4a4648(0x261)]===undefined)currentUser[_0x4a4648(0x261)]=0x0;if(currentUser['subscription']===undefined)currentUser[_0x4a4648(0x1e8)]=null;if(currentUser[_0x4a4648(0x26a)]===undefined)currentUser[_0x4a4648(0x26a)]=null;if(currentUser[_0x4a4648(0x308)]===undefined)currentUser[_0x4a4648(0x308)]=new Date()[_0x4a4648(0x1de)]();const _0xc31042=db[_0x4a4648(0x2d4)](_0x4a4648(0x2cc)+currentUser['username']),_0x509724=await _0xc31042[_0x4a4648(0x213)](_0x4a4648(0x30b)),_0x2ab118=_0x509724[_0x4a4648(0x2de)]();_0x2ab118&&(importedFilesCount=_0x2ab118[_0x4a4648(0x278)]||0x0,lastImportReset=new Date(_0x2ab118['lastImportReset']||new Date())),await syncUserData();}const _0xce82bd=localStorage[_0x4a4648(0x203)]('theme')||_0x4a4648(0x1c9);document[_0x4a4648(0x2c8)][_0x4a4648(0x217)](_0x4a4648(0x228),_0xce82bd),updateThemeIcon(_0xce82bd),setupUIEventListeners();currentUser&&loadConversationHistory();initModals(),loadSelectedModel(),document[_0x4a4648(0x1b7)](_0x4a4648(0x25c))[_0x4a4648(0x29c)](_0x4a4648(0x1e7),saveSelectedModel),restoreAppState(),initializeNewDiscussion(),document[_0x4a4648(0x2c8)][_0x4a4648(0x28c)][_0x4a4648(0x2e2)](_0x4a4648(0x1ca)),setInterval(checkSubscriptionStatus,0x36ee80),await loadApiKeyList(),initializeGeminiAPI();const _0x59b436=document[_0x4a4648(0x1b7)](_0x4a4648(0x25c));!_0x59b436[_0x4a4648(0x30b)]&&(_0x59b436[_0x4a4648(0x30b)]='gemini-1.5-flash');};function setupUIEventListeners(){const _0xaef5dd=_0x1f4606,_0x1a1e4d=document[_0xaef5dd(0x1d2)](_0xaef5dd(0x1bd)),_0x4b6671=document[_0xaef5dd(0x1b7)]('userInput'),_0x4c13b9=document['querySelector'](_0xaef5dd(0x272)),_0x42fa15=_0x1a1e4d['querySelector'](_0xaef5dd(0x219));function _0x1ac4ea(){const _0x1c7c12=_0xaef5dd,_0x2a2360=_0x1a1e4d['offsetWidth'],_0x3937e8=_0x4c13b9[_0x1c7c12(0x2ef)],_0x4f27b0=document[_0x1c7c12(0x1b7)](_0x1c7c12(0x28a))['offsetWidth'],_0x12fd03=_0x42fa15['offsetWidth'],_0x13ca43=0x1e;_0x4b6671['style'][_0x1c7c12(0x233)]=_0x2a2360-_0x3937e8-_0x4f27b0-_0x12fd03-_0x13ca43+'px';}_0x1ac4ea(),window['addEventListener'](_0xaef5dd(0x2bf),_0x1ac4ea),_0x4b6671[_0xaef5dd(0x29c)](_0xaef5dd(0x20a),adjustTextareaHeight),document[_0xaef5dd(0x1b7)](_0xaef5dd(0x25c))['addEventListener'](_0xaef5dd(0x1e7),checkModelAccess);window[_0xaef5dd(0x286)]<=0x300&&(document['querySelector'](_0xaef5dd(0x2ae))[_0xaef5dd(0x28c)]['remove'](_0xaef5dd(0x2d1)),document[_0xaef5dd(0x1d2)](_0xaef5dd(0x33b))[_0xaef5dd(0x28c)][_0xaef5dd(0x208)]('sidebar-visible'));if(currentUser){const _0x1d633e=db[_0xaef5dd(0x2d4)](_0xaef5dd(0x2cc)+currentUser[_0xaef5dd(0x255)]);_0x1d633e['on'](_0xaef5dd(0x30b),_0x5116e0=>{const _0x39d16d=_0xaef5dd,_0x171628=_0x5116e0[_0x39d16d(0x2de)]();_0x171628&&(currentUser={...currentUser,'freeCredits':_0x171628[_0x39d16d(0x2d8)],'paidCredits':_0x171628[_0x39d16d(0x261)],'subscription':_0x171628[_0x39d16d(0x1e8)],'subscriptionEndDate':_0x171628[_0x39d16d(0x26a)],'lastFreeCreditsReset':_0x171628[_0x39d16d(0x308)]},updateUIForLoggedInUser());});}}function initModals(){const _0x432c7f=_0x1f4606,_0x9e864d=document[_0x432c7f(0x23d)](_0x432c7f(0x2bc)),_0x31d405=document[_0x432c7f(0x23d)](_0x432c7f(0x332));_0x31d405['forEach'](_0x499386=>{const _0x19d7ea=_0x432c7f;_0x499386['addEventListener'](_0x19d7ea(0x2d7),()=>{const _0x521b19=_0x19d7ea;_0x499386[_0x521b19(0x2f9)](_0x521b19(0x2bc))[_0x521b19(0x2af)][_0x521b19(0x258)]='none';});}),window[_0x432c7f(0x29c)](_0x432c7f(0x2d7),_0x3e90c5=>{const _0x2c381d=_0x432c7f;_0x9e864d[_0x2c381d(0x2f2)](_0x25d1cc=>{const _0x48bb19=_0x2c381d;_0x3e90c5[_0x48bb19(0x1bc)]===_0x25d1cc&&(_0x25d1cc[_0x48bb19(0x2af)][_0x48bb19(0x258)]=_0x48bb19(0x260));});});}document['addEventListener'](_0x1f4606(0x1f4),function(_0x44d0c7){const _0x5b9fb5=_0x1f4606;_0x44d0c7[_0x5b9fb5(0x243)]==='Enter'&&!_0x44d0c7['shiftKey']&&(_0x44d0c7[_0x5b9fb5(0x246)](),sendMessage());}),document['getElementById'](_0x1f4606(0x2bb))[_0x1f4606(0x29c)](_0x1f4606(0x1f4),function(_0x54cba6){const _0x412cf3=_0x1f4606;if(_0x54cba6[_0x412cf3(0x243)]===_0x412cf3(0x298)&&_0x54cba6[_0x412cf3(0x2e1)]){_0x54cba6[_0x412cf3(0x246)]();const _0x172c50=this['selectionStart'],_0x584b4b=this[_0x412cf3(0x327)],_0x5cba21=this[_0x412cf3(0x30b)];this[_0x412cf3(0x30b)]=_0x5cba21[_0x412cf3(0x1d3)](0x0,_0x172c50)+'\x0a'+_0x5cba21['substring'](_0x584b4b),this[_0x412cf3(0x1d4)]=this['selectionEnd']=_0x172c50+0x1;}});function checkApiStatus(){const _0x31e02f=_0x1f4606;axios[_0x31e02f(0x301)](API_BASE_URL+_0x31e02f(0x2f6)+API_KEY)[_0x31e02f(0x300)](_0x525f6d=>{const _0x5e43d4=_0x31e02f;console[_0x5e43d4(0x28e)]('Statut\x20de\x20l\x27API\x20Gemini:',_0x525f6d[_0x5e43d4(0x305)]),console['log'](_0x5e43d4(0x1d5),_0x525f6d[_0x5e43d4(0x1b8)]);})[_0x31e02f(0x303)](_0x4c0179=>{const _0xcdeb55=_0x31e02f;console[_0xcdeb55(0x32b)](_0xcdeb55(0x247),_0x4c0179);});}function checkApiStatusRegularly(){checkApiStatus(),setInterval(checkApiStatus,0xea60);}window[_0x1f4606(0x29c)]('offline',function(){const _0x21c76=_0x1f4606;showNotification('Vous\x20√™tes\x20hors\x20ligne.\x20Veuillez\x20v√©rifier\x20votre\x20connexion\x20internet.',_0x21c76(0x32b));}),window[_0x1f4606(0x29c)](_0x1f4606(0x27d),function(){const _0x3502df=_0x1f4606;showNotification('Vous\x20√™tes\x20de\x20nouveau\x20en\x20ligne.',_0x3502df(0x224));}),window[_0x1f4606(0x29c)](_0x1f4606(0x315),function(){const _0x545b70=_0x1f4606;currentUser&&localStorage[_0x545b70(0x1ea)](_0x545b70(0x32e),JSON[_0x545b70(0x2fa)](currentConversation));});function restoreAppState(){const _0x173082=_0x1f4606,_0x479629=localStorage[_0x173082(0x203)](_0x173082(0x32e));_0x479629&&(currentConversation=JSON[_0x173082(0x267)](_0x479629),currentConversation[_0x173082(0x2f2)](_0x29368d=>{const _0x412050=_0x173082;addMessageToChat(_0x29368d[_0x412050(0x1e2)],_0x29368d['content']);}));}function updateUI(){const _0x356005=_0x1f4606;currentUser&&(document[_0x356005(0x1b7)](_0x356005(0x2d8))[_0x356005(0x2b9)]=currentUser[_0x356005(0x2d8)],document['getElementById'](_0x356005(0x261))[_0x356005(0x2b9)]=currentUser[_0x356005(0x261)],document[_0x356005(0x1b7)](_0x356005(0x1e8))['textContent']=currentUser['subscription']||_0x356005(0x1cc));}document[_0x1f4606(0x1b7)](_0x1f4606(0x1c7))[_0x1f4606(0x1c2)]=_0x1f4606(0x322),setInterval(updateUI,0x493e0),checkApiStatusRegularly(),window['showLoginModal']=showLoginModal,window['showRegisterModal']=showRegisterModal,window['login']=login,window[_0x1f4606(0x251)]=register,window[_0x1f4606(0x216)]=logout,window[_0x1f4606(0x24e)]=sendMessage,window[_0x1f4606(0x318)]=buySubscription,window['buyCredits']=buyCredits,window['toggleTheme']=toggleTheme,window[_0x1f4606(0x26c)]=toggleSidebar,window[_0x1f4606(0x24d)]=createNewConversation,window[_0x1f4606(0x314)]=handleFileUpload,window[_0x1f4606(0x2e8)]=togglePromptList,window[_0x1f4606(0x2ab)]=showReferralModal,window[_0x1f4606(0x321)]=generateReferralCode,window['copyReferralLink']=copyReferralLink,window[_0x1f4606(0x294)]=shareOnFacebook,window['shareOnTwitter']=shareOnTwitter,window[_0x1f4606(0x291)]=shareOnLinkedIn,window[_0x1f4606(0x26f)]=shareOnWhatsApp,window['removePinnedFile']=removePinnedFile;
