<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion des tickets totaux</title>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --danger-color: #e74c3c;
            --background-color: #ecf0f1;
            --text-color: #34495e;
            --edit-color: #f39c12;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .category-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .category-title {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h1, h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .pin-icon {
            cursor: pointer;
            color: var(--primary-color);
            font-size: 1.2em;
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin-top: 20px;
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        th {
            background-color: var(--primary-color);
            color: white;
            font-weight: bold;
            text-transform: uppercase;
        }

        tr:last-child td {
            border-bottom: none;
        }

        button, .file-input-label {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
            display: inline-block;
            transition: background-color 0.3s ease;
            font-size: 14px;
        }

        button:hover, .file-input-label:hover {
            background-color: #2980b9;
        }

        .delete-btn {
            background-color: var(--danger-color);
        }

        .delete-btn:hover {
            background-color: #c0392b;
        }

        .edit-btn {
            background-color: var(--edit-color);
        }

        .edit-btn:hover {
            background-color: #d68910;
        }

        .add-ticket-btn {
            background-color: var(--secondary-color);
        }

        .add-ticket-btn:hover {
            background-color: #27ae60;
        }

        #searchBar {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid #bdc3c7;
            border-radius: 4px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        #searchBar:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .highlight {
            background-color: #fff176;
            padding: 2px;
            border-radius: 2px;
        }

        #importFile {
            display: none;
        }

        .action-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .loading::after {
            content: "";
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }

        .modal-content {
            position: relative;
            background-color: white;
            margin: 15% auto;
            padding: 20px;
            border-radius: 8px;
            width: 80%;
            max-width: 500px;
        }

        .modal input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .modal-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .action-row {
                flex-direction: column;
                align-items: stretch;
            }

            button, .file-input-label {
                width: 100%;
                margin-right: 0;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Gestion des tickets totaux</h1>
        <div class="action-row">
            <div>
                <button onclick="exportTickets()">Exporter tous les tickets</button>
                <label for="importFile" class="file-input-label">Importer des tickets</label>
                <input type="file" id="importFile" accept=".json,.csv,.txt" onchange="importTickets(event)">
            </div>
            <button onclick="exportFilteredTickets()">Exporter les tickets filtrés</button>
        </div>
        <input type="text" id="searchBar" placeholder="Rechercher un ticket (mot de passe, prix ou utilisateur)">
        <button onclick="deleteSearchResults()">Supprimer les résultats de recherche</button>
        <div id="ticketCategories"></div>
    </div>

    <div id="loadingIndicator" class="loading" style="display: none;"></div>

    <!-- Modal pour les prix -->
    <div id="priceModal" class="modal">
        <div class="modal-content">
            <h2>Définir le prix</h2>
            <p>Veuillez entrer le prix pour la catégorie <span id="categoryName"></span></p>
            <input type="text" id="priceInput" placeholder="Entrer le prix">
            <div class="modal-buttons">
                <button onclick="confirmPrice()">Confirmer</button>
                <button onclick="cancelImport()">Annuler</button>
            </div>
        </div>
    </div>

    <!-- Modal pour modifier un ticket -->
    <div id="editTicketModal" class="modal">
        <div class="modal-content">
            <h2>Modifier le ticket</h2>
            <input type="text" id="editPassword" placeholder="Mot de passe">
            <input type="text" id="editPrice" placeholder="Prix">
            <input type="text" id="editUser" placeholder="Utilisateur">
            <div class="modal-buttons">
                <button onclick="saveTicketEdit()">Enregistrer</button>
                <button onclick="closeEditModal()">Annuler</button>
            </div>
        </div>
    </div>

    <!-- Modal pour modifier une catégorie -->
    <div id="editCategoryModal" class="modal">
        <div class="modal-content">
            <h2>Modifier la catégorie</h2>
            <input type="text" id="editCategoryName" placeholder="Nouveau nom de la catégorie">
            <div class="modal-buttons">
                <button onclick="saveCategoryEdit()">Enregistrer</button>
                <button onclick="closeEditCategoryModal()">Annuler</button>
            </div>
        </div>
    </div>

    <!-- Modal pour ajouter un ticket -->
    <div id="addTicketModal" class="modal">
        <div class="modal-content">
            <h2>Ajouter un nouveau ticket</h2>
            <input type="text" id="newPassword" placeholder="Mot de passe">
            <input type="text" id="newPrice" placeholder="Prix">
            <input type="text" id="newUser" placeholder="Utilisateur">
            <div class="modal-buttons">
                <button onclick="saveNewTicket()">Ajouter</button>
                <button onclick="closeAddTicketModal()">Annuler</button>
            </div>
        </div>
    </div>

    <script>
const _0x2ca7b9=_0x50de;(function(_0x276240,_0x4c2e3d){const _0x44d87f=_0x50de,_0x369e04=_0x276240();while(!![]){try{const _0x773f35=parseInt(_0x44d87f(0x1a5))/0x1*(parseInt(_0x44d87f(0x1ed))/0x2)+parseInt(_0x44d87f(0x1b7))/0x3+parseInt(_0x44d87f(0x1d6))/0x4+parseInt(_0x44d87f(0x1cb))/0x5*(parseInt(_0x44d87f(0x1f4))/0x6)+-parseInt(_0x44d87f(0x1d9))/0x7+-parseInt(_0x44d87f(0x1df))/0x8+-parseInt(_0x44d87f(0x185))/0x9;if(_0x773f35===_0x4c2e3d)break;else _0x369e04['push'](_0x369e04['shift']());}catch(_0x1c5969){_0x369e04['push'](_0x369e04['shift']());}}}(_0x5891,0x77775));const firebaseConfig={'apiKey':_0x2ca7b9(0x1e2),'authDomain':_0x2ca7b9(0x1d7),'databaseURL':_0x2ca7b9(0x1cf),'projectId':_0x2ca7b9(0x199),'storageBucket':_0x2ca7b9(0x1d5),'messagingSenderId':'515975925887','appId':'1:515975925887:web:d4f867778ec322d8f52f4a','measurementId':_0x2ca7b9(0x1dc)};firebase[_0x2ca7b9(0x1a4)](firebaseConfig);const database=firebase[_0x2ca7b9(0x1a7)]();let allTickets={},tempImportData=null,tempCategory=null,currentEditingTicket=null,currentEditingCategory=null,editingCategory='',editingIndex=-0x1;function showLoading(){const _0x90e7ea=_0x2ca7b9;document['getElementById'](_0x90e7ea(0x1be))['style'][_0x90e7ea(0x1bf)]=_0x90e7ea(0x193);}function hideLoading(){const _0xe1f464=_0x2ca7b9;document[_0xe1f464(0x1f3)](_0xe1f464(0x1be))['style']['display']=_0xe1f464(0x1ad);}function loadTickets(){const _0x377f33=_0x2ca7b9;showLoading();const _0x5e58c9=database[_0x377f33(0x1e4)](_0x377f33(0x19c));_0x5e58c9['on'](_0x377f33(0x17f),_0x1f5d71=>{const _0x29bf93=_0x377f33;allTickets=_0x1f5d71[_0x29bf93(0x1c6)](),displayTickets(allTickets),hideLoading();},_0x5a1905=>{const _0xa2e3e9=_0x377f33;console['error'](_0xa2e3e9(0x1c4),_0x5a1905),hideLoading(),alert('Erreur\x20lors\x20du\x20chargement\x20des\x20tickets.\x20Veuillez\x20réessayer.');});}function displayTickets(_0x1a833d,_0x11c4ec=''){const _0x2822bd=_0x2ca7b9,_0x2716e8=document['getElementById'](_0x2822bd(0x1e6));_0x2716e8[_0x2822bd(0x18e)]='';for(let _0x51b8cf in _0x1a833d){const _0x5d3752=_0x1a833d[_0x51b8cf],_0x1a23f4=_0x2822bd(0x19e)+_0x51b8cf+_0x2822bd(0x1b8)+_0x51b8cf+_0x2822bd(0x1b3)+_0x51b8cf+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus\x22></i>\x20Ajouter\x20un\x20ticket\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteAllTicketsInCategory(\x27'+_0x51b8cf+_0x2822bd(0x19d)+_0x51b8cf+_0x2822bd(0x1cd)+_0x51b8cf+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteSelectedTickets(\x27'+_0x51b8cf+_0x2822bd(0x188)+_0x51b8cf+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x2716e8['innerHTML']+=_0x1a23f4;const _0x2a429b=document[_0x2822bd(0x1f3)](_0x2822bd(0x1a1)+_0x51b8cf);for(let _0x45e86f=0x0;_0x45e86f<_0x5d3752['motDePasse'][_0x2822bd(0x1e1)];_0x45e86f++){if(_0x11c4ec&&!matchesSearch(_0x5d3752,_0x45e86f,_0x11c4ec))continue;const _0x980115=_0x2822bd(0x1c3)+_0x51b8cf+'\x22\x20value=\x22'+_0x45e86f+'\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+highlightMatch(_0x5d3752['motDePasse'][_0x45e86f],_0x11c4ec)+_0x2822bd(0x1a3)+highlightMatch(_0x5d3752['prix'][_0x45e86f],_0x11c4ec)+_0x2822bd(0x1a3)+highlightMatch(_0x5d3752[_0x2822bd(0x1ac)][_0x45e86f],_0x11c4ec)+_0x2822bd(0x1d1)+_0x51b8cf+_0x2822bd(0x1cc)+_0x45e86f+')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Modifier\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-btn\x22\x20onclick=\x22deleteTicket(\x27'+_0x51b8cf+'\x27,\x20'+_0x45e86f+')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x20Supprimer\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x2a429b['innerHTML']+=_0x980115;}}}function editTicket(_0x4b9ef2,_0x4ce53d){const _0x21db25=_0x2ca7b9;editingCategory=_0x4b9ef2,editingIndex=_0x4ce53d;const _0x43105b=allTickets[_0x4b9ef2];document[_0x21db25(0x1f3)](_0x21db25(0x1c9))[_0x21db25(0x17f)]=_0x43105b['motDePasse'][_0x4ce53d],document[_0x21db25(0x1f3)](_0x21db25(0x1a0))[_0x21db25(0x17f)]=_0x43105b['prix'][_0x4ce53d],document[_0x21db25(0x1f3)](_0x21db25(0x1c0))[_0x21db25(0x17f)]=_0x43105b[_0x21db25(0x1ac)][_0x4ce53d],document[_0x21db25(0x1f3)]('editTicketModal')['style'][_0x21db25(0x1bf)]='block';}function _0x5891(){const _0x3db63b=['Erreur\x20lors\x20du\x20chargement\x20des\x20tickets:','update','val','Êtes-vous\x20sûr\x20de\x20vouloir\x20importer\x20ces\x20tickets\x20?\x20Cela\x20remplacera\x20les\x20tickets\x20existants\x20dans\x20les\x20catégories\x20correspondantes.','splice','editPassword','map','5FCsLUT','\x27,\x20','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Sélectionner</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Mot\x20de\x20passe</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Prix</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Utilisateur</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Actions</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody\x20id=\x22ticketsBody_','block','https://trs100-default-rtdb.firebaseio.com','createElement','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-btn\x22\x20onclick=\x22editTicket(\x27','then','stringify','from','trs100.firebasestorage.app','2742880CpHakU','trs100.firebaseapp.com','setAttribute','4921105cxHRyZ','Aucun\x20ticket\x20valide\x20n\x27a\x20été\x20trouvé\x20dans\x20le\x20fichier','textContent','G-VMB231DY1L','result','Tous\x20les\x20tickets\x20de\x20la\x20catégorie\x20ont\x20été\x20supprimés\x20avec\x20succès!','6306912atdxQR','Importation\x20réussie\x20!','length','AIzaSyAAqwJ7Ta4SHKzLOptCNmCUFzmD9dRV1bw','addTicketModal','ref','txt','ticketCategories','includes','sort','split','Tickets\x20sélectionnés\x20supprimés\x20avec\x20succès!','forEach','Erreur\x20lors\x20de\x20la\x20suppression\x20des\x20tickets','4VMuXOB','json','Erreur\x20lors\x20de\x20l\x27importation.\x20Veuillez\x20réessayer.','Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20tous\x20les\x20tickets\x20correspondant\x20à\x20votre\x20recherche\x20?','newPassword','parse','getElementById','2306406ecPyNN','trim','style','prix','remove','download','appendChild','Erreur\x20lors\x20de\x20la\x20suppression:','Format\x20de\x20fichier\x20non\x20supporté','Erreur\x20lors\x20de\x20la\x20suppression\x20du\x20ticket','Erreur\x20lors\x20de\x20l\x27importation:','querySelectorAll','pop','value','newUser','toLowerCase','addEventListener','editTicketModal','filtered_tickets_export.json','1436724pfWWDo','match','Erreur\x20lors\x20de\x20la\x20suppression\x20des\x20résultats\x20de\x20recherche.\x20Veuillez\x20réessayer.','\x27)\x22>Supprimer\x20les\x20tickets\x20sélectionnés\x20de\x20','set','Erreur\x20lors\x20de\x20l\x27importation.\x20Veuillez\x20vérifier\x20le\x20format\x20du\x20fichier.','target','Veuillez\x20sélectionner\x20au\x20moins\x20un\x20ticket\x20à\x20supprimer','Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20les\x20tickets\x20sélectionnés\x20?','innerHTML','Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20TOUS\x20les\x20tickets\x20de\x20la\x20catégorie\x20','error','Erreur\x20lors\x20de\x20l\x27ajout\x20du\x20ticket:','editCategoryModal','flex','body','TicketsTotal/','onload','importFile','Les\x20tickets\x20correspondant\x20à\x20la\x20recherche\x20ont\x20été\x20supprimés.','trs100','<span\x20class=\x22highlight\x22>','editCategoryName','TicketsTotal','\x27)\x22>Supprimer\x20tous\x20les\x20tickets\x20de\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22category-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22category-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22category-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>','href','editPrice','ticketsBody_','searchBar','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','initializeApp','194563VkNpue','/ip\x20hotspot\x20user','database','newPrice','motDePasse','Erreur\x20lors\x20de\x20l\x27ajout\x20du\x20ticket','Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20ce\x20ticket\x20?','utilisateur','none','Tous\x20les\x20champs\x20sont\x20obligatoires','categoryName','push','data:text/json;charset=utf-8,','keys','\x27)\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22add-ticket-btn\x22\x20onclick=\x22showAddTicketModal(\x27','fill','replace','Veuillez\x20entrer\x20un\x20terme\x20de\x20recherche\x20avant\x20de\x20supprimer.','2043303OwAFRO','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-thumbtack\x20pin-icon\x22\x20onclick=\x22editCategory(\x27','</span>','priceModal','tickets_export.json','Veuillez\x20entrer\x20un\x20prix','Erreur\x20d\x27importation:','loadingIndicator','display','editUser','files','catch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><input\x20type=\x22checkbox\x22\x20name=\x22ticketSelect_'];_0x5891=function(){return _0x3db63b;};return _0x5891();}function saveTicketEdit(){const _0x428a14=_0x2ca7b9,_0x12b402=document[_0x428a14(0x1f3)](_0x428a14(0x1c9))['value'],_0x4c9de7=document[_0x428a14(0x1f3)](_0x428a14(0x1a0))[_0x428a14(0x17f)],_0xcc1304=document[_0x428a14(0x1f3)]('editUser')['value'];if(!_0x12b402||!_0x4c9de7||!_0xcc1304){alert('Tous\x20les\x20champs\x20sont\x20obligatoires');return;}showLoading();const _0x1a5759={},_0x32d692=allTickets[editingCategory];_0x32d692['motDePasse'][editingIndex]=_0x12b402,_0x32d692[_0x428a14(0x175)][editingIndex]=_0x4c9de7,_0x32d692[_0x428a14(0x1ac)][editingIndex]=_0xcc1304,_0x1a5759['TicketsTotal/'+editingCategory]=_0x32d692,database[_0x428a14(0x1e4)]()[_0x428a14(0x1c5)](_0x1a5759)[_0x428a14(0x1d2)](()=>{hideLoading(),closeEditModal(),alert('Ticket\x20modifié\x20avec\x20succès!');})[_0x428a14(0x1c2)](_0x48e28e=>{const _0x292c7c=_0x428a14;console[_0x292c7c(0x190)]('Erreur\x20lors\x20de\x20la\x20modification:',_0x48e28e),hideLoading(),alert('Erreur\x20lors\x20de\x20la\x20modification\x20du\x20ticket');});}function editCategory(_0x4cb12d){const _0x277ee2=_0x2ca7b9;currentEditingCategory=_0x4cb12d,document[_0x277ee2(0x1f3)](_0x277ee2(0x19b))[_0x277ee2(0x17f)]=_0x4cb12d,document[_0x277ee2(0x1f3)](_0x277ee2(0x192))[_0x277ee2(0x1f6)][_0x277ee2(0x1bf)]='block';}function _0x50de(_0x1065cc,_0x3512ca){const _0x5891f9=_0x5891();return _0x50de=function(_0x50decc,_0x3340a8){_0x50decc=_0x50decc-0x175;let _0x5b6697=_0x5891f9[_0x50decc];return _0x5b6697;},_0x50de(_0x1065cc,_0x3512ca);}function saveCategoryEdit(){const _0x2d8137=_0x2ca7b9,_0x3080df=document[_0x2d8137(0x1f3)](_0x2d8137(0x19b))[_0x2d8137(0x17f)][_0x2d8137(0x1f5)]();if(!_0x3080df){alert('Le\x20nom\x20de\x20la\x20catégorie\x20ne\x20peut\x20pas\x20être\x20vide');return;}if(_0x3080df===currentEditingCategory){closeEditCategoryModal();return;}showLoading();const _0x1c96d5=allTickets[currentEditingCategory],_0x3b51af={[_0x2d8137(0x195)+currentEditingCategory]:null,[_0x2d8137(0x195)+_0x3080df]:_0x1c96d5};database[_0x2d8137(0x1e4)]()[_0x2d8137(0x1c5)](_0x3b51af)[_0x2d8137(0x1d2)](()=>{hideLoading(),closeEditCategoryModal(),alert('Catégorie\x20modifiée\x20avec\x20succès!');})['catch'](_0x59eecb=>{const _0x3e7bf6=_0x2d8137;console[_0x3e7bf6(0x190)]('Erreur\x20lors\x20de\x20la\x20modification\x20de\x20la\x20catégorie:',_0x59eecb),hideLoading(),alert('Erreur\x20lors\x20de\x20la\x20modification\x20de\x20la\x20catégorie');});}function showAddTicketModal(_0x22df78){const _0x1ba911=_0x2ca7b9;currentEditingCategory=_0x22df78,document['getElementById']('newPassword')[_0x1ba911(0x17f)]='',document[_0x1ba911(0x1f3)](_0x1ba911(0x1a8))[_0x1ba911(0x17f)]='',document['getElementById']('newUser')['value']='',document[_0x1ba911(0x1f3)](_0x1ba911(0x1e3))[_0x1ba911(0x1f6)][_0x1ba911(0x1bf)]=_0x1ba911(0x1ce);}function saveNewTicket(){const _0x252a1a=_0x2ca7b9,_0xea2db=document[_0x252a1a(0x1f3)](_0x252a1a(0x1f1))['value'][_0x252a1a(0x1f5)](),_0x5bdbc8=document[_0x252a1a(0x1f3)](_0x252a1a(0x1a8))[_0x252a1a(0x17f)][_0x252a1a(0x1f5)](),_0xd6d927=document[_0x252a1a(0x1f3)](_0x252a1a(0x180))['value'][_0x252a1a(0x1f5)]();if(!_0xea2db||!_0x5bdbc8||!_0xd6d927){alert(_0x252a1a(0x1ae));return;}showLoading();const _0x2a1b92=allTickets[currentEditingCategory];_0x2a1b92['motDePasse']['push'](_0xea2db),_0x2a1b92[_0x252a1a(0x175)]['push'](_0x5bdbc8),_0x2a1b92['utilisateur'][_0x252a1a(0x1b0)](_0xd6d927),database[_0x252a1a(0x1e4)]('TicketsTotal/'+currentEditingCategory)['set'](_0x2a1b92)[_0x252a1a(0x1d2)](()=>{hideLoading(),closeAddTicketModal(),alert('Ticket\x20ajouté\x20avec\x20succès!');})[_0x252a1a(0x1c2)](_0x35d6a0=>{const _0x5c7578=_0x252a1a;console[_0x5c7578(0x190)](_0x5c7578(0x191),_0x35d6a0),hideLoading(),alert(_0x5c7578(0x1aa));});}function closeEditModal(){const _0x2ca81d=_0x2ca7b9;document[_0x2ca81d(0x1f3)](_0x2ca81d(0x183))[_0x2ca81d(0x1f6)][_0x2ca81d(0x1bf)]=_0x2ca81d(0x1ad),editingCategory='',editingIndex=-0x1;}function closeEditCategoryModal(){const _0x32d987=_0x2ca7b9;document[_0x32d987(0x1f3)](_0x32d987(0x192))[_0x32d987(0x1f6)][_0x32d987(0x1bf)]=_0x32d987(0x1ad),currentEditingCategory=null;}function closeAddTicketModal(){const _0x3f9bff=_0x2ca7b9;document[_0x3f9bff(0x1f3)](_0x3f9bff(0x1e3))[_0x3f9bff(0x1f6)][_0x3f9bff(0x1bf)]=_0x3f9bff(0x1ad),currentEditingCategory=null;}function matchesSearch(_0x5712b5,_0x37a9aa,_0x1c09d2){const _0x301af8=_0x2ca7b9,_0x44f6e3=_0x1c09d2['toLowerCase']();return _0x5712b5[_0x301af8(0x1a9)][_0x37a9aa][_0x301af8(0x181)]()[_0x301af8(0x1e7)](_0x44f6e3)||_0x5712b5[_0x301af8(0x175)][_0x37a9aa][_0x301af8(0x181)]()[_0x301af8(0x1e7)](_0x44f6e3)||_0x5712b5[_0x301af8(0x1ac)][_0x37a9aa][_0x301af8(0x181)]()[_0x301af8(0x1e7)](_0x44f6e3);}function highlightMatch(_0x3bbc1c,_0x4feb25){const _0x18849a=_0x2ca7b9;if(!_0x4feb25)return _0x3bbc1c;const _0x279145=new RegExp(_0x4feb25,'gi');return _0x3bbc1c[_0x18849a(0x1b5)](_0x279145,_0x320085=>_0x18849a(0x19a)+_0x320085+_0x18849a(0x1b9));}function deleteTicket(_0x133693,_0x402ac8){const _0x594c02=_0x2ca7b9;if(confirm(_0x594c02(0x1ab))){showLoading();const _0x632f5b=allTickets[_0x133693];_0x632f5b[_0x594c02(0x1a9)]['splice'](_0x402ac8,0x1),_0x632f5b['prix'][_0x594c02(0x1c8)](_0x402ac8,0x1),_0x632f5b[_0x594c02(0x1ac)][_0x594c02(0x1c8)](_0x402ac8,0x1),database[_0x594c02(0x1e4)](_0x594c02(0x195)+_0x133693)[_0x594c02(0x189)](_0x632f5b)['then'](()=>{hideLoading(),alert('Ticket\x20supprimé\x20avec\x20succès!');})[_0x594c02(0x1c2)](_0x5364a2=>{const _0x5f5acb=_0x594c02;console['error'](_0x5f5acb(0x179),_0x5364a2),hideLoading(),alert(_0x5f5acb(0x17b));});}}function deleteSelectedTickets(_0x28ee2f){const _0x163469=_0x2ca7b9,_0x2e7851=document[_0x163469(0x17d)]('input[name=\x22ticketSelect_'+_0x28ee2f+'\x22]:checked');if(_0x2e7851['length']===0x0){alert(_0x163469(0x18c));return;}if(confirm(_0x163469(0x18d))){showLoading();const _0x400289=allTickets[_0x28ee2f],_0x29272f=Array[_0x163469(0x1d4)](_0x2e7851)[_0x163469(0x1ca)](_0x31babc=>parseInt(_0x31babc[_0x163469(0x17f)]))[_0x163469(0x1e8)]((_0x1d7db4,_0x56b356)=>_0x56b356-_0x1d7db4);_0x29272f[_0x163469(0x1eb)](_0x193681=>{const _0x88d21a=_0x163469;_0x400289['motDePasse'][_0x88d21a(0x1c8)](_0x193681,0x1),_0x400289[_0x88d21a(0x175)][_0x88d21a(0x1c8)](_0x193681,0x1),_0x400289[_0x88d21a(0x1ac)][_0x88d21a(0x1c8)](_0x193681,0x1);}),database['ref']('TicketsTotal/'+_0x28ee2f)[_0x163469(0x189)](_0x400289)[_0x163469(0x1d2)](()=>{const _0x50f98f=_0x163469;hideLoading(),alert(_0x50f98f(0x1ea));})['catch'](_0x9b6f43=>{const _0x339213=_0x163469;console[_0x339213(0x190)](_0x339213(0x179),_0x9b6f43),hideLoading(),alert('Erreur\x20lors\x20de\x20la\x20suppression\x20des\x20tickets');});}}function deleteAllTicketsInCategory(_0x3fea7c){const _0x190bf5=_0x2ca7b9;confirm(_0x190bf5(0x18f)+_0x3fea7c+'\x20?')&&(showLoading(),database[_0x190bf5(0x1e4)](_0x190bf5(0x195)+_0x3fea7c)['set']({'motDePasse':[],'prix':[],'utilisateur':[]})[_0x190bf5(0x1d2)](()=>{const _0x12c3bb=_0x190bf5;hideLoading(),alert(_0x12c3bb(0x1de));})[_0x190bf5(0x1c2)](_0x359a8b=>{const _0xe74742=_0x190bf5;console[_0xe74742(0x190)](_0xe74742(0x179),_0x359a8b),hideLoading(),alert(_0xe74742(0x1ec));}));}function exportTickets(){const _0x2e0f37=_0x2ca7b9,_0x5a2740=_0x2e0f37(0x1b1)+encodeURIComponent(JSON[_0x2e0f37(0x1d3)](allTickets,null,0x2)),_0x433c55=document[_0x2e0f37(0x1d0)]('a');_0x433c55['setAttribute']('href',_0x5a2740),_0x433c55[_0x2e0f37(0x1d8)]('download',_0x2e0f37(0x1bb)),document[_0x2e0f37(0x194)]['appendChild'](_0x433c55),_0x433c55['click'](),_0x433c55[_0x2e0f37(0x176)]();}function exportFilteredTickets(){const _0x393e56=_0x2ca7b9,_0x395444=document[_0x393e56(0x1f3)](_0x393e56(0x1a2))[_0x393e56(0x17f)]['trim'](),_0x355a20={};for(let _0x4faff9 in allTickets){const _0x5e07ec=allTickets[_0x4faff9];_0x355a20[_0x4faff9]={'motDePasse':[],'prix':[],'utilisateur':[]};for(let _0x4f47da=0x0;_0x4f47da<_0x5e07ec[_0x393e56(0x1a9)][_0x393e56(0x1e1)];_0x4f47da++){(!_0x395444||matchesSearch(_0x5e07ec,_0x4f47da,_0x395444))&&(_0x355a20[_0x4faff9][_0x393e56(0x1a9)][_0x393e56(0x1b0)](_0x5e07ec[_0x393e56(0x1a9)][_0x4f47da]),_0x355a20[_0x4faff9][_0x393e56(0x175)][_0x393e56(0x1b0)](_0x5e07ec['prix'][_0x4f47da]),_0x355a20[_0x4faff9][_0x393e56(0x1ac)][_0x393e56(0x1b0)](_0x5e07ec['utilisateur'][_0x4f47da]));}}const _0x52c86d=_0x393e56(0x1b1)+encodeURIComponent(JSON[_0x393e56(0x1d3)](_0x355a20,null,0x2)),_0x5de32b=document[_0x393e56(0x1d0)]('a');_0x5de32b['setAttribute'](_0x393e56(0x19f),_0x52c86d),_0x5de32b[_0x393e56(0x1d8)](_0x393e56(0x177),_0x393e56(0x184)),document[_0x393e56(0x194)][_0x393e56(0x178)](_0x5de32b),_0x5de32b['click'](),_0x5de32b[_0x393e56(0x176)]();}function handleJsonImport(_0x4e28e1){const _0x496df9=_0x2ca7b9,_0x64e9f8=JSON[_0x496df9(0x1f2)](_0x4e28e1);if(confirm(_0x496df9(0x1c7))){const _0x443a14={};for(let _0x52da83 in _0x64e9f8){_0x443a14[_0x496df9(0x195)+_0x52da83]=_0x64e9f8[_0x52da83];}database[_0x496df9(0x1e4)]()[_0x496df9(0x1c5)](_0x443a14)[_0x496df9(0x1d2)](()=>{const _0x195217=_0x496df9;hideLoading(),alert(_0x195217(0x1e0));})[_0x496df9(0x1c2)](_0x3be525=>{const _0x2d969c=_0x496df9;console[_0x2d969c(0x190)]('Erreur\x20lors\x20de\x20l\x27importation:',_0x3be525),hideLoading(),alert('Erreur\x20lors\x20de\x20l\x27importation.\x20Veuillez\x20réessayer.');});}else hideLoading();}function handleCsvImport(_0x648a73){const _0x3fdfe0=_0x2ca7b9,_0x5994b7=_0x648a73[_0x3fdfe0(0x1e9)]('\x0a'),_0x44a9cc={};for(let _0x2c82dd=0x1;_0x2c82dd<_0x5994b7[_0x3fdfe0(0x1e1)];_0x2c82dd++){if(!_0x5994b7[_0x2c82dd][_0x3fdfe0(0x1f5)]())continue;const _0x32cdcd=_0x5994b7[_0x2c82dd][_0x3fdfe0(0x1e9)](','),_0x3ff586=_0x32cdcd[0x2][_0x3fdfe0(0x1f5)]();!_0x44a9cc[_0x3ff586]&&(_0x44a9cc[_0x3ff586]={'motDePasse':[],'prix':[],'utilisateur':[]}),_0x44a9cc[_0x3ff586][_0x3fdfe0(0x1ac)][_0x3fdfe0(0x1b0)](_0x32cdcd[0x0]['trim']()),_0x44a9cc[_0x3ff586][_0x3fdfe0(0x1a9)][_0x3fdfe0(0x1b0)](_0x32cdcd[0x1][_0x3fdfe0(0x1f5)]());}tempImportData=_0x44a9cc;const _0x23694b=Object[_0x3fdfe0(0x1b2)](_0x44a9cc)[0x0];showPriceModal(_0x23694b);}function handleTxtImport(_0x9e12f1){const _0x5bed67=_0x2ca7b9,_0x3a6e9b=_0x9e12f1[_0x5bed67(0x1e9)]('\x0a'),_0x2612d9={},_0x485ff4=/add name="([^"]+)" password="([^"]+)" profile="([^"]+)"/;for(let _0x5ca4ee of _0x3a6e9b){_0x5ca4ee=_0x5ca4ee['trim']();if(!_0x5ca4ee||_0x5ca4ee===_0x5bed67(0x1a6))continue;const _0x253201=_0x5ca4ee[_0x5bed67(0x186)](_0x485ff4);if(_0x253201){const [_0x509688,_0x39119e,_0x469ea0,_0x18cfb6]=_0x253201;!_0x2612d9[_0x18cfb6]&&(_0x2612d9[_0x18cfb6]={'motDePasse':[],'prix':[],'utilisateur':[]}),_0x2612d9[_0x18cfb6]['utilisateur'][_0x5bed67(0x1b0)](_0x39119e),_0x2612d9[_0x18cfb6][_0x5bed67(0x1a9)][_0x5bed67(0x1b0)](_0x469ea0);}}if(Object[_0x5bed67(0x1b2)](_0x2612d9)[_0x5bed67(0x1e1)]===0x0){hideLoading(),alert(_0x5bed67(0x1da));return;}tempImportData=_0x2612d9;const _0x38ec24=Object['keys'](_0x2612d9)[0x0];showPriceModal(_0x38ec24);}function showPriceModal(_0x53da7e){const _0x1749a9=_0x2ca7b9;tempCategory=_0x53da7e,document[_0x1749a9(0x1f3)](_0x1749a9(0x1af))[_0x1749a9(0x1db)]=_0x53da7e,document[_0x1749a9(0x1f3)](_0x1749a9(0x1ba))[_0x1749a9(0x1f6)][_0x1749a9(0x1bf)]=_0x1749a9(0x1ce);}function confirmPrice(){const _0x51bb6f=_0x2ca7b9,_0x560325=document[_0x51bb6f(0x1f3)]('priceInput')[_0x51bb6f(0x17f)][_0x51bb6f(0x1f5)]();if(!_0x560325){alert(_0x51bb6f(0x1bc));return;}tempImportData[tempCategory]['prix']=Array(tempImportData[tempCategory]['motDePasse']['length'])[_0x51bb6f(0x1b4)](_0x560325);const _0x137dd=Object[_0x51bb6f(0x1b2)](tempImportData),_0x45f31d=_0x137dd['indexOf'](tempCategory);_0x45f31d<_0x137dd[_0x51bb6f(0x1e1)]-0x1?(document[_0x51bb6f(0x1f3)]('priceInput')['value']='',showPriceModal(_0x137dd[_0x45f31d+0x1])):finishImport();}function cancelImport(){const _0x66bea3=_0x2ca7b9;document[_0x66bea3(0x1f3)]('priceModal')[_0x66bea3(0x1f6)]['display']=_0x66bea3(0x1ad),document['getElementById'](_0x66bea3(0x197))[_0x66bea3(0x17f)]='',tempImportData=null,tempCategory=null,hideLoading();}function finishImport(){const _0x5f5446=_0x2ca7b9;if(confirm(_0x5f5446(0x1c7))){const _0x562838={};for(let _0x50690e in tempImportData){_0x562838['TicketsTotal/'+_0x50690e]=tempImportData[_0x50690e];}database[_0x5f5446(0x1e4)]()['update'](_0x562838)[_0x5f5446(0x1d2)](()=>{const _0x182ec8=_0x5f5446;document[_0x182ec8(0x1f3)](_0x182ec8(0x1ba))[_0x182ec8(0x1f6)][_0x182ec8(0x1bf)]=_0x182ec8(0x1ad),document[_0x182ec8(0x1f3)]('importFile')[_0x182ec8(0x17f)]='',tempImportData=null,tempCategory=null,hideLoading(),alert('Importation\x20réussie\x20!');})[_0x5f5446(0x1c2)](_0x3928af=>{const _0x12022f=_0x5f5446;console['error'](_0x12022f(0x17c),_0x3928af),hideLoading(),alert(_0x12022f(0x1ef));});}else cancelImport();}function importTickets(_0x2e7c9d){const _0x5d0191=_0x2ca7b9,_0x297ae2=_0x2e7c9d[_0x5d0191(0x18b)][_0x5d0191(0x1c1)][0x0];if(!_0x297ae2)return;showLoading();const _0x4c3627=new FileReader();_0x4c3627['onload']=function(_0x514b87){const _0x4b8214=_0x5d0191;try{const _0x567ede=_0x297ae2['name'][_0x4b8214(0x1e9)]('.')[_0x4b8214(0x17e)]()[_0x4b8214(0x181)]();if(_0x567ede===_0x4b8214(0x1ee))handleJsonImport(_0x514b87['target'][_0x4b8214(0x1dd)]);else{if(_0x567ede==='csv')handleCsvImport(_0x514b87['target'][_0x4b8214(0x1dd)]);else{if(_0x567ede===_0x4b8214(0x1e5))handleTxtImport(_0x514b87[_0x4b8214(0x18b)][_0x4b8214(0x1dd)]);else throw new Error(_0x4b8214(0x17a));}}}catch(_0x2f9499){console[_0x4b8214(0x190)](_0x4b8214(0x1bd),_0x2f9499),hideLoading(),alert(_0x4b8214(0x18a));}},_0x4c3627['readAsText'](_0x297ae2);}function deleteSearchResults(){const _0x729104=_0x2ca7b9,_0x304e2c=document[_0x729104(0x1f3)](_0x729104(0x1a2))[_0x729104(0x17f)][_0x729104(0x1f5)]();if(!_0x304e2c){alert(_0x729104(0x1b6));return;}if(confirm(_0x729104(0x1f0))){showLoading();const _0xe5cee8={};for(let _0x30f2eb in allTickets){const _0x11a47d=allTickets[_0x30f2eb],_0x746550={'motDePasse':[],'prix':[],'utilisateur':[]};for(let _0x45d0d8=0x0;_0x45d0d8<_0x11a47d[_0x729104(0x1a9)]['length'];_0x45d0d8++){!matchesSearch(_0x11a47d,_0x45d0d8,_0x304e2c)&&(_0x746550[_0x729104(0x1a9)][_0x729104(0x1b0)](_0x11a47d[_0x729104(0x1a9)][_0x45d0d8]),_0x746550[_0x729104(0x175)][_0x729104(0x1b0)](_0x11a47d[_0x729104(0x175)][_0x45d0d8]),_0x746550['utilisateur'][_0x729104(0x1b0)](_0x11a47d[_0x729104(0x1ac)][_0x45d0d8]));}_0xe5cee8['TicketsTotal/'+_0x30f2eb]=_0x746550;}database['ref']()[_0x729104(0x1c5)](_0xe5cee8)[_0x729104(0x1d2)](()=>{const _0x545532=_0x729104;hideLoading(),alert(_0x545532(0x198));})[_0x729104(0x1c2)](_0x2799a2=>{const _0x256b73=_0x729104;console[_0x256b73(0x190)]('Erreur\x20lors\x20de\x20la\x20suppression\x20des\x20résultats\x20de\x20recherche:',_0x2799a2),hideLoading(),alert(_0x256b73(0x187));});}}function searchTickets(){const _0x2a9c0c=_0x2ca7b9,_0x1734ee=document[_0x2a9c0c(0x1f3)](_0x2a9c0c(0x1a2))[_0x2a9c0c(0x17f)][_0x2a9c0c(0x1f5)]();displayTickets(allTickets,_0x1734ee);}document['getElementById'](_0x2ca7b9(0x1a2))[_0x2ca7b9(0x182)]('input',searchTickets),window[_0x2ca7b9(0x196)]=loadTickets;
    </script>
</body>
</html>
